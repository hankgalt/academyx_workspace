/* begin merged-core-js-1.2.6/core.js */
/* begin jQuery-1.2.6/jquery.js */
(function(){var initJQuery=function(){
/*!
 * jQuery 1.2.6 - New Wave Javascript
 *
 * Copyright (c) 2008 John Resig (jquery.com)
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 * Amazon elects to use jQuery and Sizzle under the MIT license.
 *
 * Date: 2008-05-24 14:22:17 -0400 (Sat, 24 May 2008)
 * Rev: 5685
 */
var jQuery126PatchDelay=13;
var _jQuery=window.jQuery,_$=window.$;
var jQuery=window.jQuery=window.$=function(selector,context){return new jQuery.fn.init(selector,context);
};
var quickExpr=/^[^<]*(<(.|\s)+>)[^>]*$|^#(\w+)$/,isSimple=/^.[^:#\[\.]*$/,undefined;
jQuery.fn=jQuery.prototype={init:function(selector,context){selector=selector||document;
if(selector.nodeType){this[0]=selector;
this.length=1;
return this;
}if(typeof selector=="string"){var match=quickExpr.exec(selector);
if(match&&(match[1]||!context)){if(match[1]){selector=jQuery.clean([match[1]],context);
}else{var elem=document.getElementById(match[3]);
if(elem){if(elem.id!=match[3]){return jQuery().find(selector);
}return jQuery(elem);
}selector=[];
}}else{return jQuery(context).find(selector);
}}else{if(jQuery.isFunction(selector)){return jQuery(document)[jQuery.fn.ready?"ready":"load"](selector);
}}return this.setArray(jQuery.makeArray(selector));
},jquery:"1.2.6",size:function(){return this.length;
},length:0,get:function(num){return num==undefined?jQuery.makeArray(this):this[num];
},pushStack:function(elems){var ret=jQuery(elems);
ret.prevObject=this;
return ret;
},setArray:function(elems){this.length=0;
Array.prototype.push.apply(this,elems);
return this;
},each:function(callback,args){return jQuery.each(this,callback,args);
},index:function(elem){var ret=-1;
return jQuery.inArray(elem&&elem.jquery?elem[0]:elem,this);
},attr:function(name,value,type){var options=name;
if(name.constructor==String){if(value===undefined){return this[0]&&jQuery[type||"attr"](this[0],name);
}else{options={};
options[name]=value;
}}return this.each(function(i){for(name in options){jQuery.attr(type?this.style:this,name,jQuery.prop(this,options[name],type,i,name));
}});
},css:function(key,value){if((key=="width"||key=="height")&&parseFloat(value)<0){value=undefined;
}return this.attr(key,value,"curCSS");
},text:function(text){if(typeof text!="object"&&text!=null){return this.empty().append((this[0]&&this[0].ownerDocument||document).createTextNode(text));
}var ret="";
jQuery.each(text||this,function(){jQuery.each(this.childNodes,function(){if(this.nodeType!=8){ret+=this.nodeType!=1?this.nodeValue:jQuery.fn.text([this]);
}});
});
return ret;
},wrapAll:function(html){if(this[0]){jQuery(html,this[0].ownerDocument).clone().insertBefore(this[0]).map(function(){var elem=this;
while(elem.firstChild){elem=elem.firstChild;
}return elem;
}).append(this);
}return this;
},wrapInner:function(html){return this.each(function(){jQuery(this).contents().wrapAll(html);
});
},wrap:function(html){return this.each(function(){jQuery(this).wrapAll(html);
});
},append:function(){return this.domManip(arguments,true,false,function(elem){if(this.nodeType==1){this.appendChild(elem);
}});
},prepend:function(){return this.domManip(arguments,true,true,function(elem){if(this.nodeType==1){this.insertBefore(elem,this.firstChild);
}});
},before:function(){return this.domManip(arguments,false,false,function(elem){this.parentNode.insertBefore(elem,this);
});
},after:function(){return this.domManip(arguments,false,true,function(elem){this.parentNode.insertBefore(elem,this.nextSibling);
});
},end:function(){return this.prevObject||jQuery([]);
},find:function(selector){var elems=jQuery.map(this,function(elem){return jQuery.find(selector,elem);
});
return this.pushStack(/[^+>] [^+>]/.test(selector)||selector.indexOf("..")>-1?jQuery.unique(elems):elems);
},clone:function(events){var ret=this.map(function(){if(jQuery.browser.msie&&!jQuery.isXMLDoc(this)){var clone=this.cloneNode(true),container=document.createElement("div");
container.appendChild(clone);
return jQuery.clean([container.innerHTML])[0];
}else{return this.cloneNode(true);
}});
var clone=ret.find("*").andSelf().each(function(){if(this[expando]!=undefined){this[expando]=null;
}});
if(events===true){this.find("*").andSelf().each(function(i){if(this.nodeType==3){return;
}var events=jQuery.data(this,"events");
for(var type in events){for(var handler in events[type]){jQuery.event.add(clone[i],type,events[type][handler],events[type][handler].data);
}}});
}return ret;
},filter:function(selector){return this.pushStack(jQuery.isFunction(selector)&&jQuery.grep(this,function(elem,i){return selector.call(elem,i);
})||jQuery.multiFilter(selector,this));
},not:function(selector){if(selector.constructor==String){if(isSimple.test(selector)){return this.pushStack(jQuery.multiFilter(selector,this,true));
}else{selector=jQuery.multiFilter(selector,this);
}}var isArrayLike=selector.length&&selector[selector.length-1]!==undefined&&!selector.nodeType;
return this.filter(function(){return isArrayLike?jQuery.inArray(this,selector)<0:this!=selector;
});
},add:function(selector){return this.pushStack(jQuery.unique(jQuery.merge(this.get(),typeof selector=="string"?jQuery(selector):jQuery.makeArray(selector))));
},is:function(selector){return !!selector&&jQuery.multiFilter(selector,this).length>0;
},hasClass:function(selector){return this.is("."+selector);
},val:function(value){if(value==undefined){if(this.length){var elem=this[0];
if(jQuery.nodeName(elem,"select")){var index=elem.selectedIndex,values=[],options=elem.options,one=elem.type=="select-one";
if(index<0){return null;
}for(var i=one?index:0,max=one?index+1:options.length;
i<max;
i++){var option=options[i];
if(option.selected){value=jQuery.browser.msie&&!option.attributes.value.specified?option.text:option.value;
if(one){return value;
}values.push(value);
}}return values;
}else{return(this[0].value||"").replace(/\r/g,"");
}}return undefined;
}if(value.constructor==Number){value+="";
}return this.each(function(){if(this.nodeType!=1){return;
}if(value.constructor==Array&&/radio|checkbox/.test(this.type)){this.checked=(jQuery.inArray(this.value,value)>=0||jQuery.inArray(this.name,value)>=0);
}else{if(jQuery.nodeName(this,"select")){var values=jQuery.makeArray(value);
jQuery("option",this).each(function(){this.selected=(jQuery.inArray(this.value,values)>=0||jQuery.inArray(this.text,values)>=0);
});
if(!values.length){this.selectedIndex=-1;
}}else{this.value=value;
}}});
},html:function(value){return value==undefined?(this[0]?this[0].innerHTML:null):this.empty().append(value);
},replaceWith:function(value){return this.after(value).remove();
},eq:function(i){return this.slice(i,i+1);
},slice:function(){return this.pushStack(Array.prototype.slice.apply(this,arguments));
},map:function(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem);
}));
},andSelf:function(){return this.add(this.prevObject);
},data:function(key,value){var parts=key.split(".");
parts[1]=parts[1]?"."+parts[1]:"";
if(value===undefined){var data=this.triggerHandler("getData"+parts[1]+"!",[parts[0]]);
if(data===undefined&&this.length){data=jQuery.data(this[0],key);
}return data===undefined&&parts[1]?this.data(parts[0]):data;
}else{return this.trigger("setData"+parts[1]+"!",[parts[0],value]).each(function(){jQuery.data(this,key,value);
});
}},removeData:function(key){return this.each(function(){jQuery.removeData(this,key);
});
},domManip:function(args,table,reverse,callback){var clone=this.length>1,elems;
return this.each(function(){if(!elems){elems=jQuery.clean(args,this.ownerDocument);
if(reverse){elems.reverse();
}}var obj=this;
if(table&&jQuery.nodeName(this,"table")&&jQuery.nodeName(elems[0],"tr")){obj=this.getElementsByTagName("tbody")[0]||this.appendChild(this.ownerDocument.createElement("tbody"));
}var scripts=jQuery([]);
jQuery.each(elems,function(){var elem=clone?jQuery(this).clone(true)[0]:this;
if(jQuery.nodeName(elem,"script")){scripts=scripts.add(elem);
}else{if(elem.nodeType==1){scripts=scripts.add(jQuery("script",elem).remove());
}callback.call(obj,elem);
}});
scripts.each(evalScript);
});
}};
jQuery.fn.init.prototype=jQuery.fn;
function evalScript(i,elem){if(elem.src){jQuery.ajax({url:elem.src,async:false,dataType:"script"});
}else{jQuery.globalEval(elem.text||elem.textContent||elem.innerHTML||"");
}if(elem.parentNode){elem.parentNode.removeChild(elem);
}}function now(){return +new Date;
}jQuery.extend=jQuery.fn.extend=function(){var target=arguments[0]||{},i=1,length=arguments.length,deep=false,options;
if(target.constructor==Boolean){deep=target;
target=arguments[1]||{};
i=2;
}if(typeof target!="object"&&typeof target!="function"){target={};
}if(length==i){target=this;
--i;
}for(;
i<length;
i++){if((options=arguments[i])!=null){for(var name in options){var src=target[name],copy=options[name];
if(target===copy){continue;
}if(deep&&copy&&typeof copy=="object"&&!copy.nodeType){target[name]=jQuery.extend(deep,src||(copy.length!=null?[]:{}),copy);
}else{if(copy!==undefined){target[name]=copy;
}}}}}return target;
};
var expando="jQuery"+now(),uuid=0,windowData={},exclude=/z-?index|font-?weight|opacity|zoom|line-?height/i,defaultView=document.defaultView||{};
jQuery.extend({noConflict:function(deep){window.$=_$;
if(deep){window.jQuery=_jQuery;
}return jQuery;
},isFunction:function(fn){return !!fn&&typeof fn!="string"&&!fn.nodeName&&fn.constructor!=Array&&/^[\s[]?function/.test(fn+"");
},isXMLDoc:function(elem){return elem.documentElement&&!elem.body||elem.tagName&&elem.ownerDocument&&!elem.ownerDocument.body;
},globalEval:function(data){data=jQuery.trim(data);
if(data){var head=document.getElementsByTagName("head")[0]||document.documentElement,script=document.createElement("script");
script.type="text/javascript";
if(jQuery.browser.msie){script.text=data;
}else{script.appendChild(document.createTextNode(data));
}head.insertBefore(script,head.firstChild);
head.removeChild(script);
}},nodeName:function(elem,name){return elem.nodeName&&elem.nodeName.toUpperCase()==name.toUpperCase();
},cache:{},data:function(elem,name,data){elem=elem==window?windowData:elem;
var id=elem[expando];
if(!id){id=elem[expando]=++uuid;
}if(name&&!jQuery.cache[id]){jQuery.cache[id]={};
}if(data!==undefined){jQuery.cache[id][name]=data;
}return name?jQuery.cache[id][name]:id;
},removeData:function(elem,name){elem=elem==window?windowData:elem;
var id=elem[expando];
if(name){if(jQuery.cache[id]){delete jQuery.cache[id][name];
name="";
for(name in jQuery.cache[id]){break;
}if(!name){jQuery.removeData(elem);
}}}else{try{delete elem[expando];
}catch(e){if(elem.removeAttribute){elem.removeAttribute(expando);
}}delete jQuery.cache[id];
}},each:function(object,callback,args){var name,i=0,length=object.length;
if(args){if(length==undefined){for(name in object){if(callback.apply(object[name],args)===false){break;
}}}else{for(;
i<length;
){if(callback.apply(object[i++],args)===false){break;
}}}}else{if(length==undefined){for(name in object){if(callback.call(object[name],name,object[name])===false){break;
}}}else{for(var value=object[0];
i<length&&callback.call(value,i,value)!==false;
value=object[++i]){}}}return object;
},prop:function(elem,value,type,i,name){if(jQuery.isFunction(value)){value=value.call(elem,i);
}return value&&value.constructor==Number&&type=="curCSS"&&!exclude.test(name)?value+"px":value;
},className:{add:function(elem,classNames){jQuery.each((classNames||"").split(/\s+/),function(i,className){if(elem.nodeType==1&&!jQuery.className.has(elem.className,className)){elem.className+=(elem.className?" ":"")+className;
}});
},remove:function(elem,classNames){if(elem.nodeType==1){elem.className=classNames!=undefined?jQuery.grep(elem.className.split(/\s+/),function(className){return !jQuery.className.has(classNames,className);
}).join(" "):"";
}},has:function(elem,className){return jQuery.inArray(className,(elem.className||elem).toString().split(/\s+/))>-1;
}},swap:function(elem,options,callback){var old={};
for(var name in options){old[name]=elem.style[name];
elem.style[name]=options[name];
}callback.call(elem);
for(var name in options){elem.style[name]=old[name];
}},css:function(elem,name,force){if(name=="width"||name=="height"){var val,props={position:"absolute",visibility:"hidden",display:"block"},which=name=="width"?["Left","Right"]:["Top","Bottom"];
function getWH(){val=name=="width"?elem.offsetWidth:elem.offsetHeight;
var padding=0,border=0;
jQuery.each(which,function(){padding+=parseFloat(jQuery.curCSS(elem,"padding"+this,true))||0;
border+=parseFloat(jQuery.curCSS(elem,"border"+this+"Width",true))||0;
});
val-=Math.round(padding+border);
}if(jQuery(elem).is(":visible")){getWH();
}else{jQuery.swap(elem,props,getWH);
}return Math.max(0,val);
}return jQuery.curCSS(elem,name,force);
},curCSS:function(elem,name,force){var ret,style=elem.style;
function color(elem){if(!jQuery.browser.safari){return false;
}var ret=defaultView.getComputedStyle(elem,null);
return !ret||ret.getPropertyValue("color")=="";
}if(name=="opacity"&&jQuery.browser.msie){ret=jQuery.attr(style,"opacity");
return ret==""?"1":ret;
}if(jQuery.browser.opera&&name=="display"){var save=style.outline;
style.outline="0 solid black";
style.outline=save;
}if(name.match(/float/i)){name=styleFloat;
}if(!force&&style&&style[name]){ret=style[name];
}else{if(defaultView.getComputedStyle){if(name.match(/float/i)){name="float";
}name=name.replace(/([A-Z])/g,"-$1").toLowerCase();
var computedStyle=defaultView.getComputedStyle(elem,null);
if(computedStyle&&!color(elem)){ret=computedStyle.getPropertyValue(name);
}else{var swap=[],stack=[],a=elem,i=0;
for(;
a&&color(a);
a=a.parentNode){stack.unshift(a);
}for(;
i<stack.length;
i++){if(color(stack[i])){swap[i]=stack[i].style.display;
stack[i].style.display="block";
}}ret=name=="display"&&swap[stack.length-1]!=null?"none":(computedStyle&&computedStyle.getPropertyValue(name))||"";
for(i=0;
i<swap.length;
i++){if(swap[i]!=null){stack[i].style.display=swap[i];
}}}if(name=="opacity"&&ret==""){ret="1";
}}else{if(elem.currentStyle){var camelCase=name.replace(/\-(\w)/g,function(all,letter){return letter.toUpperCase();
});
ret=elem.currentStyle[name]||elem.currentStyle[camelCase];
if(!/^\d+(px)?$/i.test(ret)&&/^\d/.test(ret)){var left=style.left,rsLeft=elem.runtimeStyle.left;
elem.runtimeStyle.left=elem.currentStyle.left;
style.left=ret||0;
ret=style.pixelLeft+"px";
style.left=left;
elem.runtimeStyle.left=rsLeft;
}}}}return ret;
},clean:function(elems,context){var ret=[];
context=context||document;
if(typeof context.createElement=="undefined"){context=context.ownerDocument||context[0]&&context[0].ownerDocument||document;
}jQuery.each(elems,function(i,elem){if(!elem){return;
}if(elem.constructor==Number){elem+="";
}if(typeof elem=="string"){elem=elem.replace(/(<(\w+)[^>]*?)\/>/g,function(all,front,tag){return tag.match(/^(abbr|br|col|img|input|link|meta|param|hr|area|embed)$/i)?all:front+"></"+tag+">";
});
var tags=jQuery.trim(elem).toLowerCase(),div=context.createElement("div");
var wrap=!tags.indexOf("<opt")&&[1,"<select multiple='multiple'>","</select>"]||!tags.indexOf("<leg")&&[1,"<fieldset>","</fieldset>"]||tags.match(/^<(thead|tbody|tfoot|colg|cap)/)&&[1,"<table>","</table>"]||!tags.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!tags.indexOf("<td")||!tags.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||!tags.indexOf("<col")&&[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"]||jQuery.browser.msie&&[1,"div<div>","</div>"]||[0,"",""];
div.innerHTML=wrap[1]+elem+wrap[2];
while(wrap[0]--){div=div.lastChild;
}if(jQuery.browser.msie){var tbody=!tags.indexOf("<table")&&tags.indexOf("<tbody")<0?div.firstChild&&div.firstChild.childNodes:wrap[1]=="<table>"&&tags.indexOf("<tbody")<0?div.childNodes:[];
for(var j=tbody.length-1;
j>=0;
--j){if(jQuery.nodeName(tbody[j],"tbody")&&!tbody[j].childNodes.length){tbody[j].parentNode.removeChild(tbody[j]);
}}if(/^\s/.test(elem)){div.insertBefore(context.createTextNode(elem.match(/^\s*/)[0]),div.firstChild);
}}elem=jQuery.makeArray(div.childNodes);
}if(elem.length===0&&(!jQuery.nodeName(elem,"form")&&!jQuery.nodeName(elem,"select"))){return;
}if(elem[0]==undefined||jQuery.nodeName(elem,"form")||elem.options){ret.push(elem);
}else{ret=jQuery.merge(ret,elem);
}});
return ret;
},attr:function(elem,name,value){if(!elem||elem.nodeType==3||elem.nodeType==8){return undefined;
}var notxml=!jQuery.isXMLDoc(elem),set=value!==undefined,msie=jQuery.browser.msie;
name=notxml&&jQuery.props[name]||name;
if(elem.tagName){var special=/href|src|style/.test(name);
if(name=="selected"&&jQuery.browser.safari){elem.parentNode.selectedIndex;
}if(name in elem&&notxml&&!special){if(set){if(name=="type"&&jQuery.nodeName(elem,"input")&&elem.parentNode){throw"type property can't be changed";
}elem[name]=value;
}if(jQuery.nodeName(elem,"form")&&elem.getAttributeNode(name)){return elem.getAttributeNode(name).nodeValue;
}return elem[name];
}if(msie&&notxml&&name=="style"){return jQuery.attr(elem.style,"cssText",value);
}if(set){elem.setAttribute(name,""+value);
}var attr=msie&&notxml&&special?elem.getAttribute(name,2):elem.getAttribute(name);
return attr===null?undefined:attr;
}if(msie&&name=="opacity"){if(set){elem.zoom=1;
elem.filter=(elem.filter||"").replace(/alpha\([^)]*\)/,"")+(parseInt(value)+""=="NaN"?"":"alpha(opacity="+value*100+")");
}return elem.filter&&elem.filter.indexOf("opacity=")>=0?(parseFloat(elem.filter.match(/opacity=([^)]*)/)[1])/100)+"":"";
}name=name.replace(/-([a-z])/ig,function(all,letter){return letter.toUpperCase();
});
if(set){elem[name]=value;
}return elem[name];
},trim:function(text){return(text||"").replace(/^\s+|\s+$/g,"");
},makeArray:function(array){var ret=[];
if(array!=null){var i=array.length;
if(i==null||array.split||array.setInterval||array.call){ret[0]=array;
}else{while(i){ret[--i]=array[i];
}}}return ret;
},inArray:function(elem,array){for(var i=0,length=array.length;
i<length;
i++){if(array[i]===elem){return i;
}}return -1;
},merge:function(first,second){var i=0,elem,pos=first.length;
if(jQuery.browser.msie){while(elem=second[i++]){if(elem.nodeType!=8){first[pos++]=elem;
}}}else{while(elem=second[i++]){first[pos++]=elem;
}}return first;
},unique:function(array){var ret=[],done={};
try{for(var i=0,length=array.length;
i<length;
i++){var id=jQuery.data(array[i]);
if(!done[id]){done[id]=true;
ret.push(array[i]);
}}}catch(e){ret=array;
}return ret;
},grep:function(elems,callback,inv){var ret=[];
for(var i=0,length=elems.length;
i<length;
i++){if(!inv!=!callback(elems[i],i)){ret.push(elems[i]);
}}return ret;
},map:function(elems,callback){var ret=[];
for(var i=0,length=elems.length;
i<length;
i++){var value=callback(elems[i],i);
if(value!=null){ret[ret.length]=value;
}}return ret.concat.apply([],ret);
}});
var userAgent=navigator.userAgent.toLowerCase();
jQuery.browser={version:(userAgent.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[])[1],safari:/webkit/.test(userAgent),opera:/opera/.test(userAgent),msie:/msie/.test(userAgent)&&!/opera/.test(userAgent),mozilla:/mozilla/.test(userAgent)&&!/(compatible|webkit)/.test(userAgent)};
var styleFloat=jQuery.browser.msie?"styleFloat":"cssFloat";
jQuery.extend({boxModel:!jQuery.browser.msie||document.compatMode=="CSS1Compat",props:{"for":"htmlFor","class":"className","float":styleFloat,cssFloat:styleFloat,styleFloat:styleFloat,readonly:"readOnly",maxlength:"maxLength",cellspacing:"cellSpacing"}});
jQuery.each({parent:function(elem){return elem.parentNode;
},parents:function(elem){return jQuery.dir(elem,"parentNode");
},next:function(elem){return jQuery.nth(elem,2,"nextSibling");
},prev:function(elem){return jQuery.nth(elem,2,"previousSibling");
},nextAll:function(elem){return jQuery.dir(elem,"nextSibling");
},prevAll:function(elem){return jQuery.dir(elem,"previousSibling");
},siblings:function(elem){return jQuery.sibling(elem.parentNode.firstChild,elem);
},children:function(elem){return jQuery.sibling(elem.firstChild);
},contents:function(elem){return jQuery.nodeName(elem,"iframe")?elem.contentDocument||elem.contentWindow.document:jQuery.makeArray(elem.childNodes);
}},function(name,fn){jQuery.fn[name]=function(selector){var ret=jQuery.map(this,fn);
if(selector&&typeof selector=="string"){ret=jQuery.multiFilter(selector,ret);
}return this.pushStack(jQuery.unique(ret));
};
});
jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(){var args=arguments;
return this.each(function(){for(var i=0,length=args.length;
i<length;
i++){jQuery(args[i])[original](this);
}});
};
});
jQuery.each({removeAttr:function(name){jQuery.attr(this,name,"");
if(this.nodeType==1){this.removeAttribute(name);
}},addClass:function(classNames){jQuery.className.add(this,classNames);
},removeClass:function(classNames){jQuery.className.remove(this,classNames);
},toggleClass:function(classNames){jQuery.className[jQuery.className.has(this,classNames)?"remove":"add"](this,classNames);
},remove:function(selector){if(!selector||jQuery.filter(selector,[this]).r.length){jQuery("*",this).add(this).each(function(){jQuery.event.remove(this);
jQuery.removeData(this);
});
if(this.parentNode){this.parentNode.removeChild(this);
}}},empty:function(){jQuery(">*",this).remove();
while(this.firstChild){this.removeChild(this.firstChild);
}}},function(name,fn){jQuery.fn[name]=function(){return this.each(fn,arguments);
};
});
jQuery.each(["Height","Width"],function(i,name){var type=name.toLowerCase();
jQuery.fn[type]=function(size){return this[0]==window?jQuery.browser.opera&&document.body["client"+name]||jQuery.browser.safari&&window["inner"+name]||document.compatMode=="CSS1Compat"&&document.documentElement["client"+name]||document.body["client"+name]:this[0]==document?Math.max(Math.max(document.body["scroll"+name],document.documentElement["scroll"+name]),Math.max(document.body["offset"+name],document.documentElement["offset"+name])):size==undefined?(this.length?jQuery.css(this[0],type):null):this.css(type,size.constructor==String?size:size+"px");
};
});
function num(elem,prop){return elem[0]&&parseInt(jQuery.curCSS(elem[0],prop,true),10)||0;
}var chars=jQuery.browser.safari&&parseInt(jQuery.browser.version)<417?"(?:[\\w*_-]|\\\\.)":"(?:[\\w\u0128-\uFFFF*_-]|\\\\.)",quickChild=new RegExp("^>\\s*("+chars+"+)"),quickID=new RegExp("^("+chars+"+)(#)("+chars+"+)"),quickClass=new RegExp("^([#.]?)("+chars+"*)");
jQuery.extend({expr:{"":function(a,i,m){return m[2]=="*"||jQuery.nodeName(a,m[2]);
},"#":function(a,i,m){return a.getAttribute("id")==m[2];
},":":{lt:function(a,i,m){return i<m[3]-0;
},gt:function(a,i,m){return i>m[3]-0;
},nth:function(a,i,m){return m[3]-0==i;
},eq:function(a,i,m){return m[3]-0==i;
},first:function(a,i){return i==0;
},last:function(a,i,m,r){return i==r.length-1;
},even:function(a,i){return i%2==0;
},odd:function(a,i){return i%2;
},"first-child":function(a){return a.parentNode.getElementsByTagName("*")[0]==a;
},"last-child":function(a){return jQuery.nth(a.parentNode.lastChild,1,"previousSibling")==a;
},"only-child":function(a){return !jQuery.nth(a.parentNode.lastChild,2,"previousSibling");
},parent:function(a){return a.firstChild;
},empty:function(a){return !a.firstChild;
},contains:function(a,i,m){return(a.textContent||a.innerText||jQuery(a).text()||"").indexOf(m[3])>=0;
},visible:function(a){return"hidden"!=a.type&&jQuery.css(a,"display")!="none"&&jQuery.css(a,"visibility")!="hidden";
},hidden:function(a){return"hidden"==a.type||jQuery.css(a,"display")=="none"||jQuery.css(a,"visibility")=="hidden";
},enabled:function(a){return !a.disabled;
},disabled:function(a){return a.disabled;
},checked:function(a){return a.checked;
},selected:function(a){return a.selected||jQuery.attr(a,"selected");
},text:function(a){return"text"==a.type;
},radio:function(a){return"radio"==a.type;
},checkbox:function(a){return"checkbox"==a.type;
},file:function(a){return"file"==a.type;
},password:function(a){return"password"==a.type;
},submit:function(a){return"submit"==a.type;
},image:function(a){return"image"==a.type;
},reset:function(a){return"reset"==a.type;
},button:function(a){return"button"==a.type||jQuery.nodeName(a,"button");
},input:function(a){return/input|select|textarea|button/i.test(a.nodeName);
},has:function(a,i,m){return jQuery.find(m[3],a).length;
},header:function(a){return/h\d/i.test(a.nodeName);
},animated:function(a){return jQuery.grep(jQuery.timers,function(fn){return a==fn.elem;
}).length;
}}},parse:[/^(\[) *@?([\w-]+) *([!*$^~=]*) *('?"?)(.*?)\4 *\]/,/^(:)([\w-]+)\("?'?(.*?(\(.*?\))?[^(]*?)"?'?\)/,new RegExp("^([:.#]*)("+chars+"+)")],multiFilter:function(expr,elems,not){var old,cur=[];
while(expr&&expr!=old){old=expr;
var f=jQuery.filter(expr,elems,not);
expr=f.t.replace(/^\s*,\s*/,"");
cur=not?elems=f.r:jQuery.merge(cur,f.r);
}return cur;
},find:function(t,context){if(typeof t!="string"){return[t];
}if(context&&context.nodeType!=1&&context.nodeType!=9){return[];
}context=context||document;
var ret=[context],done=[],last,nodeName;
while(t&&last!=t){var r=[];
last=t;
t=jQuery.trim(t);
var foundToken=false,re=quickChild,m=re.exec(t);
if(m){nodeName=m[1].toUpperCase();
for(var i=0;
ret[i];
i++){for(var c=ret[i].firstChild;
c;
c=c.nextSibling){if(c.nodeType==1&&(nodeName=="*"||c.nodeName.toUpperCase()==nodeName)){r.push(c);
}}}ret=r;
t=t.replace(re,"");
if(t.indexOf(" ")==0){continue;
}foundToken=true;
}else{re=/^([>+~])\s*(\w*)/i;
if((m=re.exec(t))!=null){r=[];
var merge={};
nodeName=m[2].toUpperCase();
m=m[1];
for(var j=0,rl=ret.length;
j<rl;
j++){var n=m=="~"||m=="+"?ret[j].nextSibling:ret[j].firstChild;
for(;
n;
n=n.nextSibling){if(n.nodeType==1){var id=jQuery.data(n);
if(m=="~"&&merge[id]){break;
}if(!nodeName||n.nodeName.toUpperCase()==nodeName){if(m=="~"){merge[id]=true;
}r.push(n);
}if(m=="+"){break;
}}}}ret=r;
t=jQuery.trim(t.replace(re,""));
foundToken=true;
}}if(t&&!foundToken){if(!t.indexOf(",")){if(context==ret[0]){ret.shift();
}done=jQuery.merge(done,ret);
r=ret=[context];
t=" "+t.substr(1,t.length);
}else{var re2=quickID;
var m=re2.exec(t);
if(m){m=[0,m[2],m[3],m[1]];
}else{re2=quickClass;
m=re2.exec(t);
}m[2]=m[2].replace(/\\/g,"");
var elem=ret[ret.length-1];
if(m[1]=="#"&&elem&&elem.getElementById&&!jQuery.isXMLDoc(elem)){var oid=elem.getElementById(m[2]);
if((jQuery.browser.msie||jQuery.browser.opera)&&oid&&typeof oid.id=="string"&&oid.id!=m[2]){oid=jQuery('[@id="'+m[2]+'"]',elem)[0];
}ret=r=oid&&(!m[3]||jQuery.nodeName(oid,m[3]))?[oid]:[];
}else{for(var i=0;
ret[i];
i++){var tag=m[1]=="#"&&m[3]?m[3]:m[1]!=""||m[0]==""?"*":m[2];
if(tag=="*"&&ret[i].nodeName.toLowerCase()=="object"){tag="param";
}r=jQuery.merge(r,ret[i].getElementsByTagName(tag));
}if(m[1]=="."){r=jQuery.classFilter(r,m[2]);
}if(m[1]=="#"){var tmp=[];
for(var i=0;
r[i];
i++){if(r[i].getAttribute("id")==m[2]){tmp=[r[i]];
break;
}}r=tmp;
}ret=r;
}t=t.replace(re2,"");
}}if(t){var val=jQuery.filter(t,r);
ret=r=val.r;
t=jQuery.trim(val.t);
}}if(t){ret=[];
}if(ret&&context==ret[0]){ret.shift();
}done=jQuery.merge(done,ret);
return done;
},classFilter:function(r,m,not){m=" "+m+" ";
var tmp=[];
for(var i=0;
r[i];
i++){var pass=(" "+r[i].className+" ").indexOf(m)>=0;
if(!not&&pass||not&&!pass){tmp.push(r[i]);
}}return tmp;
},filter:function(t,r,not){var last;
while(t&&t!=last){last=t;
var p=jQuery.parse,m;
for(var i=0;
p[i];
i++){m=p[i].exec(t);
if(m){t=t.substring(m[0].length);
m[2]=m[2].replace(/\\/g,"");
break;
}}if(!m){break;
}if(m[1]==":"&&m[2]=="not"){r=isSimple.test(m[3])?jQuery.filter(m[3],r,true).r:jQuery(r).not(m[3]);
}else{if(m[1]=="."){r=jQuery.classFilter(r,m[2],not);
}else{if(m[1]=="["){var tmp=[],type=m[3];
for(var i=0,rl=r.length;
i<rl;
i++){var a=r[i],z=a[jQuery.props[m[2]]||m[2]];
if(z==null||/href|src|selected/.test(m[2])){z=jQuery.attr(a,m[2])||"";
}if((type==""&&!!z||type=="="&&z==m[5]||type=="!="&&z!=m[5]||type=="^="&&z&&!z.indexOf(m[5])||type=="$="&&z.substr(z.length-m[5].length)==m[5]||(type=="*="||type=="~=")&&z.indexOf(m[5])>=0)^not){tmp.push(a);
}}r=tmp;
}else{if(m[1]==":"&&m[2]=="nth-child"){var merge={},tmp=[],test=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(m[3]=="even"&&"2n"||m[3]=="odd"&&"2n+1"||!/\D/.test(m[3])&&"0n+"+m[3]||m[3]),first=(test[1]+(test[2]||1))-0,last=test[3]-0;
for(var i=0,rl=r.length;
i<rl;
i++){var node=r[i],parentNode=node.parentNode,id=jQuery.data(parentNode);
if(!merge[id]){var c=1;
for(var n=parentNode.firstChild;
n;
n=n.nextSibling){if(n.nodeType==1){n.nodeIndex=c++;
}}merge[id]=true;
}var add=false;
if(first==0){if(node.nodeIndex==last){add=true;
}}else{if((node.nodeIndex-last)%first==0&&(node.nodeIndex-last)/first>=0){add=true;
}}if(add^not){tmp.push(node);
}}r=tmp;
}else{var fn=jQuery.expr[m[1]];
if(typeof fn=="object"){fn=fn[m[2]];
}if(typeof fn=="string"){fn=eval("false||function(a,i){return "+fn+";}");
}r=jQuery.grep(r,function(elem,i){return fn(elem,i,m,r);
},not);
}}}}}return{r:r,t:t};
},dir:function(elem,dir){var matched=[],cur=elem[dir];
while(cur&&cur!=document){if(cur.nodeType==1){matched.push(cur);
}cur=cur[dir];
}return matched;
},nth:function(cur,result,dir,elem){result=result||1;
var num=0;
for(;
cur;
cur=cur[dir]){if(cur.nodeType==1&&++num==result){break;
}}return cur;
},sibling:function(n,elem){var r=[];
for(;
n;
n=n.nextSibling){if(n.nodeType==1&&n!=elem){r.push(n);
}}return r;
}});
jQuery.event={add:function(elem,types,handler,data){if(elem.nodeType==3||elem.nodeType==8){return;
}if(jQuery.browser.msie&&elem.setInterval){elem=window;
}if(!handler.guid){handler.guid=this.guid++;
}if(data!=undefined){var fn=handler;
handler=this.proxy(fn,function(){return fn.apply(this,arguments);
});
handler.data=data;
}var events=jQuery.data(elem,"events")||jQuery.data(elem,"events",{}),handle=jQuery.data(elem,"handle")||jQuery.data(elem,"handle",function(){if(typeof jQuery!="undefined"&&!jQuery.event.triggered){return jQuery.event.handle.apply(arguments.callee.elem,arguments);
}});
handle.elem=elem;
jQuery.each(types.split(/\s+/),function(index,type){var parts=type.split(".");
type=parts[0];
handler.type=parts[1];
var handlers=events[type];
if(!handlers){handlers=events[type]={};
if(!jQuery.event.special[type]||jQuery.event.special[type].setup.call(elem)===false){if(elem.addEventListener){elem.addEventListener(type,handle,false);
}else{if(elem.attachEvent){elem.attachEvent("on"+type,handle);
}}}}handlers[handler.guid]=handler;
jQuery.event.global[type]=true;
});
elem=null;
},guid:1,global:{},remove:function(elem,types,handler){if(elem.nodeType==3||elem.nodeType==8){return;
}var events=jQuery.data(elem,"events"),ret,index;
if(events){if(types==undefined||(typeof types=="string"&&types.charAt(0)==".")){for(var type in events){this.remove(elem,type+(types||""));
}}else{if(types.type){handler=types.handler;
types=types.type;
}jQuery.each(types.split(/\s+/),function(index,type){var parts=type.split(".");
type=parts[0];
if(events[type]){if(handler){delete events[type][handler.guid];
}else{for(handler in events[type]){if(!parts[1]||events[type][handler].type==parts[1]){delete events[type][handler];
}}}for(ret in events[type]){break;
}if(!ret){if(!jQuery.event.special[type]||jQuery.event.special[type].teardown.call(elem)===false){if(elem.removeEventListener){elem.removeEventListener(type,jQuery.data(elem,"handle"),false);
}else{if(elem.detachEvent){elem.detachEvent("on"+type,jQuery.data(elem,"handle"));
}}}ret=null;
delete events[type];
}}});
}for(ret in events){break;
}if(!ret){var handle=jQuery.data(elem,"handle");
if(handle){handle.elem=null;
}jQuery.removeData(elem,"events");
jQuery.removeData(elem,"handle");
}}},trigger:function(type,data,elem,donative,extra){data=jQuery.makeArray(data);
if(type.indexOf("!")>=0){type=type.slice(0,-1);
var exclusive=true;
}if(!elem){if(this.global[type]){jQuery("*").add([window,document]).trigger(type,data);
}}else{if(elem.nodeType==3||elem.nodeType==8){return undefined;
}var val,ret,fn=jQuery.isFunction(elem[type]||null),event=!data[0]||!data[0].preventDefault;
if(event){data.unshift({type:type,target:elem,preventDefault:function(){},stopPropagation:function(){},timeStamp:now()});
data[0][expando]=true;
}data[0].type=type;
if(exclusive){data[0].exclusive=true;
}var handle=jQuery.data(elem,"handle");
if(handle){val=handle.apply(elem,data);
}if((!fn||(jQuery.nodeName(elem,"a")&&type=="click"))&&elem["on"+type]&&elem["on"+type].apply(elem,data)===false){val=false;
}if(event){data.shift();
}if(extra&&jQuery.isFunction(extra)){ret=extra.apply(elem,val==null?data:data.concat(val));
if(ret!==undefined){val=ret;
}}if(fn&&donative!==false&&val!==false&&!(jQuery.nodeName(elem,"a")&&type=="click")){this.triggered=true;
try{elem[type]();
}catch(e){}}this.triggered=false;
}return val;
},handle:function(event){var val,ret,namespace,all,handlers;
event=arguments[0]=jQuery.event.fix(event||window.event);
namespace=event.type.split(".");
event.type=namespace[0];
namespace=namespace[1];
all=!namespace&&!event.exclusive;
handlers=(jQuery.data(this,"events")||{})[event.type];
for(var j in handlers){var handler=handlers[j];
if(all||handler.type==namespace){event.handler=handler;
event.data=handler.data;
ret=handler.apply(this,arguments);
if(val!==false){val=ret;
}if(ret===false){event.preventDefault();
event.stopPropagation();
}}}return val;
},fix:function(event){if(event[expando]==true){return event;
}var originalEvent=event;
event={originalEvent:originalEvent};
var props="altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode metaKey newValue originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target timeStamp toElement type view wheelDelta which".split(" ");
for(var i=props.length;
i;
i--){event[props[i]]=originalEvent[props[i]];
}event[expando]=true;
event.preventDefault=function(){if(originalEvent.preventDefault){originalEvent.preventDefault();
}originalEvent.returnValue=false;
};
event.stopPropagation=function(){if(originalEvent.stopPropagation){originalEvent.stopPropagation();
}originalEvent.cancelBubble=true;
};
event.timeStamp=event.timeStamp||now();
if(!event.target){event.target=event.srcElement||document;
}if(event.target.nodeType==3){event.target=event.target.parentNode;
}if(!event.relatedTarget&&event.fromElement){event.relatedTarget=event.fromElement==event.target?event.toElement:event.fromElement;
}if(event.pageX==null&&event.clientX!=null){var doc=document.documentElement,body=document.body;
event.pageX=event.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc.clientLeft||0);
event.pageY=event.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc.clientTop||0);
}if(!event.which&&((event.charCode||event.charCode===0)?event.charCode:event.keyCode)){event.which=event.charCode||event.keyCode;
}if(!event.metaKey&&event.ctrlKey){event.metaKey=event.ctrlKey;
}if(!event.which&&event.button){event.which=(event.button&1?1:(event.button&2?3:(event.button&4?2:0)));
}return event;
},proxy:function(fn,proxy){proxy.guid=fn.guid=fn.guid||proxy.guid||this.guid++;
return proxy;
},special:{ready:{setup:function(){bindReady();
return;
},teardown:function(){return;
}},mouseenter:{setup:function(){if(jQuery.browser.msie){return false;
}jQuery(this).bind("mouseover",jQuery.event.special.mouseenter.handler);
return true;
},teardown:function(){if(jQuery.browser.msie){return false;
}jQuery(this).unbind("mouseover",jQuery.event.special.mouseenter.handler);
return true;
},handler:function(event){if(withinElement(event,this)){return true;
}event.type="mouseenter";
return jQuery.event.handle.apply(this,arguments);
}},mouseleave:{setup:function(){if(jQuery.browser.msie){return false;
}jQuery(this).bind("mouseout",jQuery.event.special.mouseleave.handler);
return true;
},teardown:function(){if(jQuery.browser.msie){return false;
}jQuery(this).unbind("mouseout",jQuery.event.special.mouseleave.handler);
return true;
},handler:function(event){if(withinElement(event,this)){return true;
}event.type="mouseleave";
return jQuery.event.handle.apply(this,arguments);
}}}};
jQuery.fn.extend({bind:function(type,data,fn){return type=="unload"?this.one(type,data,fn):this.each(function(){jQuery.event.add(this,type,fn||data,fn&&data);
});
},one:function(type,data,fn){var one=jQuery.event.proxy(fn||data,function(event){jQuery(this).unbind(event,one);
return(fn||data).apply(this,arguments);
});
return this.each(function(){jQuery.event.add(this,type,one,fn&&data);
});
},unbind:function(type,fn){return this.each(function(){jQuery.event.remove(this,type,fn);
});
},trigger:function(type,data,fn){return this.each(function(){jQuery.event.trigger(type,data,this,true,fn);
});
},triggerHandler:function(type,data,fn){return this[0]&&jQuery.event.trigger(type,data,this[0],false,fn);
},toggle:function(fn){var args=arguments,i=1;
while(i<args.length){jQuery.event.proxy(fn,args[i++]);
}return this.click(jQuery.event.proxy(fn,function(event){this.lastToggle=(this.lastToggle||0)%i;
event.preventDefault();
return args[this.lastToggle++].apply(this,arguments)||false;
}));
},hover:function(fnOver,fnOut){return this.bind("mouseenter",fnOver).bind("mouseleave",fnOut);
},ready:function(fn){bindReady();
if(jQuery.isReady){fn.call(document,jQuery);
}else{jQuery.readyList.push(function(){return fn.call(this,jQuery);
});
}return this;
}});
jQuery.extend({isReady:false,readyList:[],ready:function(){if(!jQuery.isReady){jQuery.isReady=true;
if(jQuery.readyList){jQuery.each(jQuery.readyList,function(){this.call(document);
});
jQuery.readyList=null;
}jQuery(document).triggerHandler("ready");
}}});
var readyBound=false;
function bindReady(){if(readyBound){return;
}readyBound=true;
if(document.addEventListener&&!jQuery.browser.opera){document.addEventListener("DOMContentLoaded",jQuery.ready,false);
}if(jQuery.browser.msie&&window==top){(function(){if(jQuery.isReady){return;
}try{document.documentElement.doScroll("left");
}catch(error){setTimeout(arguments.callee,jQuery126PatchDelay);
return;
}jQuery.ready();
})();
}if(jQuery.browser.opera){document.addEventListener("DOMContentLoaded",function(){if(jQuery.isReady){return;
}for(var i=0;
i<document.styleSheets.length;
i++){if(document.styleSheets[i].disabled){setTimeout(arguments.callee,jQuery126PatchDelay);
return;
}}jQuery.ready();
},false);
}if(jQuery.browser.safari){var numStyles;
(function(){if(jQuery.isReady){return;
}if(document.readyState!="loaded"&&document.readyState!="complete"){setTimeout(arguments.callee,jQuery126PatchDelay);
return;
}if(numStyles===undefined){numStyles=jQuery("style, link[rel=stylesheet]").length;
}if(document.styleSheets.length!=numStyles){setTimeout(arguments.callee,jQuery126PatchDelay);
return;
}jQuery.ready();
})();
}jQuery.event.add(window,"load",jQuery.ready);
}jQuery.each(("blur,focus,load,resize,scroll,unload,click,dblclick,"+"mousedown,mouseup,mousemove,mouseover,mouseout,change,select,"+"submit,keydown,keypress,keyup,error").split(","),function(i,name){jQuery.fn[name]=function(fn){return fn?this.bind(name,fn):this.trigger(name);
};
});
var withinElement=function(event,elem){var parent=event.relatedTarget;
while(parent&&parent!=elem){try{parent=parent.parentNode;
}catch(error){parent=elem;
}}return parent==elem;
};
jQuery(window).bind("unload",function(){jQuery("*").add(document).unbind();
});
jQuery.fn.extend({_load:jQuery.fn.load,load:function(url,params,callback){if(typeof url!="string"){return this._load(url);
}var off=url.indexOf(" ");
if(off>=0){var selector=url.slice(off,url.length);
url=url.slice(0,off);
}callback=callback||function(){};
var type="GET";
if(params){if(jQuery.isFunction(params)){callback=params;
params=null;
}else{params=jQuery.param(params);
type="POST";
}}var self=this;
jQuery.ajax({url:url,type:type,dataType:"html",data:params,complete:function(res,status){if(status=="success"||status=="notmodified"){self.html(selector?jQuery("<div/>").append(res.responseText.replace(/<script(.|\s)*?\/script>/g,"")).find(selector):res.responseText);
}self.each(callback,[res.responseText,status,res]);
}});
return this;
},serialize:function(){return jQuery.param(this.serializeArray());
},serializeArray:function(){return this.map(function(){return jQuery.nodeName(this,"form")?jQuery.makeArray(this.elements):this;
}).filter(function(){return this.name&&!this.disabled&&(this.checked||/select|textarea/i.test(this.nodeName)||/text|hidden|password/i.test(this.type));
}).map(function(i,elem){var val=jQuery(this).val();
return val==null?null:val.constructor==Array?jQuery.map(val,function(val,i){return{name:elem.name,value:val};
}):{name:elem.name,value:val};
}).get();
}});
jQuery.each("ajaxStart,ajaxStop,ajaxComplete,ajaxError,ajaxSuccess,ajaxSend".split(","),function(i,o){jQuery.fn[o]=function(f){return this.bind(o,f);
};
});
var jsc=now();
jQuery.extend({get:function(url,data,callback,type){if(jQuery.isFunction(data)){callback=data;
data=null;
}return jQuery.ajax({type:"GET",url:url,data:data,success:callback,dataType:type});
},getScript:function(url,callback){return jQuery.get(url,null,callback,"script");
},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,"json");
},post:function(url,data,callback,type){if(jQuery.isFunction(data)){callback=data;
data={};
}return jQuery.ajax({type:"POST",url:url,data:data,success:callback,dataType:type});
},ajaxSetup:function(settings){jQuery.extend(jQuery.ajaxSettings,settings);
},ajaxSettings:{url:location.href,global:true,type:"GET",timeout:0,contentType:"application/x-www-form-urlencoded",processData:true,async:true,data:null,username:null,password:null,accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"}},lastModified:{},ajax:function(s){s=jQuery.extend(true,s,jQuery.extend(true,{},jQuery.ajaxSettings,s));
var jsonp,jsre=/=\?(&|$)/g,status,data,type=s.type.toUpperCase();
if(s.data&&s.processData&&typeof s.data!="string"){s.data=jQuery.param(s.data);
}if(s.dataType=="jsonp"){if(type=="GET"){if(!s.url.match(jsre)){s.url+=(s.url.match(/\?/)?"&":"?")+(s.jsonp||"callback")+"=?";
}}else{if(!s.data||!s.data.match(jsre)){s.data=(s.data?s.data+"&":"")+(s.jsonp||"callback")+"=?";
}}s.dataType="json";
}if(s.dataType=="json"&&(s.data&&s.data.match(jsre)||s.url.match(jsre))){jsonp="jsonp"+jsc++;
if(s.data){s.data=(s.data+"").replace(jsre,"="+jsonp+"$1");
}s.url=s.url.replace(jsre,"="+jsonp+"$1");
s.dataType="script";
window[jsonp]=function(tmp){data=tmp;
success();
complete();
window[jsonp]=undefined;
try{delete window[jsonp];
}catch(e){}if(head){head.removeChild(script);
}};
}if(s.dataType=="script"&&s.cache==null){s.cache=false;
}if(s.cache===false&&type=="GET"){var ts=now();
var ret=s.url.replace(/(\?|&)_=.*?(&|$)/,"$1_="+ts+"$2");
s.url=ret+((ret==s.url)?(s.url.match(/\?/)?"&":"?")+"_="+ts:"");
}if(s.data&&type=="GET"){s.url+=(s.url.match(/\?/)?"&":"?")+s.data;
s.data=null;
}if(s.global&&!jQuery.active++){jQuery.event.trigger("ajaxStart");
}var remote=/^(?:\w+:)?\/\/([^\/?#]+)/;
if(s.dataType=="script"&&type=="GET"&&remote.test(s.url)&&remote.exec(s.url)[1]!=location.host){var head=document.getElementsByTagName("head")[0];
var script=document.createElement("script");
script.src=s.url;
if(s.scriptCharset){script.charset=s.scriptCharset;
}if(!jsonp){var done=false;
script.onload=script.onreadystatechange=function(){if(!done&&(!this.readyState||this.readyState=="loaded"||this.readyState=="complete")){done=true;
success();
complete();
head.removeChild(script);
}};
}head.appendChild(script);
return undefined;
}var requestDone=false;
var xhr=window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest();
if(s.username){xhr.open(type,s.url,s.async,s.username,s.password);
}else{xhr.open(type,s.url,s.async);
}try{if(s.data){xhr.setRequestHeader("Content-Type",s.contentType);
}if(s.ifModified){xhr.setRequestHeader("If-Modified-Since",jQuery.lastModified[s.url]||"Thu, 01 Jan 1970 00:00:00 GMT");
}xhr.setRequestHeader("X-Requested-With","XMLHttpRequest");
xhr.setRequestHeader("Accept",s.dataType&&s.accepts[s.dataType]?s.accepts[s.dataType]+", */*":s.accepts._default);
}catch(e){}if(s.beforeSend&&s.beforeSend(xhr,s)===false){s.global&&jQuery.active--;
xhr.abort();
return false;
}if(s.global){jQuery.event.trigger("ajaxSend",[xhr,s]);
}var onreadystatechange=function(isTimeout){if(!requestDone&&xhr&&(xhr.readyState==4||isTimeout=="timeout")){requestDone=true;
if(ival){clearInterval(ival);
ival=null;
}status=isTimeout=="timeout"&&"timeout"||!jQuery.httpSuccess(xhr)&&"error"||s.ifModified&&jQuery.httpNotModified(xhr,s.url)&&"notmodified"||"success";
if(status=="success"){try{data=jQuery.httpData(xhr,s.dataType,s.dataFilter);
}catch(e){status="parsererror";
}}if(status=="success"){var modRes;
try{modRes=xhr.getResponseHeader("Last-Modified");
}catch(e){}if(s.ifModified&&modRes){jQuery.lastModified[s.url]=modRes;
}if(!jsonp){success();
}}else{jQuery.handleError(s,xhr,status);
}complete();
if(s.async){xhr=null;
}}};
if(s.async){var ival=setInterval(onreadystatechange,13);
if(s.timeout>0){setTimeout(function(){if(xhr){xhr.abort();
if(!requestDone){onreadystatechange("timeout");
}}},s.timeout);
}}try{xhr.send(s.data);
}catch(e){jQuery.handleError(s,xhr,null,e);
}if(!s.async){onreadystatechange();
}function success(){if(s.success){s.success(data,status);
}if(s.global){jQuery.event.trigger("ajaxSuccess",[xhr,s]);
}}function complete(){if(s.complete){s.complete(xhr,status);
}if(s.global){jQuery.event.trigger("ajaxComplete",[xhr,s]);
}if(s.global&&!--jQuery.active){jQuery.event.trigger("ajaxStop");
}}return xhr;
},handleError:function(s,xhr,status,e){if(s.error){s.error(xhr,status,e);
}if(s.global){jQuery.event.trigger("ajaxError",[xhr,s,e]);
}},active:0,httpSuccess:function(xhr){try{return !xhr.status&&location.protocol=="file:"||(xhr.status>=200&&xhr.status<300)||xhr.status==304||xhr.status==1223||jQuery.browser.safari&&xhr.status==undefined;
}catch(e){}return false;
},httpNotModified:function(xhr,url){try{var xhrRes=xhr.getResponseHeader("Last-Modified");
return xhr.status==304||xhrRes==jQuery.lastModified[url]||jQuery.browser.safari&&xhr.status==undefined;
}catch(e){}return false;
},httpData:function(xhr,type,filter){var ct=xhr.getResponseHeader("content-type"),xml=type=="xml"||!type&&ct&&ct.indexOf("xml")>=0,data=xml?xhr.responseXML:xhr.responseText;
if(xml&&data.documentElement.tagName=="parsererror"){throw"parsererror";
}if(filter){data=filter(data,type);
}if(type=="script"){jQuery.globalEval(data);
}if(type=="json"){data=eval("("+data+")");
}return data;
},param:function(a){var s=[];
if(a.constructor==Array||a.jquery){jQuery.each(a,function(){s.push(encodeURIComponent(this.name)+"="+encodeURIComponent(this.value));
});
}else{for(var j in a){if(a[j]&&a[j].constructor==Array){jQuery.each(a[j],function(){s.push(encodeURIComponent(j)+"="+encodeURIComponent(this));
});
}else{s.push(encodeURIComponent(j)+"="+encodeURIComponent(jQuery.isFunction(a[j])?a[j]():a[j]));
}}}return s.join("&").replace(/%20/g,"+");
}});
jQuery.fn.extend({show:function(speed,callback){return speed?this.animate({height:"show",width:"show",opacity:"show"},speed,callback):this.filter(":hidden").each(function(){this.style.display=this.oldblock||"";
if(jQuery.css(this,"display")=="none"){var elem=jQuery("<"+this.tagName+" />").appendTo("body");
this.style.display=elem.css("display");
if(this.style.display=="none"){this.style.display="block";
}elem.remove();
}}).end();
},hide:function(speed,callback){return speed?this.animate({height:"hide",width:"hide",opacity:"hide"},speed,callback):this.filter(":visible").each(function(){this.oldblock=this.oldblock||jQuery.css(this,"display");
this.style.display="none";
}).end();
},_toggle:jQuery.fn.toggle,toggle:function(fn,fn2){return jQuery.isFunction(fn)&&jQuery.isFunction(fn2)?this._toggle.apply(this,arguments):fn?this.animate({height:"toggle",width:"toggle",opacity:"toggle"},fn,fn2):this.each(function(){jQuery(this)[jQuery(this).is(":hidden")?"show":"hide"]();
});
},slideDown:function(speed,callback){return this.animate({height:"show"},speed,callback);
},slideUp:function(speed,callback){return this.animate({height:"hide"},speed,callback);
},slideToggle:function(speed,callback){return this.animate({height:"toggle"},speed,callback);
},fadeIn:function(speed,callback){return this.animate({opacity:"show"},speed,callback);
},fadeOut:function(speed,callback){return this.animate({opacity:"hide"},speed,callback);
},fadeTo:function(speed,to,callback){return this.animate({opacity:to},speed,callback);
},animate:function(prop,speed,easing,callback){var optall=jQuery.speed(speed,easing,callback);
return this[optall.queue===false?"each":"queue"](function(){if(this.nodeType!=1){return false;
}var opt=jQuery.extend({},optall),p,hidden=jQuery(this).is(":hidden"),self=this;
for(p in prop){if(prop[p]=="hide"&&hidden||prop[p]=="show"&&!hidden){return opt.complete.call(this);
}if(p=="height"||p=="width"){opt.display=jQuery.css(this,"display");
opt.overflow=this.style.overflow;
}}if(opt.overflow!=null){this.style.overflow="hidden";
}opt.curAnim=jQuery.extend({},prop);
jQuery.each(prop,function(name,val){var e=new jQuery.fx(self,opt,name);
if(/toggle|show|hide/.test(val)){e[val=="toggle"?hidden?"show":"hide":val](prop);
}else{var parts=val.toString().match(/^([+-]=)?([\d+-.]+)(.*)$/),start=e.cur(true)||0;
if(parts){var end=parseFloat(parts[2]),unit=parts[3]||"px";
if(unit!="px"){self.style[name]=(end||1)+unit;
start=((end||1)/e.cur(true))*start;
self.style[name]=start+unit;
}if(parts[1]){end=((parts[1]=="-="?-1:1)*end)+start;
}e.custom(start,end,unit);
}else{e.custom(start,val,"");
}}});
return true;
});
},queue:function(type,fn){if(jQuery.isFunction(type)||(type&&type.constructor==Array)){fn=type;
type="fx";
}if(!type||(typeof type=="string"&&!fn)){return queue(this[0],type);
}return this.each(function(){if(fn.constructor==Array){queue(this,type,fn);
}else{queue(this,type).push(fn);
if(queue(this,type).length==1){fn.call(this);
}}});
},stop:function(clearQueue,gotoEnd){var timers=jQuery.timers;
if(clearQueue){this.queue([]);
}this.each(function(){for(var i=timers.length-1;
i>=0;
i--){if(timers[i].elem==this){if(gotoEnd){timers[i](true);
}timers.splice(i,1);
}}});
if(!gotoEnd){this.dequeue();
}return this;
}});
var queue=function(elem,type,array){if(elem){type=type||"fx";
var q=jQuery.data(elem,type+"queue");
if(!q||array){q=jQuery.data(elem,type+"queue",jQuery.makeArray(array));
}}return q;
};
jQuery.fn.dequeue=function(type){type=type||"fx";
return this.each(function(){var q=queue(this,type);
q.shift();
if(q.length){q[0].call(this);
}});
};
jQuery.extend({speed:function(speed,easing,fn){var opt=speed&&speed.constructor==Object?speed:{complete:fn||!fn&&easing||jQuery.isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&easing.constructor!=Function&&easing};
opt.duration=(opt.duration&&opt.duration.constructor==Number?opt.duration:jQuery.fx.speeds[opt.duration])||jQuery.fx.speeds.def;
opt.old=opt.complete;
opt.complete=function(){if(opt.queue!==false){jQuery(this).dequeue();
}if(jQuery.isFunction(opt.old)){opt.old.call(this);
}};
return opt;
},easing:{linear:function(p,n,firstNum,diff){return firstNum+diff*p;
},swing:function(p,n,firstNum,diff){return((-Math.cos(p*Math.PI)/2)+0.5)*diff+firstNum;
}},timers:[],timerId:null,fx:function(elem,options,prop){this.options=options;
this.elem=elem;
this.prop=prop;
if(!options.orig){options.orig={};
}}});
jQuery.fx.prototype={update:function(){if(this.options.step){this.options.step.call(this.elem,this.now,this);
}(jQuery.fx.step[this.prop]||jQuery.fx.step._default)(this);
if(this.prop=="height"||this.prop=="width"){this.elem.style.display="block";
}},cur:function(force){if(this.elem[this.prop]!=null&&this.elem.style[this.prop]==null){return this.elem[this.prop];
}var r=parseFloat(jQuery.css(this.elem,this.prop,force));
return r&&r>-10000?r:parseFloat(jQuery.curCSS(this.elem,this.prop))||0;
},custom:function(from,to,unit){this.startTime=now();
this.start=from;
this.end=to;
this.unit=unit||this.unit||"px";
this.now=this.start;
this.pos=this.state=0;
this.update();
var self=this;
function t(gotoEnd){return self.step(gotoEnd);
}t.elem=this.elem;
jQuery.timers.push(t);
if(jQuery.timerId==null){jQuery.timerId=setInterval(function(){var timers=jQuery.timers;
for(var i=0;
i<timers.length;
i++){if(!timers[i]()){timers.splice(i--,1);
}}if(!timers.length){clearInterval(jQuery.timerId);
jQuery.timerId=null;
}},13);
}},show:function(){this.options.orig[this.prop]=jQuery.attr(this.elem.style,this.prop);
this.options.show=true;
this.custom(0,this.cur());
if(this.prop=="width"||this.prop=="height"){this.elem.style[this.prop]="1px";
}jQuery(this.elem).show();
},hide:function(){this.options.orig[this.prop]=jQuery.attr(this.elem.style,this.prop);
this.options.hide=true;
this.custom(this.cur(),0);
},step:function(gotoEnd){var t=now();
if(gotoEnd||t>this.options.duration+this.startTime){this.now=this.end;
this.pos=this.state=1;
this.update();
this.options.curAnim[this.prop]=true;
var done=true;
for(var i in this.options.curAnim){if(this.options.curAnim[i]!==true){done=false;
}}if(done){if(this.options.display!=null){this.elem.style.overflow=this.options.overflow;
this.elem.style.display=this.options.display;
if(jQuery.css(this.elem,"display")=="none"){this.elem.style.display="block";
}}if(this.options.hide){this.elem.style.display="none";
}if(this.options.hide||this.options.show){for(var p in this.options.curAnim){jQuery.attr(this.elem.style,p,this.options.orig[p]);
}}}if(done){this.options.complete.call(this.elem);
}return false;
}else{var n=t-this.startTime;
this.state=n/this.options.duration;
this.pos=jQuery.easing[this.options.easing||(jQuery.easing.swing?"swing":"linear")](this.state,n,0,1,this.options.duration);
this.now=this.start+((this.end-this.start)*this.pos);
this.update();
}return true;
}};
jQuery.extend(jQuery.fx,{speeds:{slow:600,fast:200,def:400},step:{scrollLeft:function(fx){fx.elem.scrollLeft=fx.now;
},scrollTop:function(fx){fx.elem.scrollTop=fx.now;
},opacity:function(fx){jQuery.attr(fx.elem.style,"opacity",fx.now);
},_default:function(fx){fx.elem.style[fx.prop]=fx.now+fx.unit;
}}});
jQuery.fn.offset=function(){var left=0,top=0,elem=this[0],results;
if(elem){with(jQuery.browser){var parent=elem.parentNode,offsetChild=elem,offsetParent=elem.offsetParent,doc=elem.ownerDocument,safari2=safari&&parseInt(version)<522&&!/adobeair/i.test(userAgent),css=jQuery.curCSS,fixed=css(elem,"position")=="fixed";
if(elem.getBoundingClientRect){var box=elem.getBoundingClientRect();
add(box.left+Math.max(doc.documentElement.scrollLeft,doc.body.scrollLeft),box.top+Math.max(doc.documentElement.scrollTop,doc.body.scrollTop));
add(-doc.documentElement.clientLeft,-doc.documentElement.clientTop);
}else{add(elem.offsetLeft,elem.offsetTop);
while(offsetParent){add(offsetParent.offsetLeft,offsetParent.offsetTop);
if(mozilla&&!/^t(able|d|h)$/i.test(offsetParent.tagName)||safari&&!safari2){border(offsetParent);
}if(!fixed&&css(offsetParent,"position")=="fixed"){fixed=true;
}offsetChild=/^body$/i.test(offsetParent.tagName)?offsetChild:offsetParent;
offsetParent=offsetParent.offsetParent;
}while(parent&&parent.tagName&&!/^body|html$/i.test(parent.tagName)){if(!/^inline|table.*$/i.test(css(parent,"display"))){add(-parent.scrollLeft,-parent.scrollTop);
}if(mozilla&&css(parent,"overflow")!="visible"){border(parent);
}parent=parent.parentNode;
}if((safari2&&(fixed||css(offsetChild,"position")=="absolute"))||(mozilla&&css(offsetChild,"position")!="absolute")){add(-doc.body.offsetLeft,-doc.body.offsetTop);
}if(fixed){add(Math.max(doc.documentElement.scrollLeft,doc.body.scrollLeft),Math.max(doc.documentElement.scrollTop,doc.body.scrollTop));
}}results={top:top,left:left};
}}function border(elem){add(jQuery.curCSS(elem,"borderLeftWidth",true),jQuery.curCSS(elem,"borderTopWidth",true));
}function add(l,t){left+=parseInt(l,10)||0;
top+=parseInt(t,10)||0;
}return results;
};
jQuery.fn.extend({position:function(){var left=0,top=0,results;
if(this[0]){var offsetParent=this.offsetParent(),offset=this.offset(),parentOffset=/^body|html$/i.test(offsetParent[0].tagName)?{top:0,left:0}:offsetParent.offset();
offset.top-=num(this,"marginTop");
offset.left-=num(this,"marginLeft");
parentOffset.top+=num(offsetParent,"borderTopWidth");
parentOffset.left+=num(offsetParent,"borderLeftWidth");
results={top:offset.top-parentOffset.top,left:offset.left-parentOffset.left};
}return results;
},offsetParent:function(){var offsetParent=this[0].offsetParent;
while(offsetParent&&(!/^body|html$/i.test(offsetParent.tagName)&&jQuery.css(offsetParent,"position")=="static")){offsetParent=offsetParent.offsetParent;
}return jQuery(offsetParent);
}});
jQuery.each(["Left","Top"],function(i,name){var method="scroll"+name;
jQuery.fn[method]=function(val){if(!this[0]){return;
}return val!=undefined?this.each(function(){this==window||this==document?window.scrollTo(!i?val:jQuery(window).scrollLeft(),i?val:jQuery(window).scrollTop()):this[method]=val;
}):this[0]==window||this[0]==document?self[i?"pageYOffset":"pageXOffset"]||jQuery.boxModel&&document.documentElement[method]||document.body[method]:this[0][method];
};
});
jQuery.each(["Height","Width"],function(i,name){var tl=i?"Left":"Top",br=i?"Right":"Bottom";
jQuery.fn["inner"+name]=function(){return this[name.toLowerCase()]()+num(this,"padding"+tl)+num(this,"padding"+br);
};
jQuery.fn["outer"+name]=function(margin){return this["inner"+name]()+num(this,"border"+tl+"Width")+num(this,"border"+br+"Width")+(margin?num(this,"margin"+tl)+num(this,"margin"+br):0);
};
});
};
if(window.amznJQ){amznJQ.initJQuery=initJQuery;
}else{initJQuery();
}})();
(function(){var patchJQuery=function(jQuery){var $=jQuery;
if(!jQuery){return;
}jQuery.fn.offset126=jQuery.fn.offset;
if(document.documentElement["getBoundingClientRect"]){jQuery.fn.offset=function(){if(!this[0]||!this[0].ownerDocument){return{top:0,left:0};
}if(this[0]===this[0].ownerDocument.body){return jQuery.offset.bodyOffset(this[0]);
}var box=this[0].getBoundingClientRect(),doc=this[0].ownerDocument,body=doc.body,docElem=doc.documentElement,ieTouch=navigator.msMaxTouchPoints>0,clientTop=docElem.clientTop||body.clientTop||0,clientLeft=docElem.clientLeft||body.clientLeft||0,top=box.top+(!ieTouch&&self.pageYOffset||jQuery.boxModel&&docElem.scrollTop||body.scrollTop)-clientTop,left=box.left+(!ieTouch&&self.pageXOffset||jQuery.boxModel&&docElem.scrollLeft||body.scrollLeft)-clientLeft;
return{top:top,left:left};
};
}else{jQuery.fn.offset=function(){if(!this[0]||!this[0].ownerDocument){return{top:0,left:0};
}if(this[0]===this[0].ownerDocument.body){return jQuery.offset.bodyOffset(this[0]);
}jQuery.offset.initialized||jQuery.offset.initialize();
var elem=this[0],offsetParent=elem.offsetParent,prevOffsetParent=elem,doc=elem.ownerDocument,computedStyle,docElem=doc.documentElement,body=doc.body,defaultView=doc.defaultView,prevComputedStyle=defaultView.getComputedStyle(elem,null),top=elem.offsetTop,left=elem.offsetLeft;
while((elem=elem.parentNode)&&elem!==body&&elem!==docElem){computedStyle=defaultView.getComputedStyle(elem,null);
top-=elem.scrollTop,left-=elem.scrollLeft;
if(elem===offsetParent){top+=elem.offsetTop,left+=elem.offsetLeft;
if(jQuery.offset.doesNotAddBorder&&!(jQuery.offset.doesAddBorderForTableAndCells&&/^t(able|d|h)$/i.test(elem.tagName))){top+=parseInt(computedStyle.borderTopWidth,10)||0,left+=parseInt(computedStyle.borderLeftWidth,10)||0;
}prevOffsetParent=offsetParent,offsetParent=elem.offsetParent;
}if(jQuery.offset.subtractsBorderForOverflowNotVisible&&computedStyle.overflow!=="visible"){top+=parseInt(computedStyle.borderTopWidth,10)||0,left+=parseInt(computedStyle.borderLeftWidth,10)||0;
}prevComputedStyle=computedStyle;
}if(prevComputedStyle.position==="relative"||prevComputedStyle.position==="static"){top+=body.offsetTop,left+=body.offsetLeft;
}if(prevComputedStyle.position==="fixed"){top+=Math.max(docElem.scrollTop,body.scrollTop),left+=Math.max(docElem.scrollLeft,body.scrollLeft);
}return{top:top,left:left};
};
}jQuery.offset={initialize:function(){if(this.initialized){return;
}var body=document.body,container=document.createElement("div"),innerDiv,checkDiv,table,rules,prop,bodyMarginTop=body.style.marginTop,html='<div style="position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;"><div></div></div><table style="position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;"cellpadding="0"cellspacing="0"><tr><td></td></tr></table>';
rules={position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"};
for(prop in rules){container.style[prop]=rules[prop];
}container.innerHTML=html;
body.insertBefore(container,body.firstChild);
innerDiv=container.firstChild,checkDiv=innerDiv.firstChild,td=innerDiv.nextSibling.firstChild.firstChild;
this.doesNotAddBorder=(checkDiv.offsetTop!==5);
this.doesAddBorderForTableAndCells=(td.offsetTop===5);
innerDiv.style.overflow="hidden",innerDiv.style.position="relative";
this.subtractsBorderForOverflowNotVisible=(checkDiv.offsetTop===-5);
body.style.marginTop="1px";
this.doesNotIncludeMarginInBodyOffset=(body.offsetTop===0);
body.style.marginTop=bodyMarginTop;
body.removeChild(container);
this.initialized=true;
},bodyOffset:function(body){jQuery.offset.initialized||jQuery.offset.initialize();
var top=body.offsetTop,left=body.offsetLeft;
if(jQuery.offset.doesNotIncludeMarginInBodyOffset){top+=parseInt(jQuery.curCSS(body,"marginTop",true),10)||0,left+=parseInt(jQuery.curCSS(body,"marginLeft",true),10)||0;
}return{top:top,left:left};
}};
if(jQuery.browser.msie&&document.compatMode=="BackCompat"){var fixOriginal=jQuery.event.fix;
jQuery.event.fix=function(event){var e=fixOriginal(event);
e.pageX-=2;
e.pageY-=2;
return e;
};
}jQuery.fn.offsetNoIPadFix=jQuery.fn.offset;
jQuery.fn.offsetIPadFix=jQuery.fn.offset;
if(/webkit.*mobile/i.test(navigator.userAgent)&&parseFloat($.browser.version)<532.9&&"getBoundingClientRect" in document.documentElement){jQuery.fn.offsetIPadFix=function(){var result=this.offsetNoIPadFix();
result.top-=window.scrollY;
result.left-=window.scrollX;
return result;
};
if(typeof window.jQueryPatchIPadOffset!="undefined"&&window.jQueryPatchIPadOffset){jQuery.fn.offset=jQuery.fn.offsetIPadFix;
}}};
if(window.amznJQ&&amznJQ.initJQuery){var initJQuery=amznJQ.initJQuery;
amznJQ.initJQuery=function(){initJQuery();
patchJQuery(jQuery);
};
}else{patchJQuery(jQuery);
}})();

/* end jQuery-1.2.6/jquery.js */

/* begin amazonJQ/amznJQ.js */
(function(){var timesliceJS,initJQuery;
if(window.amznJQ){timesliceJS=amznJQ._timesliceJS;
initJQuery=amznJQ.initJQuery;
delete amznJQ._timesliceJS;
delete amznJQ.initJQuery;
}var isRunning=false,cbsWaiting=[];
var doDeferred=function(){;
isRunning=true;
var stopTime=(new Date()).getTime()+40;
var callingCB;
try{while(cbsWaiting.length&&(new Date()).getTime()<=stopTime){var cb=cbsWaiting.shift();
callingCB=true;
cb();
callingCB=false;
}}finally{if(callingCB){;
}if(cbsWaiting.length){;
setTimeout(doDeferred,0);
}else{;
isRunning=false;
}}};
var callInTimeslice=function(cbOrArray){if(typeof cbOrArray==="function"){cbsWaiting.push(cbOrArray);
}else{cbsWaiting=cbsWaiting.concat(cbOrArray);
}if(!isRunning){isRunning=true;
setTimeout(doDeferred,0);
}};
var initAmznJQ=function(){var $=window.jQuery,jQuery=$;
if(!jQuery){return;
}var bootstrapAmznJQ=window.amznJQ;
if(!window.goN2Debug){window.goN2Debug=new function(){this.info=function(){};
return this;
};
}window.amznJQ=new function(){;
var me=this;
me.jQuery=jQuery;
jQuery.noConflict(true);
if(window.jQuery){;
}else{window.jQuery=jQuery;
}var _logicalToPhysical={JQuery:{functionality:"JQuery",urls:null},popover:{functionality:"popover",urls:null}};
var _func_loaded={};
var _url_loaded={};
var _loading={};
function _loadFunctionality(functionality){var urls=_logicalToPhysical[functionality].urls;
if(urls){;
$.each(urls,function(){if(!_url_loaded[this]){_loadURL(this,functionality);
}});
}else{;
}}function _loadURL(url,functionality){;
$.ajax({type:"GET",url:url,success:_onUrlLoadedFcn(url,functionality),dataType:"script",cache:true});
}function _onUrlLoadedFcn(url,functionality){return function(){;
_url_loaded[url]=true;
var all_loaded=true;
$.each(_logicalToPhysical[functionality].urls,function(){all_loaded=all_loaded&&!!_url_loaded[this];
});
if(all_loaded){}};
}me.addLogical=function(functionality,urls){var ul=urls?urls.length:"no";
;
_logicalToPhysical[functionality]={functionality:functionality,urls:urls};
if(!urls){me.declareAvailable(functionality);
return;
}if(_loading[functionality]){_loadFunctionality(functionality);
}};
me.declareAvailable=function(functionality){;
if(typeof _logicalToPhysical[functionality]=="undefined"){_logicalToPhysical[functionality]={functionality:functionality,urls:null};
}_func_loaded[functionality]=true;
triggerEventCallbacks(functionality+".loaded");
};
me.addStyle=function(css_url){var dcss=document.styleSheets[0];
if(dcss&&dcss.addImport){while(dcss.imports.length>=31){dcss=dcss.imports[0];
}dcss.addImport(css_url);
}else{$("style[type='text/css']:first").append('@import url("'+css_url+'");');
}};
me.addStyles=function(args){var urls=args.urls||[];
var styles=args.styles||[];
var dcss=document.styleSheets;
if(dcss&&!dcss.length&&document.createStyleSheet){document.createStyleSheet();
}dcss=dcss[0];
if(dcss&&dcss.addImport){$.each(urls,function(){while(dcss.imports.length>=31){dcss=dcss.imports[0];
}dcss.addImport(this);
});
}else{$.each(urls,function(){var attrs={type:"text/css",rel:"stylesheet",href:this};
$("head").append($("<link/>").attr(attrs));
});
}var css="";
$.each(styles,function(){css+=this;
});
if(css){if(document.createStyleSheet){try{var sheet=document.createStyleSheet();
sheet.cssText=css;
}catch(e){}}else{$("head").append($("<style/>").attr({type:"text/css"}).append(css));
}}};
var eventCBQueue={};
var enqueueEventCallback=function(eventName,cb){if(!timesliceJS){$(document).one(eventName,cb);
return;
}var queue=eventCBQueue[eventName]||[];
queue.push(function(){cb(jQuery.event.fix({type:eventName}));
});
eventCBQueue[eventName]=queue;
};
var triggerEventCallbacks=function(eventName){if(!timesliceJS){$(document).trigger(eventName);
return;
}var queue=eventCBQueue[eventName];
if(queue){callInTimeslice(queue);
delete eventCBQueue[eventName];
}};
var doEventCallbackNow=function(eventName,cb){if(!timesliceJS){$(document).one(eventName,cb);
$(document).trigger(eventName);
}else{if(eventCBQueue[eventName]){enqueueEventCallback(eventName,cb);
triggerEventCallbacks(eventName);
}else{callInTimeslice(function(){cb(jQuery.event.fix({type:eventName}));
});
}}};
me.available=function(functionality,eventCallbackFunction){if(_func_loaded[functionality]){;
doEventCallbackNow(functionality+".loaded",eventCallbackFunction);
}else{if(_loading[functionality]){;
enqueueEventCallback(functionality+".loaded",eventCallbackFunction);
}else{if(_logicalToPhysical[functionality]){;
_loading[functionality]=true;
enqueueEventCallback(functionality+".loaded",eventCallbackFunction);
_loadFunctionality(functionality);
}else{;
_loading[functionality]=true;
enqueueEventCallback(functionality+".loaded",eventCallbackFunction);
}}}};
me.onReady=function(functionality,eventCallbackFunction){var ajq=this;
$(function(){ajq.available(functionality,eventCallbackFunction);
});
};
var _stage_completed={};
var _fail_safe_stages=["amznJQ.theFold","amznJQ.criticalFeature"];
me.onCompletion=function(stage,callbackFn){if(_stage_completed[stage]){;
doEventCallbackNow(stage,callbackFn);
}else{;
enqueueEventCallback(stage,callbackFn);
}};
me.completedStage=function(stage){if(!_stage_completed[stage]){;
_stage_completed[stage]=true;
triggerEventCallbacks(stage);
}};
me.windowOnLoad=function(){;
$.each(_fail_safe_stages,function(){if(!_stage_completed[this]){;
_stage_completed[this]=true;
triggerEventCallbacks(this);
}});
};
(function(){var ST=setTimeout,doc=document,docElem=doc.documentElement,styleObj=docElem.style,nav=navigator,ua=nav.userAgent,plUrls=[],lowPriUrls=[],hiPriUrls=[],isLowPriEligibleYet=false,isGecko="MozAppearance" in styleObj,isWebkit=!isGecko&&("webkitAppearance" in styleObj),isSafari=isWebkit&&nav.vendor.indexOf("Apple")===0,isIE=!isGecko&&!isWebkit&&((nav.appName.indexOf("Microsoft")===0||ua.indexOf("Trident/")>-1)),isSupportedBrowser=(isWebkit||isGecko||isIE),tridentVer=!isIE?-1:(/Trident\/([\d]+)/).exec(ua)!=null?parseFloat(RegExp.$1):null,ieVer=!isIE?-1:!tridentVer?6:tridentVer+4,allowedLoaders=typeof window.plCount!="undefined"?window.plCount():(isIE&&ieVer<8)?2:5,currentLoaders=0,type_Link="LINK",type_Img="IMG",type_Obj="OBJECT",type_Script="SCRIPT",handledImageExtensions=["gif","jpeg","jpg","png"];
;
function setLoadState(){if(hiPriUrls.length>0){plUrls=hiPriUrls;
}else{plUrls=lowPriUrls;
if(plUrls.length===0||!isLowPriEligibleYet){return false;
}}if(currentLoaders>=allowedLoaders){return false;
}currentLoaders++;
return true;
}function loaderDone(loader,timer){var destroyLoader=function(){if(loader){var p=loader.parentElement;
if(p){p.removeChild(loader);
}loader=null;
}};
if(timer){clearTimeout(timer);
}currentLoaders=currentLoaders<1?0:currentLoaders-1;
if(isGecko){setTimeout(destroyLoader,5);
}else{destroyLoader();
}if(isIE){ST(load,0);
}else{load();
}}function getExtension(url){var extension,posDot,end=url.indexOf("?");
end=end>0?end:url.length;
posDot=url.lastIndexOf(".",end);
if(posDot){extension=url.substring(posDot+1,end).toLowerCase();
}return(extension=="gz")?getExtension(url.substring(0,posDot)):extension;
}function checkIfImage(extension){var i=handledImageExtensions.length;
while(i--){if(handledImageExtensions[i]===extension){return true;
}}return false;
}function determineType(isImageUrl){var useType;
if(isGecko){useType=type_Obj;
}else{if(isIE){useType=type_Img;
if(!isImageUrl){if(ieVer>=10){useType=type_Link;
}else{if(ieVer==9){useType=type_Script;
}}}}else{if(isSafari){useType=isImageUrl?type_Img:null;
}else{useType=type_Img;
}}}return useType;
}function attachHandlers(loader,useType,isImageUrl,url){var timer;
if(isGecko||(isWebkit&&!isImageUrl)){timer=ST(function(){;
loaderDone(loader,timer);
},2500+Math.random()*100);
}loader.onerror=function(){;
loaderDone(loader,timer);
};
loader.onload=function(){;
loaderDone(loader,timer);
};
}function load(){if(!setLoadState()){return;
}var url=plUrls.pop(),extension=getExtension(url),isImageUrl=checkIfImage(extension),useType=determineType(isImageUrl,extension),loader,hL=plUrls===hiPriUrls?"H":"L";
;
if(!useType){;
loaderDone();
return;
}loader=(useType==type_Img)?new Image:doc.createElement(useType);
loader.style.display="none";
if(useType==type_Img){attachHandlers(loader,useType,isImageUrl,url);
loader.src=url;
}else{if(useType==type_Obj){loader.data=url;
attachHandlers(loader,useType,isImageUrl,url);
}else{if(useType==type_Script){loader.type="text/cache";
attachHandlers(loader,useType,isImageUrl,url);
loader.src=url;
}else{if(useType==type_Link){loader.rel="stylesheet";
loader.media="speech";
attachHandlers(loader,useType,isImageUrl,url);
loader.href=url;
}}}}if(!(isIE&&useType==type_Img)){try{docElem.appendChild(loader);
}catch(e){;
loaderDone();
return;
}}if(currentLoaders<allowedLoaders){load();
}}function processUrlList(urlList,target){if(!isSupportedBrowser){;
return;
}if(typeof urlList==="string"){urlList=[urlList];
}else{if(typeof urlList!=="object"||urlList===null){return;
}}var i,u;
for(i=0;
i<urlList.length;
i++){u=urlList[i];
if(u&&typeof u!=="string"){processUrlList(u,target);
}else{if(u&&!(u[0]==" ")){target.splice(Math.round(Math.random()*target.length),0,u);
}}}}me._getPLStat=function(){return{H:hiPriUrls.length,L:lowPriUrls.length,P:plUrls.length,CL:currentLoaders,AL:allowedLoaders};
};
me.addPL=function(urlList){processUrlList(urlList,lowPriUrls);
load();
};
me.PLNow=function(urlList){processUrlList(urlList,hiPriUrls);
load();
};
function triggerPagePreloads(){isLowPriEligibleYet=true;
load();
}if(bootstrapAmznJQ&&bootstrapAmznJQ.PLTriggerName){amznJQ.available(bootstrapAmznJQ.PLTriggerName,triggerPagePreloads);
}else{$(window).load(function(){ST(triggerPagePreloads,1000);
});
}}());
me.strings={};
me.chars={};
if(bootstrapAmznJQ){$.extend(this.strings,bootstrapAmznJQ.strings);
$.extend(this.chars,bootstrapAmznJQ.chars);
}}();
$(window).load(function(){amznJQ.windowOnLoad();
});
if(window.ue&&bootstrapAmznJQ&&window.ues&&window.uex){ues("wb","jQueryActive",1);
uex("ld","jQueryActive");
}amznJQ.declareAvailable("JQuery");
amznJQ.declareAvailable("jQuery");
if(bootstrapAmznJQ){;
$.each(bootstrapAmznJQ._l,function(){amznJQ.addLogical(this[0],this[1]);
});
$.each(bootstrapAmznJQ._s,function(){amznJQ.addStyle(this[0]);
});
$.each(bootstrapAmznJQ._d,function(){amznJQ.declareAvailable(this[0],this[1]);
});
$.each(bootstrapAmznJQ._a,function(){amznJQ.available(this[0],this[1]);
});
$.each(bootstrapAmznJQ._t||[],function(){callInTimeslice(this[0]);
});
$.each(bootstrapAmznJQ._o,function(){amznJQ.onReady(this[0],this[1]);
});
$.each(bootstrapAmznJQ._c,function(){amznJQ.onCompletion(this[0],this[1]);
});
$.each(bootstrapAmznJQ._cs,function(){amznJQ.completedStage(this[0],this[1]);
});
amznJQ.addPL(bootstrapAmznJQ._pl);
}};
if(!initJQuery){initAmznJQ();
}else{if(!timesliceJS){initJQuery();
initAmznJQ();
}else{callInTimeslice(initJQuery);
callInTimeslice(initAmznJQ);
}}})();

/* end amazonJQ/amznJQ.js */

/* begin popover/amzPopover.js */
(function(){if(window.amznJQ){window.amznJQ.available("jQuery",function(){initAmazonPopover(window.amznJQ.jQuery||window.jQuery);
window.amznJQ.declareAvailable("popover");
});
}if(typeof window.P==="object"&&typeof window.P.when==="function"){window.P.when("jQuery").register("legacy-popover",function($){initAmazonPopover($);
return null;
});
}function initAmazonPopover($){if(!$||$.AmazonPopover){return;
}var rootElement=function(){var container=$("#ap_container");
return container.length&&container||$("body");
};
var viewport={width:function(){return Math.min($(window).width(),$(document).width());
},height:function(){return $(window).height();
}};
var mouseTracker=function(){var regions=[],n=3,cursor=[{x:0,y:0}],c=0,scroll=[0,0],listening=false;
var callbackArgs=function(){var pCursors=[];
for(var i=1;
i<n;
i++){pCursors.push(cursor[(c-i+n)%n]);
}return $.extend(true,{},{cursor:cursor[c],priorCursors:pCursors});
};
var check=function(immediately){for(var i=0;
i<regions.length;
i++){var r=regions[i];
var inside=$.grep(r.rects,function(n){return cursor[c].x>=n[0]&&cursor[c].y>=n[1]&&cursor[c].x<n[0]+n[2]&&cursor[c].y<n[1]+n[3];
}).length>0;
if(r.inside!==null&&inside&&!r.inside&&r.mouseEnter){r.inside=r.mouseEnter(callbackArgs());
}else{if(r.inside!==null&&!inside&&r.inside&&r.mouseLeave){r.inside=!r.mouseLeave(immediately,callbackArgs());
}}}};
var startListening=function(){scroll=[$(window).scrollLeft(),$(window).scrollTop()];
$(document).mousemove(function(e){if(typeof e.pageY!=="undefined"){c=(c+1)%n;
cursor[c]={x:e.pageX,y:e.pageY};
}check();
});
if(!isMobileAgent(true)){$(document).scroll(function(e){cursor[c].x+=($(window).scrollLeft()-scroll[0]);
cursor[c].y+=($(window).scrollTop()-scroll[1]);
scroll=[$(window).scrollLeft(),$(window).scrollTop()];
check();
});
}listening=true;
};
return{add:function(rectsArray,options){if(!listening){startListening();
}var r=$.extend({rects:rectsArray},options);
regions.push(r);
return r;
},remove:function(region){for(var i=0;
i<regions.length;
i++){if(regions[i]===region){regions.splice(i,1);
return;
}}},checkNow:function(){check(true);
},getCallbackArgs:function(){return callbackArgs();
}};
}();
var iframePool=function(){var ie6=$.browser.msie&&parseInt($.browser.version,10)<=6;
var src=ie6?window.AmazonPopoverImages.pixel:"javascript:void(false)";
var HTML='<iframe frameborder="0" tabindex="-1" src="'+src+'" style="display:none;position:absolute;z-index:0;filter:Alpha(Opacity=\'0\');opacity:0;" />';
var pool=[];
var addToLib=function(n){for(var i=0;
i<n;
i++){pool.push($(HTML).prependTo(rootElement()));
}};
$(document).ready(function(){addToLib(3);
});
return{checkout:function(jqObj){if(!pool.length){addToLib(1);
}return pool.pop().css({display:"block",top:jqObj.offset().top,left:jqObj.offset().left,width:jqObj.outerWidth(),height:jqObj.outerHeight(),zIndex:Number(jqObj.css("z-index"))-1});
},checkin:function(iframe){pool.push(iframe.css("display","none"));
}};
}();
var elementHidingManager=function(){var hiddenElements=[];
var win=/Win/.test(navigator.platform);
var mac=/Mac/.test(navigator.platform);
var linux=/Linux/.test(navigator.platform);
var version=parseInt($.browser.version,10);
var canOverlayWmodeWindow=false;
var intersectingPopovers=function(obj){var bounds=[obj.offset().left,obj.offset().top,obj.outerWidth(),obj.outerHeight()];
var intersecting=[];
for(var i=0;
i<popovers.length;
i++){var disparate=false;
if(!popovers[i].settings.modal){var r=popovers[i].bounds;
disparate=bounds[0]>r[0]+r[2]||r[0]>bounds[0]+bounds[2]||bounds[1]>r[1]+r[3]||r[1]>bounds[1]+bounds[3];
}if(!disparate){intersecting.push(popovers[i]);
}}return intersecting;
};
var shouldBeVisible=function(obj){if(obj.hasClass("ap_never_hide")){return true;
}if(intersectingPopovers(obj).length){if(obj.is("object,embed")){var wmode=obj.attr("wmode")||obj.children("object,embed").attr("wmode")||obj.parent("object,embed").attr("wmode")||"window";
if(wmode.toLowerCase()=="window"&&!canOverlayWmodeWindow){return false;
}}if(obj.is("iframe")){if($.browser.safari){return false;
}}}return true;
};
var setVisibility=function(elementQuery,shouldBecomeVisible){if(elementQuery.is("iframe[id^=DA],iframe[id^=cachebust]")){elementQuery.css({display:shouldBecomeVisible?"block":"none"});
}else{elementQuery.css({visibility:shouldBecomeVisible?"visible":"hidden"});
}};
return{update:function(){var HIDDEN=0;
var VISIBLE=1;
var stillHidden=[];
for(var i=0;
i<hiddenElements.length;
i++){var hiddenElement=hiddenElements[i];
if(!shouldBeVisible(hiddenElement)){stillHidden.push(hiddenElement);
}else{setVisibility(hiddenElement,VISIBLE);
}}hiddenElements=stillHidden;
$("object:visible,embed:visible,iframe:visible").each(function(){var obj=$(this);
if(!shouldBeVisible(obj)){hiddenElements.push(obj);
setVisibility(obj,HIDDEN);
}});
}};
}();
var applyBacking=function(popover,options){var region=null;
var iframe=null;
options=options||{};
var destroy=function(){if(region){mouseTracker.remove(region);
region=null;
}if(iframe){iframePool.checkin(iframe);
iframe=null;
}elementHidingManager.update();
};
var refreshBounds=function(){var newBounds=[popover.offset().left,popover.offset().top,popover.outerWidth(),popover.outerHeight()];
if(region){region.rects[0]=newBounds;
}if(iframe){iframe.css({left:newBounds[0],top:newBounds[1],width:newBounds[2],height:newBounds[3]});
}elementHidingManager.update();
};
var reposition=function(x,y){if(iframe){iframe.css({left:x,top:y});
}if(region){region.rects[0][0]=x;
region.rects[0][1]=y;
}};
if(options.useIFrame!==false){iframe=iframePool.checkout(popover);
}var bounds=[[popover.offset().left,popover.offset().top,popover.outerWidth(),popover.outerHeight()]];
if(options.additionalCursorRects){for(var i=0;
i<options.additionalCursorRects.length;
i++){bounds.push(options.additionalCursorRects[i]);
}}region=mouseTracker.add(bounds,options);
elementHidingManager.update();
popover.backing={destroy:destroy,refreshBounds:refreshBounds,reposition:reposition,iframe:iframe};
};
var defaultSettings={width:500,followScroll:false,locationMargin:4,alignMargin:0,windowMargin:4,locationFitInWindow:true,focusOnShow:true,modal:false,draggable:false,zIndex:200,showOnHover:false,hoverShowDelay:400,hoverHideDelay:200,skin:"default",useIFrame:true,clone:false,ajaxSlideDuration:400,ajaxErrorContent:null,paddingLeft:17,paddingRight:17,paddingBottom:8};
var overlay=null;
var popovers=[];
var et={MOUSE_ENTER:1,MOUSE_LEAVE:2,CLICK_TRIGGER:4,CLICK_OUTSIDE:8,fromStrings:function(s){var flags=0;
var self=this;
if(s){$.each($.makeArray(s),function(){flags=flags|self[this];
});
}return flags;
}};
var ajaxCache={};
var preparedPopover=null;
var openGroupPopover={};
var skins={"default":'<div class="ap_popover ap_popover_sprited" surround="6,16,18,16" tabindex="0">                     <div class="ap_header">                         <div class="ap_left"/>                         <div class="ap_middle"/>                         <div class="ap_right"/>                     </div>                     <div class="ap_body">                         <div class="ap_left"/>                         <div class="ap_content"><img src="'+window.AmazonPopoverImages.snake+'"/></div>                         <div class="ap_right"/>                     </div>                     <div class="ap_footer">                         <div class="ap_left"/>                         <div class="ap_middle"/>                         <div class="ap_right"/>                     </div>                     <div class="ap_titlebar">                         <div class="ap_title"/>                     </div>                     <div class="ap_close"><a href="#"><span class="ap_closetext"/><span class="ap_closebutton"><span></span></span></a></div>                 </div>',"default_non_sprited":'<div class="ap_popover ap_popover_unsprited" surround="6,16,18,16" tabindex="0">                     <div class="ap_header">                         <div class="ap_left"/>                         <div class="ap_middle"/>                         <div class="ap_right"/>                     </div>                     <div class="ap_body">                         <div class="ap_left"/>                         <div class="ap_content"><img src="'+window.AmazonPopoverImages.snake+'"/></div>                         <div class="ap_right"/>                     </div>                     <div class="ap_footer">                         <div class="ap_left"/>                         <div class="ap_middle"/>                         <div class="ap_right"/>                     </div>                     <div class="ap_titlebar">                         <div class="ap_title"/>                     </div>                     <div class="ap_close"><a href="#"><span class="ap_closetext"/><img border="0" src="'+window.AmazonPopoverImages.btnClose+'"/></a></div>                 </div>',"classic":'<div class="ap_classic">                     <div class="ap_titlebar">                         <div class="ap_close">                             <img width="46" height="16" border="0" alt="close" onmouseup=\'this.src="'+window.AmazonPopoverImages.closeTan+"\";' onmouseout='this.src=\""+window.AmazonPopoverImages.closeTan+"\";' onmousedown='this.src=\""+window.AmazonPopoverImages.closeTanDown+'";\' src="'+window.AmazonPopoverImages.closeTan+'" />                         </div>                         <span class="ap_title"></span>                     </div>                     <div class="ap_content"><img src="'+window.AmazonPopoverImages.loadingBar+'"/></div>                 </div>'};
var boundingRectangle=function(set){var b={left:Infinity,top:Infinity,right:-Infinity,bottom:-Infinity};
set.each(function(){try{var t=$(this);
var o=t.offset();
var w=t.outerWidth();
var h=t.outerHeight();
if(t.is("area")){var ab=boundsOfAreaElement(t);
o={left:ab[0],top:ab[1]};
w=ab[2]-ab[0];
h=ab[3]-ab[1];
}if(o.left<b.left){b.left=o.left;
}if(o.top<b.top){b.top=o.top;
}if(o.left+w>b.right){b.right=o.left+w;
}if(o.top+h>b.bottom){b.bottom=o.top+h;
}}catch(e){}});
return b;
};
var bringToFront=function(popover){if(popovers.length<=1){return;
}var maxZ=Math.max.apply(Math,$.map(popovers,function(p){return Number(p.css("z-index"));
}));
if(Number(popover.css("z-index"))==maxZ){return;
}popover.css("z-index",maxZ+2);
popover.backing&&popover.backing.iframe.css("z-index",maxZ+1);
};
$.fn.removeAmazonPopoverTrigger=function(){this.unbind("click.amzPopover");
this.unbind("mouseover.amzPopover");
this.unbind("mouseout.amzPopover");
return this;
};
$.fn.amazonPopoverTrigger=function(customSettings){var settings=$.extend({},defaultSettings,customSettings);
var triggers=this;
var popover=null;
if(!settings.showOnHover&&settings.skin=="default"){this.bind("mouseover.amzPopover",preparePopover);
}var hoverSet;
if(typeof settings.showOnHover=="string"){hoverSet=triggers.filter(settings.showOnHover);
}else{hoverSet=settings.showOnHover?triggers:$([]);
}var timerID=null;
hoverSet.bind("mouseover.amzPopover",function(e){if(!popover&&!timerID){timerID=setTimeout(function(){if(!popover){var parent=triggers.parent(),length=parent.length,tagName=length?parent.attr("tagName")||parent.get(0).tagName:undefined;
if(length&&tagName){if(!settings.triggeringEnabled||settings.triggeringEnabled.call(triggers)){popover=displayPopover(settings,triggers,function(){popover=null;
});
}}}timerID=null;
},settings.hoverShowDelay);
}return false;
});
hoverSet.bind("mouseout.amzPopover",function(e){if(!popover&&timerID){clearTimeout(timerID);
timerID=null;
}});
triggers.bind("click.amzPopover",function(e){var followLink=settings.followLink===true||typeof settings.followLink=="function"&&settings.followLink.call(triggers,popover,settings);
if(followLink){return true;
}if(popover){popover.triggerClicked();
}else{if(!settings.triggeringEnabled||settings.triggeringEnabled.call(triggers)){popover=displayPopover(settings,triggers,function(){popover=null;
});
}}return false;
});
this.amznPopoverHide=function(){popover&&popover.close();
};
this.amznPopoverVisible=function(){return !!popover;
};
return this;
};
var updateBacking=function(group){if(group&&openGroupPopover[group]){var popover=openGroupPopover[group];
if(popover.backing){popover.backing.refreshBounds();
}}};
var displayPopover=function(settings,triggers,destroyFunction){addAliases(settings);
var parent=null;
if(triggers){var parents=triggers.eq(0).parents().get();
for(var t=0;
t<parents.length&&!parent;
t++){for(var i=0;
i<popovers.length&&!parent;
i++){if(popovers[i].get(0)==parents[t]){parent=popovers[i];
}}}}var children=[];
children.remove=function(p){for(var i=0;
i<this.length;
i++){if(this[i]===p){this.splice(i,1);
return;
}}};
var interactedWith=false;
$.each(defaultSettings,function(k,v){if(typeof settings[k]=="undefined"){settings[k]=v;
}});
if(!settings.location){settings.location=settings.modal||!triggers?"centered":"auto";
}if(settings.showCloseButton===null){settings.showCloseButton=!settings.showOnHover;
}$.each(popovers,function(){settings.zIndex=Math.max(settings.zIndex,Number(this.css("z-index"))+2);
});
var closeEvent=(settings.showOnHover?et.MOUSE_LEAVE:et.CLICK_TRIGGER)|(settings.modal?et.CLICK_OUTSIDE:0);
closeEvent=(closeEvent|et.fromStrings(settings.closeEventInclude))&~et.fromStrings(settings.closeEventExclude);
var clickAwayHandler;
var reposition=function(){position(popover,settings,triggers);
};
var close=function(){if(settings.group){openGroupPopover[settings.group]=null;
}if(original&&original.parents("body").length){if(ballMarker&&ballMarker.parents("body").length){original.hide().insertAfter(ballMarker);
ballMarker.remove();
ballMarker=null;
}else{original.hide().appendTo(rootElement());
}}if(original!=popover){popover.remove();
}if(parent){parent.children.remove(popover);
}for(var i=0;
i<popovers.length;
i++){if(popovers[i]===popover){popovers.splice(i,1);
break;
}}if(popover.backing){popover.backing.destroy();
popover.backing=null;
}mouseTracker.checkNow();
if(destroyFunction){destroyFunction();
}if(settings.onHide){settings.onHide.call(triggers,popover,settings);
}if(settings.modal&&overlay){if(overlay.fitToScreen){$(window).unbind("resize",overlay.fitToScreen);
}overlay.remove();
overlay=null;
}$(document).unbind("scroll.AmazonPopover");
$(document).unbind("click",clickAwayHandler);
for(var i=0;
i<children.length;
i++){children[i].close();
}children=[];
return false;
};
var fill=function(content,autoshow){var container=popover.find(".ap_sub_content");
if(container.length===0){container=popover.find(".ap_content");
}if(typeof content=="string"){container.html(content);
}else{container.empty().append(content);
}if(typeof settings.autoshow=="boolean"?settings.autoshow:autoshow){if($.browser.msie){container.children().show().hide();
}container.children(":not(style)").show();
}container.find(".ap_custom_close").click(close);
if(settings.onFilled){settings.onFilled.call(triggers,popover,settings);
}return container;
};
if(settings.modal&&!overlay){overlay=showOverlay(close,settings.zIndex);
}var popover=null;
var original=null;
var ballMarker=null;
if(settings.skin=="default"){preparePopover();
popover=preparedPopover;
preparedPopover=null;
}else{var skin=$.isFunction(settings.skin)?settings.skin():settings.skin;
skin=skin||"<div><div class='ap_content' /></div>";
var skinIsHtml=/^[^<]*(<(.|\s)+>)[^>]*$/.test(skin);
var skinHtml=(skinIsHtml?skin:skins[skin]);
popover=$(skinHtml);
}if($.browser.msie&&parseInt($.browser.version,10)==6){fixPngs(popover);
}if(settings.skin=="default"){popover.find(".ap_content").css({paddingLeft:settings.paddingLeft,paddingRight:settings.paddingRight,paddingBottom:settings.paddingBottom});
}if(settings.localContent){if(settings.clone){fill($(settings.localContent).clone(true),true);
}else{original=$(settings.localContent);
ballMarker=$("<span style='display:none' />").insertBefore(original);
fill(original,true);
}}else{if(settings.literalContent){fill(settings.literalContent);
}}if(settings.destination){var destinationUrl=(typeof settings.destination=="function")?settings.destination():settings.destination;
if(settings.cacheable!==false&&ajaxCache[destinationUrl]){fill(ajaxCache[destinationUrl]);
}else{$.ajax({url:destinationUrl,timeout:settings.ajaxTimeout,success:function(data){if(settings.onAjaxSuccess){settings.onAjaxSuccess.apply(settings,arguments);
}var contentCacheable=data.match(/^(\s|<!--[\s\S]*?-->)*<\w+[^>]*\s+cacheable="(.*?)"/i)||data.match(/^(\s|<!--[\s\S]*?-->)*<\w+[^>]*\s+cacheable='(.*?)'/i);
if(settings.cacheable!==false&&(!contentCacheable||contentCacheable[2]!=="0")){ajaxCache[destinationUrl]=data;
}var title=data.match(/^(\s|<!--[\s\S]*?-->)*<\w+[^>]*\s+popoverTitle="(.*?)"/i)||data.match(/^(\s|<!--[\s\S]*?-->)*<\w+[^>]*\s+popoverTitle='(.*?)'/i);
if(title){settings.title=title[2];
popover.find(".ap_title").html(settings.title);
}if(settings.ajaxSlideDuration>0&&!($.browser.msie&&document.compatMode=="BackCompat")){popover.find(".ap_content").hide();
fill(data);
if(!settings.width){position(popover,settings,triggers);
}if(settings.onAjaxShow){settings.onAjaxShow.call(triggers,popover,settings);
}popover.find(".ap_content").slideDown(settings.ajaxSlideDuration,function(){position(popover,settings,triggers);
});
}else{fill(data);
if(settings.onAjaxShow){settings.onAjaxShow.call(triggers,popover,settings);
}position(popover,settings,triggers);
}},error:function(){var data=null;
if(typeof settings.ajaxErrorContent=="function"){data=settings.ajaxErrorContent.apply(settings,arguments);
}else{data=settings.ajaxErrorContent;
}if(data!==null){var container=fill(data);
var title=container.children("[popoverTitle]").attr("popoverTitle");
if(title){popover.find(".ap_title").html(title);
}position(popover,settings,triggers);
}}});
}}if(!settings.localContent&&!settings.literalContent&&!settings.destination){throw ("AmazonPopover wasn't provided a source of content.");
}if(parent){parent.children.push(popover);
}settings.surround=$.map((popover.attr("surround")||"0,0,0,0").split(","),function(n){return Number(n);
});
popover.css({zIndex:settings.zIndex,position:"absolute",left:-2000,top:-2000});
popover.click(function(e){if(!e.metaKey){e.stopPropagation();
}interactedWith=true;
});
clickAwayHandler=function(e){var leftButton=e.button===0||e.which==1;
if(leftButton&&!e.metaKey){close();
}};
if(closeEvent&et.CLICK_OUTSIDE){$(document).click(clickAwayHandler);
}popover.mousedown(function(e){if(!children.length){bringToFront(popover);
}});
var width=settings.width&&(typeof settings.width=="function"?settings.width():settings.width);
if(!width){width=getDynamicWidth(popover,settings)||popover.outerWidth();
}if(width){popover.css("width",width);
}if(settings.followScroll){$(document).bind("scroll.AmazonPopover",function(e){settings.followScroll(e);
});
}if(settings.title!==null&&settings.title!==undefined){var titleBar=popover.find(".ap_titlebar");
if(settings.skin=="default"){titleBar.css({width:(width-36)});
titleBar.find(".ap_title").css("width",width-70);
popover.find(".ap_content").css({paddingTop:18});
}popover.find(".ap_title").html(settings.title);
if(settings.draggable&&!settings.modal){enableDragAndDrop(titleBar,popover);
}titleBar.show();
if(settings.skin=="default"&&settings.wrapTitlebar){titleBar.addClass("multiline");
popover.find(".ap_content").css({paddingTop:titleBar.outerHeight()-9});
}}else{popover.find(".ap_titlebar").hide();
}if(settings.showCloseButton!==false){popover.find(".ap_close").show().click(close).mousedown(function(e){e.preventDefault();
e.stopPropagation();
return false;
}).css("cursor","default");
if(!settings.title){popover.find(".ap_content").css({paddingTop:10});
}popover.keydown(function(e){if(e.keyCode==27){close();
}});
}else{popover.find(".ap_close").css("display","none");
}if(settings.closeText){popover.find(".ap_closetext").text(settings.closeText).show();
}else{popover.find(".ap_closebutton span").text("Close");
}popover.appendTo(rootElement());
position(popover,settings,triggers);
$(document.activeElement).filter("input[type=text], select").blur();
popover.close=close;
if(settings.group){if(openGroupPopover[settings.group]){openGroupPopover[settings.group].close();
}openGroupPopover[settings.group]=popover;
}popover.show();
if(settings.focusOnShow){popover.get(0).hideFocus=true;
popover.focus();
}if(overlay&&overlay.snapToLeft){overlay.snapToLeft();
}if(settings.onShow){settings.onShow.call(triggers,popover,settings);
}popover.bounds=[popover.offset().left,popover.offset().top,popover.outerWidth(),popover.outerHeight()];
popovers.push(popover);
popover.reposition=reposition;
popover.close=close;
popover.settings=settings;
popover.triggerClicked=function(){if(closeEvent&et.CLICK_TRIGGER){close();
}};
popover.children=children;
if(closeEvent&et.MOUSE_LEAVE){var timerID=null;
var triggerRects=[];
$.each(triggers,function(){var n=$(this);
if(n.is("area")){var b=boundsOfAreaElement(n);
triggerRects.push([b[0],b[1],b[2]-b[0],b[3]-b[1]]);
}else{triggerRects.push([n.offset().left,n.offset().top,n.outerWidth(),n.outerHeight()]);
}});
if(settings.additionalCursorRects){$(settings.additionalCursorRects).each(function(){var n=$(this);
triggerRects.push([n.offset().left,n.offset().top,n.outerWidth(),n.outerHeight()]);
});
}applyBacking(popover,{solidRectangle:settings.solidRectangle,useIFrame:settings.useIFrame,mouseEnter:function(){if(timerID){clearTimeout(timerID);
timerID=null;
}return true;
},mouseLeave:function(immediately){if(settings.semiStatic&&interactedWith){return !children.length;
}if(timerID){clearTimeout(timerID);
timerID=null;
}if(children.length===0){if(immediately){close();
}else{timerID=setTimeout(function(){close();
timerID=null;
},settings.hoverHideDelay);
}return true;
}return false;
},additionalCursorRects:triggerRects,inside:true});
}else{applyBacking(popover,{solidRectangle:settings.solidRectangle,useIFrame:settings.useIFrame});
}$(function(){for(var i=0;
i<popovers.length;
i++){if(popovers[i].settings.modal){popovers[i].backing.refreshBounds();
}}});
return popover;
};
var isMobileAgent=function(inclusive){var reAry=["iPhone","iPad"];
if(inclusive){reAry.push("Silk/","Kindle Fire","Android","\\bTouch\\b");
}var reStr="("+reAry.join("|")+")";
return navigator.userAgent.match(new RegExp(reStr,"i"));
};
var getPageWidth=function(){return $.browser.msie?$(window).width():"100%";
};
var getPageHeight=function(){return $.browser.msie||isMobileAgent()?$(document).height():"100%";
};
var showOverlay=function(closeFunction,z){var overlay=$('<div id="ap_overlay"/>');
if($.browser.msie){overlay.fitToScreen=function(e){var windowHeight=$(document).height();
var windowWidth=$(window).width();
var children=overlay.children();
overlay.css({width:windowWidth,height:windowHeight,backgroundColor:"transparent",zIndex:z});
var appendElements=[];
for(var i=0;
i<children.size()||(windowHeight-(i*2000)>0);
i++){var paneHeight=Math.min(windowHeight-(i*2000),2000);
if(paneHeight>0){if(i<children.size()){children.eq(i).css({width:windowWidth,height:paneHeight});
}else{var slice=$("<div/>").css({opacity:0.4,zIndex:z,width:windowWidth,height:paneHeight,top:(i*2000)});
appendElements.push(slice[0]);
}}else{children.eq(i).remove();
}}if(appendElements.length){overlay.append(appendElements);
}};
overlay.snapToLeft=function(){overlay.css("left",$(document).scrollLeft());
};
$(window).bind("resize load",overlay.fitToScreen);
$(window).scroll(overlay.snapToLeft);
overlay.snapToLeft();
overlay.fitToScreen();
}else{overlay.css({width:getPageWidth(),height:getPageHeight(),position:($.browser.mozilla||$.browser.safari)?"fixed":"",opacity:0.4,zIndex:z});
}return overlay.appendTo(rootElement());
};
var HEADER_HEIGHT=45;
var FOOTER_HEIGHT=35;
var VERT_ARROW_OFFSET=327;
var LEFT_ARROW_OFFSET=0;
var RIGHT_ARROW_OFFSET=-51;
var attachedPositioning=function(popover,targetY,location,position,offset){if(popover.hasClass("ap_popover_sprited")){var dist=targetY-location.top-offset[1];
if(dist<HEADER_HEIGHT){dist=HEADER_HEIGHT;
}else{if(dist>popover.outerHeight()-FOOTER_HEIGHT){dist=popover.outerHeight()-FOOTER_HEIGHT;
}}var attachingSide=position=="left"?"right":"left";
var elm=popover.find(".ap_body .ap_"+attachingSide);
if(elm.length>0){elm.removeClass("ap_"+attachingSide).addClass("ap_"+attachingSide+"-arrow");
}else{elm=popover.find(".ap_body .ap_"+attachingSide+"-arrow");
}var xOffset=attachingSide=="left"?LEFT_ARROW_OFFSET:RIGHT_ARROW_OFFSET;
elm.css("backgroundPosition",xOffset+"px "+(dist-VERT_ARROW_OFFSET)+"px");
}};
var position=function(popover,settings,triggers){if(!settings.width){popover.css("width",getDynamicWidth(popover,settings));
}var offset=settings.locationOffset||[0,0];
var location;
if(typeof settings.location=="function"){location=settings.location.call(triggers,popover,settings);
}else{var names=$.map($.makeArray(settings.location),function(n){return n=="auto"?["bottom","left","right","top"]:n;
});
var set=settings.locationElement&&$(settings.locationElement)||triggers;
var b=set&&boundingRectangle(set);
location=locationFunction[names[0]](b,popover,settings);
var index=0;
for(var i=1;
i<names.length&&!location.fits;
i++){var next=locationFunction[names[i]](b,popover,settings);
if(next.fits){location=next;
index=i;
}}if(settings.attached&&(names[index]=="left"||names[index]=="right")){attachedPositioning(popover,(b.top+b.bottom)/2,location,names[index],offset);
}}popover.css({left:location.left+offset[0],top:location.top+offset[1],margin:location.margin,right:location.right});
if(popover.backing){popover.backing.refreshBounds();
}};
var horizPosition=function(b,popover,settings){var align=$.makeArray(settings.align||"left");
var x={min:$(document).scrollLeft()+settings.windowMargin-settings.surround[3],max:viewport.width()+$(document).scrollLeft()-settings.windowMargin-popover.outerWidth(),left:b.left-settings.surround[3]-settings.alignMargin,right:b.right-popover.outerWidth()+settings.surround[1]+settings.alignMargin,center:(b.left+b.right-popover.outerWidth())/2};
var align=$.grep($.makeArray(settings.align),function(n){return x[n];
});
if(align.length===0){align.push("left");
}for(var i=0;
i<align.length;
i++){if(x[align[i]]>=x.min&&x[align[i]]<=x.max){return x[align[i]];
}}if(settings.forceAlignment){return x[align[0]];
}if(x.min>x.max){return x.min;
}return x[align[0]]<x.min?x.min:x.max;
};
var vertPosition=function(b,popover,settings){var min=$(document).scrollTop()+settings.windowMargin;
var max=viewport.height()+$(document).scrollTop()-settings.windowMargin;
if(settings.attached){var midpoint=(b.top+b.bottom)/2;
if(midpoint-HEADER_HEIGHT<min){min=min+HEADER_HEIGHT<b.bottom?min:b.bottom-HEADER_HEIGHT;
}if(midpoint+FOOTER_HEIGHT>max){max=max-FOOTER_HEIGHT>b.top?max:b.top+FOOTER_HEIGHT;
}}else{min=Math.min(b.top-settings.alignMargin,min);
max=Math.max(b.bottom+settings.alignMargin,max);
}var y={min:min-settings.surround[0],max:max-popover.outerHeight()+settings.surround[2],top:b.top-settings.surround[0]-settings.alignMargin,bottom:b.bottom-popover.outerHeight()+settings.alignMargin+settings.surround[2],middle:(b.top+b.bottom-popover.outerHeight())/2};
var align=$.grep($.makeArray(settings.align),function(n){return y[n];
});
if(align.length===0){align.push("top");
}for(var i=0;
i<align.length;
i++){if(y[align[i]]>=y.min&&y[align[i]]<=y.max){return y[align[i]];
}}if(settings.forceAlignment){return y[align[0]];
}if(y.min>y.max){return y.min;
}return y[align[0]]<y.min?y.min:y.max;
};
var locationFunction={centered:function(b,popover,settings){var y=$(window).scrollTop()+100;
return{left:-(popover.outerWidth()/2),right:0,top:y,margin:"0% 50%",fits:true};
},top:function(b,popover,settings){var room=b.top-$(document).scrollTop()-settings.locationMargin*2;
var triggerInView=(b.left>=$(document).scrollLeft())&&(b.right<viewport.width()+$(document).scrollLeft());
return{left:horizPosition(b,popover,settings),top:b.top-popover.outerHeight()-settings.locationMargin+settings.surround[2],fits:triggerInView&&room>=popover.outerHeight()-settings.surround[0]-settings.surround[2]};
},left:function(b,popover,settings){var room=b.left-$(document).scrollLeft()-settings.locationMargin*2;
return{left:b.left-popover.outerWidth()-settings.locationMargin+settings.surround[1],top:vertPosition(b,popover,settings),fits:room>=popover.outerWidth()-settings.surround[1]-settings.surround[3]};
},bottom:function(b,popover,settings){var room=(viewport.height()+$(document).scrollTop())-b.bottom-settings.locationMargin*2;
var triggerInView=(b.left>=$(document).scrollLeft())&&(b.right<viewport.width()+$(document).scrollLeft());
return{left:horizPosition(b,popover,settings),top:b.bottom+settings.locationMargin-settings.surround[0],fits:triggerInView&&room>=popover.outerHeight()-settings.surround[0]-settings.surround[2]};
},right:function(b,popover,settings){var room=(viewport.width()+$(document).scrollLeft())-b.right-settings.locationMargin*2;
return{left:b.right+settings.locationMargin-settings.surround[3],top:vertPosition(b,popover,settings),fits:room>=popover.outerWidth()-settings.surround[1]-settings.surround[3]};
},over:function(b,popover,settings){var alignTo=popover.find(settings.align||".ap_content *").offset();
var corner=popover.offset();
var padding={left:alignTo.left-corner.left,top:alignTo.top-corner.top};
var left=b.left-padding.left;
var top=b.top-padding.top;
var adjustedLeft=Math.min(left,viewport.width()+$(document).scrollLeft()-popover.outerWidth()-settings.windowMargin);
adjustedLeft=Math.max(adjustedLeft,$(document).scrollLeft()-settings.surround[3]+settings.windowMargin);
var adjustedTop=Math.min(top,viewport.height()+$(document).scrollTop()-popover.outerHeight()+settings.surround[2]-settings.windowMargin);
adjustedTop=Math.max(adjustedTop,$(document).scrollTop()-settings.surround[0]+settings.windowMargin);
return{left:settings.forceAlignment?left:adjustedLeft,top:settings.forceAlignment?top:adjustedTop,fits:left==adjustedLeft&&top==adjustedTop};
}};
var addAliases=function(settings){settings.align=settings.align||settings.locationAlign;
settings.literalContent=settings.literalContent||settings.loadingContent;
};
var preparePopover=function(){if(!preparedPopover){var ie6=$.browser.msie&&parseInt($.browser.version,10)<=6;
preparedPopover=$(skins[ie6?"default_non_sprited":"default"]).css({left:-2000,top:-2000}).appendTo(rootElement());
}};
var fixPngs=function(obj){obj.find("*").each(function(){var match=($(this).css("background-image")||"").match(/url\("(.*\.png)"\)/);
if(match){var png=match[1];
$(this).css("background-image","none");
$(this).get(0).runtimeStyle.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+png+"',sizingMethod='scale')";
}});
};
var getDynamicWidth=function(popover,settings){var container=popover.find(".ap_content");
if(settings.skin=="default"&&container.length>0){var tempNode=$('<div class="ap_temp">'+container.html()+"</div>");
tempNode.css({display:"inline",position:"absolute",top:-9999,left:-9999});
rootElement().append(tempNode);
var marginLeft=parseInt(container.parent().css("margin-left"),10)||0;
var marginRight=parseInt(container.parent().css("margin-right"),10)||0;
var width=tempNode.width()+marginLeft+marginRight+settings.paddingLeft+settings.paddingRight+2;
if(width%2!==0){width++;
}tempNode.remove();
return Math.min(width,viewport.width());
}return null;
};
var enableDragAndDrop=function(titlebar,popover){titlebar.css("cursor","move");
disableSelect(titlebar.get(0));
titlebar.mousedown(function(e){e.preventDefault();
disableSelect(document.body);
var offset=[e.pageX-popover.offset().left,e.pageY-popover.offset().top];
var mousemove=function(e){e.preventDefault();
popover.css({left:e.pageX-offset[0],top:e.pageY-offset[1],margin:0});
if(popover.backing){popover.backing.reposition(e.pageX-offset[0],e.pageY-offset[1]);
}};
var mouseup=function(e){popover.focus();
enableSelect(document.body);
$(document).unbind("mousemove",mousemove);
$(document).unbind("mouseup",mouseup);
};
$(document).mousemove(mousemove).mouseup(mouseup);
});
};
var disableSelect=function(e){if(e){e.onselectstart=function(e){return false;
};
e.style.MozUserSelect="none";
}};
var enableSelect=function(e){if(e){e.onselectstart=function(e){return true;
};
e.style.MozUserSelect="";
}};
var boundsOfAreaElement=function(area){area=$(area);
var coords=$.map(area.attr("coords").split(","),function(n){return Number(n);
});
if(area.attr("shape").match(/circle/i)){coords=[coords[0]-coords[2],coords[1]-coords[2],coords[0]+coords[2],coords[1]+coords[2]];
}var x=[],y=[];
for(var i=0;
i<coords.length;
i++){(i%2===0?x:y).push(coords[i]);
}var min=[Math.min.apply(Math,x),Math.min.apply(Math,y)];
var max=[Math.max.apply(Math,x),Math.max.apply(Math,y)];
var mapName=area.parents("map").attr("name");
var mapImg=$("img[usemap=#"+mapName+"]");
var map=mapImg.offset();
map.left+=parseInt(mapImg.css("border-left-width"),10);
map.top+=parseInt(mapImg.css("border-top-width"),10);
return[map.left+min[0],map.top+min[1],map.left+max[0],map.top+max[1]];
};
$.AmazonPopover={displayPopover:displayPopover,mouseTracker:mouseTracker,updateBacking:updateBacking,support:{skinCallback:true,controlCallbacks:true}};
}})();

/* end popover/amzPopover.js */

/* end merged-core-js-1.2.6/core.js */

/* begin navbarJS-beacon/navbarJQ-beacon.js */
(function(c){function a(a){return[].slice.call(a)}function b(a){var b=c.$NavTimeout||{timeout:1,useSetImmediate:!1};return b.useSetImmediate&&c.setImmediate?c.setImmediate(a):setTimeout(a,b.timeout)}function e(a){return"function"===typeof a?a:function(){return a}}function d(a){var c=50,b=function(){2E4>=c&&!a()&&(setTimeout(b,c),c*=2)};return b}function h(){return"object"===typeof c.P&&"function"===typeof c.P.when&&"function"===typeof c.P.register&&"function"===typeof c.P.execute}function f(a){var b=
[],e=!1,d,f=!a?j:function(a,b,e){b.apply(c,e)},a=function(){if(!e){e=!0;d=arguments;for(var a=0,c=b.length;a<c;a++)f(b[a].t,b[a].f,d);b=void 0}};a.watch=function(a,c){c||(c=a,a=[]);e?f(a,c,d):b.push({t:a,f:c})};a.isFired=function(){return e};a.value=function(){return d||[]};return a}function g(b){var b=b||{bubble:!1},g,k={},l=function(a){return k[a]||(k[a]=f())};l.whenAvailable=function(a,b){var e=f(),d=b.length;if(0===d)return e(),e.watch;for(var h=0,g=function(){h++;if(!(h<d)){for(var a=[],f=0;f<
d;f++)a.push(l(b[f]).value()[0]);e.apply(c,a)}},i=0;i<d;i++)l(b[i]).watch(a,g);return e.watch};g=l;var n=0,m={},p={declare:function(a,b){m[a]||(m[a]={done:i()});g(a)(b)},build:function(a,c){j([b.sourceName,a],function(){p.declare(a,e(c)())})},getNow:function(a,b){return g(a).value()[0]||b},publish:function(a,e){p.declare(a,e);var d=b.parent;b.prefix&&(a=b.prefix+"."+a);void 0===d?(c.amznJQ&&c.amznJQ.declareAvailable(a),h()&&c.P.register(a,function(){return e})):b.bubble&&d.publish?d.publish(a,e):
d.declare&&d.declare(a,e)},importEvent:function(a,e){var f=b.parent,e=e||{},g=e.as||a,i=function(a){p.declare(g,void 0===a||null===a?e.otherwise:a)};if(f&&f.when&&f.declare&&f.build)f.when(a).run(i);else if(h()&&c.P.when(a).execute(i),c.amznJQ)c.amznJQ[b.useOnCompletion?"onCompletion":"available"](e.amznJQ||a,d(function(){var a;if(e.global){a=c;for(var b=(e.global||"").split("."),d=0,f=b.length;d<f;d++)a&&b[d]&&(a=a[b[d]])}else a=e.otherwise;if(e.retry&&(void 0===a||null===a))return!1;p.declare(g,
a);return!0}))},stats:function(a){var b=c.JSON.parse(c.JSON.stringify(m)),e;for(e in b)if(b.hasOwnProperty(e)){for(var d=b[e],f=d.depend||[],h,i=0,k=[],j=0;j<f.length;j++){var l=f[j];g(l).isFired()?m[l].done>i&&(i=m[l].done,h=l):k.push(l)}0<k.length?d.blocked=k:a?delete b[e]:0<i&&(d.longPole=h,d.afterLongPole=d.done-i)}return b},when:function(){function c(e,f){var h=i(),k=[b.sourceName,e];m[e]={depend:d,registered:h};g.whenAvailable(k,d)(k,function(){m[e].done=i();m[e].wait=m[e].done-h;f.apply(this,
a(arguments))})}var d=a(arguments);return{run:function(a,b){b?a="run."+a:(b=a,a="run.#"+n++);c(a,b)},declare:function(a,b){c(a,function(){p.declare(a,b)})},publish:function(a,b){c(a,function(){p.publish(a,b)})},build:function(b,d){c(b,function(){var c=a(arguments),c=e(d).apply(this,c);p.declare(b,c)})}}}};return p}function k(a){var a=a||"unknownSource",b=g({sourceName:a});b.declare("instance.sourceName",a);b.importEvent("jQuery",{as:"$",global:"jQuery"});b.importEvent("jQuery",{global:"jQuery"});
b.importEvent("amznJQ.AboveTheFold",{as:"page.ATF",useOnCompletion:!0});b.importEvent("amznJQ.theFold",{as:"page.ATF",useOnCompletion:!0});b.importEvent("amznJQ.criticalFeature",{as:"page.CF",useOnCompletion:!0});b.when("$").run("PageEventSetup",function(a){var e=function(){b.declare("page.domReady");b.declare("page.ATF");b.declare("page.CF");b.declare("page.loaded")};a(function(){b.declare("page.domReady")});a(c).load(e);"complete"===document.readyState?e():"interactive"===document.readyState&&b.declare("page.domReady")});
b.build("log",function(){return/[\?&]navDebug\b/.test(c.location.href)?function(a){c.console.log(a)}:function(){}});return b}if(!c.$Nav||c.$Nav._replay){var i=Date.now||function(){return+new Date},j,l=function(){var a=0;try{for(;n[a]&&50>a;)a++,n[a-1].f.apply(c,n[a-1].a)}catch(e){var d=e,f="";n[a-1].t&&(f="["+n[a-1].t.join(":")+"] ");d&&d.message?d.message=f+d.message:"object"===typeof e?d.message=f:d=f+d;if(c.ueLogError&&c.console&&c.console.error)c.ueLogError(d),c.console.error(d);else throw d;
}finally{n=n.slice(a),0<n.length?b(l):m=!1}},n=[],m;j=function(e,c,d){n.push({t:e,f:c,a:a(d||[])});m||(b(l),m=!0)};c.$Nav||(c.$Nav=k("rcx-nav"));if(c.$Nav.make){if(c.$Nav.make._shims){for(var u=0,r=c.$Nav.make._shims.length;u<r;u++){var p=c.$Nav.make._shims[u],t=k(p._sourceName);if(p._replay){for(var q=0,B=p._replay.length;q<B;q++)for(var v=t,s=p._replay[q],x=0,z=s.length;x<z;x++){var y=s[x];if(!v[y.m])break;v=v[y.m].apply(v,y.a)}q=void 0;for(q in t)t.hasOwnProperty(q)&&(p[q]=t[q]);delete p._replay}}c.$Nav.make=
k}}else c.$Nav.make=k;c.$Nav.declare("depend",g);c.$Nav.declare("promise",f);c.$Nav.declare("argArray",a);c.$Nav.declare("schedule",j);c.$Nav.declare("now",i)}})(window);window.$Nav.when("argArray").build("$F",function(c){function a(a,b){this.up=a;this.action=b}function b(b){return function(){var d=c(arguments);return new a(this,function(a){return b.apply(this,[a].concat(d))})}}a.prototype.on=function(a){a="function"===typeof a?a:function(){return a};return this.up?this.up.on(this.action(a)):a};a.prototype.run=function(a){return this.on(a)()};a.prototype.bind=b(function(a,b){return function(){return a.apply(b,arguments)}});a.prototype.memoize=b(function(a){var b,
c=!1;return function(){c||(c=!0,b=a.apply(this,arguments),a=null);return b}});a.prototype.once=b(function(a){var b=!1;return function(){if(!b){b=!0;var c=a.apply(this,arguments);a=null;return c}}});a.prototype.debounce=b(function(a,b,c){var f;return function(){c&&!f&&a();f&&clearTimeout(f);f=setTimeout(function(){f=null;c||a()},b)}});a.prototype.after=b(function(a,b,c){return function(){(c&&0<b||!c&&0>=b)&&a();b--}});a.prototype.delay=b(function(a,b){var c=void 0===b?0:b;return function(){return setTimeout(a,
c)}});a.prototype.partial=b(function(a){var b=Array.prototype.slice.call(arguments,1);return function(){return a.apply(this,b.concat(c(arguments)))}});a.prototype.rpartial=b(function(a){var b=Array.prototype.slice.call(arguments,1);return function(){return a.apply(this,c(arguments).concat(b))}});a.prototype.throttle=b(function(a,b){function c(){g?(g=!1,setTimeout(c,b),a()):f=!1}var f=!1,g=!1;return function(){f?g=!0:(f=!0,setTimeout(c,b),a())}});a.prototype.iff=b(function(a,b){return"function"===
typeof b?function(){if(b())return a.apply(this,arguments)}:b?a:function(){}});a.prototype.tap=b(function(a,b){var h=Array.prototype.slice.call(arguments,2);return function(){b.apply(this,h.concat(c(arguments)));return a.apply(this,arguments)}});return new a});(function(c,a){a.when("$").run("ImportPopovers",function(b){a.importEvent("legacy-popover",{as:"$popover",amznJQ:"popover",otherwise:b})});a.importEvent("iss",{amznJQ:"search-js-autocomplete",global:"iss",retry:!0});a.when("nav.inline").declare("config.newFlyouts",!1);a.when("nav.inline").declare("config.velocityFlyoutToggling",!1);a.when("nav.inline").declare("config.velocityFlyoutThreshold",75);a.when("nav.inline","api.unHideSWM","api.exposeSBD","api.navDimensions","api.onShowProceedToCheckout",
"api.update","api.setCartCount","api.getLightningDealsData","api.overrideCartButtonClick","ajax.flyoutDispatcher","flyout.shopall","flyout.wishlist","flyout.cart","flyout.youraccount").publish("navbarJSInteraction");a.when("navbarJSInteraction").publish("navbarJS-beacon");a.when("navbarJSInteraction").publish("navbarJS-jQuery");c.$Nav&&a.when("logEvent.enabled").build("logEvent",function(b){var e={};return function(d,h){var f=d.t+"|"+d.id;e[f]||(e[f]=!0,a.getNow("log",function(){})("logEv:"+f),b&&
(c.ue&&c.ue.log)&&c.ue.log(d,"navigation",h))}})})(window,window.$Nav);window.$Nav.when("$","now","agent").build("MouseTracker",function(c,a,b){function e(b){f.push({x:b.pageX,y:b.pageY,when:g?b.timeStamp:a()});100<f.length&&(f=f.slice(-h))}function d(){this.active=!0;0===k&&c(document).mousemove(e);k++}var h=10,f=[],g=!b.firefox,k=0;d.prototype.stop=function(){this.active&&(k--,0===k&&c(document).unbind("mousemove",e))};d.prototype.position=function(){var a=f.length;return!a?null:c.extend(!0,{},f[a-1])};d.prototype.velocity=function(){var b=f.length;if(1<b&&75>=a()-
f[b-1].when)for(var c=f[b-1],e=2;e<=b;e++){var d=f[b-e],h=c.when-d.when,d=Math.abs(c.x-d.x)+Math.abs(c.y-d.y);if(0<d&&0<h)return 1E3*(d/h)}return 0};d.prototype.history=function(a){var b=f.length;if(0===b)return[];var e=Math.min(b,h);0<arguments.length&&(e=Math.min(e,a));for(var d=[],g=b-1,b=b-e;g>=b;g--)d.push(c.extend(!0,{},f[g]));return d};return{start:function(){return new d}}});
window.$Nav.when("$","$F","MouseTracker").build("Proximity",function(c,a,b){return{onEnter:function(e,d,h,f){function g(){r&&(window.clearInterval(r),r=null);k&&(k.stop(),k=null);i=null}var k=b.start(),i,j=[],l=[],n=[],m=[];e.each(function(a,b){var b=c(b),e=b.offset();j.push(e.left);n.push(e.top);l.push(e.left+b.width());m.push(e.top+b.height())});i={left:Math.min.apply(Math,j)-d[3],top:Math.min.apply(Math,n)-d[0],right:Math.max.apply(Math,l)+d[1],bottom:Math.max.apply(Math,m)+d[2]};var u;u=f?a.throttle(f).on(h):
a.once().on(function(){g();h()});var r=window.setInterval(function(){var a=k.position();a&&(a.x>=i.left&&a.x<=i.right&&a.y>=i.top&&a.y<=i.bottom)&&u()},100);return{unbind:function(){g()}}}}});
window.$Nav.when("$","$F","promise","MouseTracker").build("flyout.MouseIntent",function(c,a,b,e){function d(a,b,c,e){var d=(c.x-b.x)*(e.y-b.y)-(e.x-b.x)*(c.y-b.y),h=((e.x-a.x)*(b.y-a.y)-(b.x-a.x)*(e.y-a.y))/d,b=((b.x-a.x)*(c.y-a.y)-(c.x-a.x)*(b.y-a.y))/d;return 0<((c.x-a.x)*(e.y-a.y)-(e.x-a.x)*(c.y-a.y))/d&&0<h&&0<b}function h(d,h){var k,i,d=c(d),h=h||{};this._onStrayEvent=b();this._onArriveEvent=b();this._tracker=e.start();this.onArrive(a.bind(this._tracker).on(this._tracker.stop));this.onStray(a.bind(this._tracker).on(this._tracker.stop));
this._minorDelay=h.minorDelay||200;this._majorDelay=h.majorDelay||100;i=d;var j=h.slop||25,l=i.offset();k={x:l.left,y:l.top-j};i={x:l.left+i.outerWidth(),y:l.top+i.outerWidth()+j};this._upperLeft=k;this._lowerRight=i;this._minor=0;this._tick()}h.prototype.onArrive=function(a){this._onArriveEvent.watch(a);return this};h.prototype.onStray=function(a){this._onStrayEvent.watch(a);return this};h.prototype._scheduleTick=function(b){this._timer=a.delay(b).bind(this).run(this._tick)};h.prototype.cancel=function(){this._timer&&
window.clearTimeout(this._timer)};h.prototype._tick=function(){if(!this._onStrayEvent.isFired()&&!this._onArriveEvent.isFired()){var a=this._tracker.history(2);if(2>a.length)this._scheduleTick(this._minorDelay);else{var b=a[0],a=a[1];b.x>=this._upperLeft.x&&b.x<=this._lowerRight.x&&b.y>=this._upperLeft.y&&b.y<=this._lowerRight.y?this._onArriveEvent():!d(b,a,this._upperLeft,this._lowerRight)&&!d(b,a,{x:this._lowerRight.x,y:this._upperLeft.y},{x:this._upperLeft.x,y:this._lowerRight.y})?this._onStrayEvent():
2>Math.abs(b.x-a.x)&&2>Math.abs(b.y-a.y)?2<=this._minor?this._onStrayEvent():(this._minor++,this._scheduleTick(this._minorDelay)):(this._minor=0,this._scheduleTick(this._majorDelay))}}};return h});
window.$Nav.when("$F","flyout.EventStream","flyout.MouseIntent").build("flyout.SloppyTrigger",function(c,a,b){function e(){}e.prototype.register=function(a,b,e){a.mouseover(c.bind(this).partial(e,b).on(this._show))};e.prototype._show=function(a,e){var f={flyout:a,content:e};this._shown?this._shown.flyout!==a&&(this._toShow=f,this._intent||(this._intent=(new b(this._shown.content)).onArrive(c.bind(this).on(function(){this._toShow=this._intent=null})).onStray(c.bind(this).on(function(){this._intent=
null;this._shown.flyout.hide();this._toShow.flyout.show();this._shown=this._toShow;this._toShow=null})))):(this._shown=f,a.show())};e.prototype.reset=function(){this._intent&&(this._intent.cancel(),this._intent=null);this._shown&&(this._shown.flyout.hide(),this._shown=null)};return e});
window.$Nav.when("$F","argArray").build("flyout.EventStream",function(c,a){function b(){this._observers=[]}b.prototype.trigger=function(){for(var b=a(arguments),c=0,h=this._observers.length;c<h;c++)this._observers[c].apply(window,b)};b.prototype.observe=function(a){if("function"!==typeof a)throw"Can't register a non-function observer";this._observers.push(a)};b.prototype.boundObserve=function(){return c.bind(this).on(this.observe)};return b});
window.$Nav.when("$","$byID","agent").build("flyout.fullWidthPosition",function(c,a,b){return function(c){return{align:function(d){c.align(d);d.css({left:"0",right:"0","border-radius":"0px","border-right":"0px","border-left":"0px","padding-left":"0px","padding-right":"0px","min-width":"1000px"});b.quirks&&d.css({width:a("navbar").width()+"px"})}}}});
window.$Nav.when("$","$F","agent").build("flyout.position",function(c){function a(a,b){return parseInt(a.css(b)||"0",10)||0}function b(a,b){a=a.split(" ");if(!e[a[0]])throw"Invalid vertical descriptor: "+a[0];d[a[1]]&&(this.horiz=d[a[1]]);this.vert=e[a[0]];this.nudge={x:b&&b.x?b.x:0,y:b&&b.y?b.y:0}}var e={top:{offset:function(a){return a.offset().top},align:function(b,c){return{top:c-b.offset().top+b.position().top+a(b,"margin-top")}}},middle:{offset:function(a){return a.offset().top+a.outerHeight()/
2},align:function(a,b){return{top:b-a.offset().top+a.position().top-a.outerHeight()/2}}},bottom:{offset:function(a){return a.offset().top+a.outerHeight()},align:function(b,c){return{top:c-b.offset().top+b.position().top-b.outerHeight()+a(b,"margin-bottom")}}}},d={left:{offset:function(a){return a.offset().left},align:function(b,c){return{left:c-b.offset().left+b.position().left+a(b,"margin-left")}}},right:{offset:function(a){return a.offset().left+a.outerWidth()},align:function(b,e){var d;d=document.documentElement.clientWidth?
document.documentElement.clientWidth:c(window).width();return{right:d-e+a(b,"margin-right")}}}};b.prototype.on=function(a){a=c(a);return{x:this.horiz?this.horiz.offset(a)+this.nudge.x:this.nudge.x,y:this.vert.offset(a)+this.nudge.y}};b.prototype.alignment=function(a,b){return c.extend({},this.horiz?this.horiz.align(a,b.x+this.nudge.x):{left:this.nudge.x},this.vert.align(a,b.y+this.nudge.y))};b.prototype.to=function(a,e){var d=new b(a,e),k=this;return{usingBase:function(a){return{align:function(b){var b=
c(b),e=k.on(a);b.css("position","absolute");b.css(d.alignment(b,e))}}}}};return function(a,c){return new b(a,c)}});
window.$Nav.when("$","$F","argArray","promise","flyout.EventStream").build("flyout.Engine",function(c,a,b,e,d){function h(a){var b;b="object"===typeof window.Node?a instanceof window.Node:a&&"object"===typeof a&&"number"===typeof a.nodeType&&"string"===typeof a.nodeName;if(b||a instanceof c)return a;if("function"===typeof a)return h(a());throw"Unsupported flyout content type";}function f(b){this._renderEvents=e(!0);this.onRender=this._renderEvents.watch;this._showEvents=new d;this.onShow=this._showEvents.boundObserve();
this._hideEvents=new d;this.onHide=this._hideEvents.boundObserve();this.aligner=b.align||function(){};this.elem=a.memoize().on(function(){var a=c(h(b.content));a.css(b.css||{});this._renderEvents(a);return a});c(window).bind("resize",a.bind(this).on(this.align))}f.prototype.align=function(){this._renderEvents.isFired()&&this.isVisible()&&(this.aligner.align?this.aligner.align(this.elem()):"function"===typeof this.align&&this.aligner(this.elem()))};f.prototype.isVisible=function(){return this._renderEvents.isFired()&&
this.elem().is(":visible")};f.prototype.show=function(){this.isVisible()||(this.elem().show(),this.align(),this._showEvents.trigger(this))};f.prototype.hide=function(){this.isVisible()&&(this.elem().hide(),this._hideEvents.trigger(this))};f.prototype.onInteract=function(b){function c(){e&&window.clearTimeout(e);e=null}var e;this.onShow(function(){c();e=a.delay(750).run(b)});this.onHide(c)};return f});
window.$Nav.when("$","$F","MouseTracker","config.velocityFlyoutThreshold","nav.inline").build("flyout.VelocityTrigger",function(c,a,b,e){function d(a){this.inner=a}d.prototype.show=function(){this.hideTimer&&(window.clearTimeout(this.hideTimer),this.hideTimer=null);this.tracker=b.start();this.velocityInterval=setInterval(a.bind(this).on(function(){this.tracker&&this.tracker.velocity()<e&&(this.inner.show(),window.clearInterval(this.velocityInterval),this.velocityInterval=null,this.tracker.stop(),
this.tracker=null);!this.tracker&&this.velocityInterval&&(window.clearInterval(this.velocityInterval),this.velocityInterval=null)}),25)};d.prototype.hide=function(){this.hideTimer||(this.hideTimer=a.delay(50).bind(this).run(function(){this.inner.hide()}));this.tracker&&(this.tracker.stop(),this.tracker=null)};d.prototype.onHoverOf=function(b){c(b).hover(a.bind(this).on(this.show),a.bind(this).on(this.hide));return this};d.hover=function(b,e){var g=new d(b);g.onHoverOf(e);b.onRender(function(e){c(e).hover(function(){g.hideTimer&&
(window.clearTimeout(g.hideTimer),g.hideTimer=null);b.show()},a.bind(g).on(g.hide))});return g};return d});
window.$Nav.when("$","$F").build("flyout.DelayTrigger",function(c,a){function b(a,b){this.timeout=a;this.inner=b}b.prototype.show=function(){this.hideTimer&&(window.clearTimeout(this.hideTimer),this.hideTimer=null);this.showTimer||(this.showTimer=a.delay(this.timeout).bind(this).run(function(){this.showTimer=null;this.inner.show()}))};b.prototype.hide=function(){this.showTimer&&(window.clearTimeout(this.showTimer),this.showTimer=null);this.hideTimer||(this.hideTimer=a.delay(this.timeout).bind(this).run(function(){this.hideTimer=
null;this.inner.hide()}))};b.prototype.onHoverOf=function(b){c(b).hover(a.bind(this).on(this.show),a.bind(this).on(this.hide));return this};b.hover=function(c,d,h){d=new b(d,c);d.onHoverOf(h);c.onRender(a.bind(d).on(d.onHoverOf));return d};return b});
window.$Nav.when("$","$F","agent").build("flyout.ClickTrigger",function(c,a,b){function e(a,b,e){var d=b.length;0===c(a.target).parents().add(a.target).filter(function(){for(var a=0;a<d;a++)if(this===b[a])return!0;return!1}).length&&e.hide()}function d(b){this.inner=b;this.elems=[];this.bodyHandler=a.rpartial(this.elems,b).on(e);b.onHide(function(){c(document.body).unbind("click",this.bodyHandler)})}d.prototype.ignoreClicks=function(a){this.elems.push(c(a).get(0));return this};d.prototype.showOnClick=
function(e,d){this.ignoreClicks(e);c(e).click(a.bind(this).on(function(a){if(0===a.button||void 0===a.button){if(this.inner.isVisible()){if(d)return;this.inner.hide()}else this.inner.show();b.touch&&d&&a.preventDefault();this.inner.isVisible()&&c(document.body).click(this.bodyHandler)}}));return this};d.build=function(a,b,c){var e=new d(a);e.showOnClick(b,c);a.onRender(function(a){e.ignoreClicks(a)})};return d});
window.$Nav.when("$","$F","now").build("flyout.FastGuardTrigger",function(c,a,b){function e(b){this.inner=b;this.lastInteract=0;this.isVisible=a.bind(b).on(b.isVisible);this.onRender=a.bind(b).on(b.onRender);this.onHide=a.bind(b).on(b.onHide);this.onShow=a.bind(b).on(b.onShow)}e.prototype.interacted=function(){this.lastInteract=b()};e.prototype.show=function(){this.inner.show();this.interacted()};e.prototype.hide=function(){400<b()-this.lastInteract&&this.inner.hide()};return e});
window.$Nav.when("$F","flyout.EventStream").build("flyout.LockTrigger",function(c,a){function b(b){this.locked=!1;this.inner=b;this.isVisible=c.bind(b).on(b.isVisible);this.onHide=c.bind(b).on(b.onHide);this.onShow=c.bind(b).on(b.onShow);this.onRender=c.bind(b).on(b.onRender);this._onHideRequestEvents=new a;this.onHideRequest=this._onHideRequestEvents.boundObserve();this._onLockRequestEvents=new a;this.onLockRequest=this._onLockRequestEvents.boundObserve();this._onUnlockRequestEvents=new a;this.onUnlockRequest=
this._onUnlockRequestEvents.boundObserve()}b.prototype.show=function(){this.locked?this.visible=!0:this.inner.show();return this};b.prototype.hide=function(){this._onHideRequestEvents.trigger(this);this.locked?this.visible=!1:this.inner.hide();return this};b.prototype.lock=function(){this.locked=!0;this.visible=this.inner.isVisible();this._onLockRequestEvents.trigger(this,this.visible)};b.prototype.unlock=function(){this._onUnlockRequestEvents.trigger(this);this.locked=!1;this.visible?this.inner.show():
this.inner.hide()};return b});window.$Nav.when("$","agent","flyout.onClickDebug","flyout.LockTrigger","flyout.FastGuardTrigger").build("flyout.setupTriggers",function(c,a,b,e,d){return function(h,f,g){var k=function(a){var c=new e(a);f(c);b(function(){a.hide();c.lock()})};if(a.touch){var i=new d(h);k(i);g(i);h.onRender(function(a){c(a).bind("mousedown mouseup",function(){i.interacted()})})}else k(h),b(function(){g(h)})}});
window.$Nav.when("$F","argArray","flyout.EventStream").build("flyout.Group",function(c,a,b){function e(){this._grouped=[];this._showEvents=new b;this.onShow=this._showEvents.boundObserve()}e.prototype.register=function(b){this._grouped.push(b);var e=a(arguments);b.onShow(c.bind(this).on(function(){for(var a=0,c=this._grouped.length;a<c;a++)this._grouped[a]!==b&&this._grouped[a].hide();this._showEvents.trigger.apply(this._showEvents,e)}));return b};e.prototype.hide=function(){for(var a=0,b=this._grouped.length;a<
b;a++)this._grouped[a].hide()};return e});
window.$Nav.when("$","byID","agent").build("flyout.iframeShim",function(c,a,b){function e(){if(b.ie6){if(window.AmazonPopoverImages.pixel)return window.AmazonPopoverImages.pixel;var c=a("nav_trans_pixel");if(c)return c.src}return"javascript:void(false)"}function d(){var a=document.createElement("iframe");a.style.display="none";a.style.position="absolute";a.style.zIndex=-1;a.style.filter="Alpha(Opacity='0')";a.style.opacity=0;a.tabIndex=-1;a.src=e();f?f.appendChild(a):(f=document.createElement("div"),
f.appendChild(a),document.body.appendChild(f));return c(a)}function h(a,b){b.css({display:"block",top:a.offset().top,left:a.offset().left,width:a.outerWidth(),height:a.outerHeight(),zIndex:parseInt(a.css("z-index"),10)-1})}if(!b.ie6)return function(){return{checkout:function(){return{realign:function(){},release:function(){}}}}};var f,g=[];window.$Nav.when("page.CF").run("iframePool",function(){g.push(d())});return function(){var a;return{checkout:function(b){a&&a.release();var e=0<g.length?g.pop():
d(),f=b,f=c(f);h(f,e);var n=!1;return a={realign:function(){h(f,e)},release:function(){n||(n=!0,e.css("display","none"),g.push(e))}}}}}});window.$Nav.when("api.publish").build("flyout.registry",function(c){var a={};c("flyout",function(b){return a[b]});c("lockFlyouts",function(b){for(var c in a)a.hasOwnProperty(c)&&(b&&a[c].hide(),a[c].lock())});c("unlockFlyouts",function(){for(var b in a)a.hasOwnProperty(b)&&a[b].unlock()});return function(b,c){return a[b]=c}});
window.$Nav.when("$F","promise","api.publish").build("flyout.onClickDebug",function(c,a,b){a=a(!0);b("debugFlyoutClick",c.on(a));/[\?&]navFlyoutClick\b/.test(window.location.href)?a():/\bnavFlyoutClick=/.test(document.cookie)&&a();return a.watch});
window.$Nav.when("$","$byID","$F","agent","logEvent","now","Proximity","config.ajaxProximity","config.sslTriggerType","config.sslTriggerRetry").build("flyout.sslTrigger",function(c,a,b,e,d,h,f,g,k,i){if(k){var j="https://"+window.location.hostname+"/empty.gif",l=["yourAccount"],n=[],m=0,u=b.after(i+1,!0).on(function(){(new Image).src=j+"?"+h();m++;d("SSL "+m+" "+k)}),r;r=i?b.debounce(45E3,!0).on(u):b.once().on(function(){u();for(var a=0;a<n.length;a++)n[a]()});return function(a,d,h){if(-1!==c.inArray(a,
l))switch(e.touch&&(k="flyoutOpen"),k){case "flyoutProximity":a=f.onEnter(c(d.button),g||[0,0,0,0],r,i?45E3:0);n.push(a.unbind);break;case "flyoutOpen":h.onShow(r);break;case "flyoutHover":h.onRender(b.once().on(function(a){a.bind("mouseover.sslTriggerEvent",r);n.push(function(){a.unbind("mouseover.sslTriggerEvent")})}));break;case "linkHover":h.onRender(b.once().on(function(a){c("a[href*='https://']",a).each(function(){var a=c(this);a.bind("mouseover.sslTriggerEvent",r);n.push(function(){a.unbind("mouseover.sslTriggerEvent")})})}))}}}});
window.$Nav.when("$","$F","areaMapper","agent","logEvent","lateTrigger","isAUI","dismissTooltip","flyout.Engine","flyout.position","flyout.Group","flyout.onClickDebug","flyout.DelayTrigger","flyout.VelocityTrigger","flyout.ClickTrigger","flyout.LockTrigger","flyout.setupTriggers","flyout.registry","flyout.iframeShim","flyout.fullWidthPosition","config.velocityFlyoutToggling","config.twoClickFlyouts","nav.inline").build("flyout.create",function(c,a,b,e,d,h,f,g,k,i,j,l,n,m,u,r,p,t,q,B,v,s){function x(a,
b,d){a=a.get(0);a.parentNode.removeChild(a);if(d)a=d(a);else if(e.ie&&!f()){d=document.createElement("div");for(d.className="nav-flyout-borders";a.firstChild;){var h=a.firstChild;a.removeChild(h);d.appendChild(h)}a.appendChild(d)}a.style.display="none";f()||(a.className+=" nav-beacon-flyout nav-css3");d=f()?"nav-aui":"nav-css3";a.className+=" "+d+(e.ie?"-ie":"-not-ie");e.ie6&&(a.className+=" "+d+"-ie6");b&&(a.className+=" "+b.join(" "));b=a;w||(w=document.createElement("div"),c(w).attr("id","nav_flyout_anchor").insertAfter("#navbar"));
w.appendChild(b);return c(a)}function z(){if(e.touch){var b=c("video");b.css("visibility","hidden");a.delay(10).run(function(){b.css("visibility","")})}}var y=window.$Nav.getNow("flyout.sslTrigger",function(){}),D=new j,w,C=q();return function(f,j){var q=c(j.button),F=c(j.content);if(q.length&&F.length){q.addClass("nav-menu-active").removeClass("nav-menu-inactive");var w=a.partial(F,j.classes,j.skin).on(x),N=c.extend({zIndex:1E3},j.css||{}),E=j.align,G=j.fullWidth;if(!E||"string"===typeof E)G&&(E=
null),E=i("bottom "+E).to("top "+E);E=E.usingBase(q);G&&(E=B(E));var A=new k({content:w,css:N,align:E});!1!==j.markOpen&&(A.onShow(function(){q.addClass("nav-button-outer-open")}),A.onHide(function(){q.removeClass("nav-button-outer-open")}));A.onShow(function(){b.disable(F)});A.onHide(b.enable);A.onShow(z);y(f,j,A);A.onShow(function(){if(!j.blur||j.blur())window.$Nav.getNow("iss",{blur:function(){}}).blur(),g()});A.onShow(a.memoize().on(function(){j.event&&d("string"===typeof j.event?{t:j.event}:
j.event);A.elem().find("li[data-nav-wt]").andSelf().each(function(){var a=c(this).attr("data-nav-wt");a&&h(a)})}));var K;A.onShow(function(){K=C.checkout(A.elem())});A.onHide(function(){K&&K.release()});w=new r(A);D.register(w);var T=q.find(".nav-down-arrow,.nav-subnav-down-arrow");w.onLockRequest(function(a,b){b||T.hide()});w.onUnlockRequest(function(){T.show()});N=a.once().on(function(){q.click(function(a){(0===a.button||void 0===a.button)&&a.preventDefault()})});j.noClick||e.touch&&!s?N():l(N);
p(w,function(a){!e.ie6&&!e.ie7&&v?m.hover(a,q):n.hover(a,250,q)},function(a){u.build(a,q,e.touch&&s)});if(j.ajaxFlyoutDispatcher)A.onShow(j.ajaxFlyoutDispatcher.loadDynamicMenusConditionally);A.onRender(function(a){a.append('<div class="nav-arrow">').append('<div class="nav-arrow-inner">')});return t(f,{elem:a.bind(A).on(A.elem),onShow:a.bind(A).on(A.onShow),onHide:a.bind(A).on(A.onHide),onHideRequest:a.bind(w).on(w.onHideRequest),onRender:a.bind(A).on(A.onRender),onInteract:a.bind(A).on(A.onInteract),
show:a.bind(w).on(w.show),hide:a.bind(w).on(w.hide),lock:a.bind(w).on(w.lock),unlock:a.bind(w).on(w.unlock),resized:function(){K&&K.realign()}})}}});(function(c){c.when("$").build("isAUI",function(a){return function(){return 0<a("#navbar.nav-aui").length}});c.when("$").build("first",function(a){return function(b,c,d){return a(b).filter("["+c+"='"+d+"']").filter(":first")}});c.when("$").build("agent",function(a){return new function(){function b(){var a=Array.prototype.slice.call(arguments,0);return RegExp("("+a.join("|")+")","i").test(navigator.userAgent)}this.iPhone=b("iPhone");this.iPad=b("iPad");this.kindleFire=b("Kindle Fire","Silk/");this.android=
b("Android");this.webkit=b("WebKit");this.ie10=b("MSIE 10");this.ie7=b("MSIE 7");this.ie6=a.browser.msie&&6>=parseInt(a.browser.version,10);this.ie=a.browser.msie;this.opera=b("Opera");this.firefox=b("Firefox");this.touch=this.iPhone||this.iPad||this.android||this.kindleFire||!!("ontouchstart"in window)||0<window.navigator.msMaxTouchPoints||b("\\bTouch\\b");this.ie10touch=this.ie10&&this.touch;this.mac=b("Macintosh");this.iOS=this.iPhone||this.iPad;this.quirks=this.ie&&document&&"CSS1Compat"!==document.compatMode}});
c.declare("byID",function(a){return document.getElementById(a)});c.when("log").build("dismissTooltip",function(a){var b=!1;return function(){b||(a("Tooltip dismissed"),c.publish("navDismissTooltip"),b=!0)}});c.when("log").build("lateTrigger",function(a){var b=[],e={};c.when("$","config.recordEvUrl","config.recordEvInterval","config.sessionId","config.requestId").run("recordEvLoop",function(a,c,e,g,k){function i(a){j++;if(0!==b.length){var a=a||j,e=b.join(":"),e=window.encodeURIComponent(e),d=window.ue&&
window.ue.sid,d=d||g,e="trigger="+e+"&when="+a+"&sid="+(d?d:"")+"&rid=",a=(a=window.ue&&window.ue.rid)||k,e=e+(a?a:""),a=0<c.indexOf("?")?"&":"?";(new Image).src=c+a+e;b=[]}}if(c){var j=0;window.setInterval(i,e);a(window).bind("beforeunload",function(){i("beforeunload")})}});return function(c){c in e||(b.push(c),a("Recording Event: "+c),e[c]=!0)}});c.build("eachDescendant",function(){function a(b,c){c(b);for(b=b.firstChild;b;)a(b,c),b=b.nextSibling}return a});c.when("log","promise","$F").run("pageReady",
function(a,b,e){function d(){return"complete"!=document.readyState}function h(){return!!c.getNow("config.readyOnATF")}b=b();b.watch([c.getNow("instance.sourceName"),"pageReadyCallback"],function(b){a("page.ready triggered by: "+b);c.declare("page.ready")});"complete"===document.readyState?b("immediate"):(c.when("page.ATF").run("page.TriggerATF",e.partial("Event: page.ATF").tap(a).iff(d).iff(h).on(b)),c.when("page.CF").run("page.TriggerCF",e.partial("Event: page.CF").tap(a).iff(d).on(b)),c.when("page.domReady").run("page.TriggerDom+",
e.delay(1E4).partial("Event: page.domReady+").tap(a).iff(d).on(b)),c.when("page.loaded").run("page.TriggerLoaded",e.delay(100).partial("Event: page.loaded+").tap(a).on(b)))});c.when("$","agent").build("onOptionClick",function(a,b){return function(c,d){var h=a(c);if(b.mac&&b.webkit||b.touch&&!b.ie10)h.change(function(){d.apply(h)});else{var f={click:0,change:0},g=function(a,b){return function(){f[a]=(new Date).getTime();100>=f[a]-f[b]&&d.apply(h)}};h.click(g("click","change")).change(g("change","click"))}}});
c.when("$","promise","api.publish").build("triggerProceedToCheckout",function(a,b,e){var d=b();e("onShowProceedToCheckout",function(b){d.watch([c.getNow("instance.sourceName"),"onShowProceedToCheckoutCallback"],function(){var c=a("#nav_cart_flyout a[href~=proceedToCheckout]");0<c.length&&b(c)})});return d});c.when("promise","api.publish").run("triggerNearFlyout",function(a,b){var e=a();b("onNearFlyout",function(a){e.watch([c.getNow("instance.sourceName"),"onNearFlyoutCallback"],a)});c.when("config.prefetchUrls",
"event.prefetch").run("prefetch",function(a){window.amznJQ&&window.amznJQ.addPL(a);e()})});c.when("$","byID").build("$byID",function(a,b){return function(c){return a(b(c)||[])}});c.when("$byID","config.dynamicMenuArgs","btf.full").build("flyout.primeAjax",function(a,b){return b.hasOwnProperty("isPrime")&&a("nav-prime-menu").hasClass("nav-ajax-prime-menu")});c.when("$","agent").build("areaMapper",function(a,b){var c=function(){};if(!b.kindleFire)return{disable:c,enable:c};var d=a([]);return{disable:function(b){var c=
a("img[usemap]").filter(function(){return 0===a(this).parents(b).length});d=d.add(c);c.each(function(){this.disabledUseMap=a(this).attr("usemap");a(this).attr("usemap","")})},enable:function(){d.each(function(){a(this).attr("usemap",this.disabledUseMap)});d=a([])}}});c.when("$").build("template",function(a){var b={};return function(c,d){b[c]||(b[c]=new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+a(c).html().replace(/[\r\t\n]/g," ").replace(/'(?=[^#]*#>)/g,
"\t").split("'").join("\\'").split("\t").join("'").replace(/<#=(.+?)#>/g,"',$1,'").split("<#").join("');").split("#>").join("p.push('")+"');}return p.join('');"));try{return d.jQuery=a,b[c](d)}catch(h){return""}}});c.when("$","$F","config.yourAccountPrimeURL","flyout.content").run("yourAccountPrimer",function(a,b,c){c&&a("#nav_prefetch_yourorders").mousedown(b.once().on(function(){(new Image).src=c}))});c.when("$","byID","agent","dismissTooltip","lateTrigger").build("flyout.NavButton",function(a,
b,c,d,h){return function(f){this._jqId="#"+f;var g=this;b(f).className=b(f).className.replace("nav-menu-inactive","nav-menu-active");var k=0,i;this.onShow=function(){k=+new Date;d();g._toggleClass(!0,"nav-button-outer-open");i&&h(i)};this.onHide=function(){g._toggleClass(!1,"nav-button-outer-open")};this.registerTrigger=function(b){var d=this._defaultTriggerParams(g);a().extend(d,b||{});var f=a(g._jqId).amazonPopoverTrigger(d);d.localContent&&(i=a(d.localContent).attr("data-nav-wt"));c.touch&&a.AmazonPopover.support.controlCallbacks&&
a(g._jqId).click(function(){f.amznPopoverVisible()&&400<+new Date-k&&f.amznPopoverHide()})};this.removeTrigger=function(){a(g._jqId).removeAmazonPopoverTrigger()};this._toggleClass=function(b,c){b?a(g._jqId).addClass(c):a(g._jqId).removeClass(c)};a(g._jqId).keypress(function(b){13==b.which&&a(g._jqId).attr("href")&&(window.location=a(g._jqId).attr("href"))});this._defaultTriggerParams=function(a){a={width:null,location:"bottom",locationAlign:"left",locationMargin:0,hoverShowDelay:c.touch?0:250,hoverHideDelay:c.touch?
0:250,showOnHover:!0,forceAlignment:!0,focusOnShow:!1,skin:null,onShow:a.onShow,onHide:a.onHide,showCloseButton:!1,group:"navbar"};c.ie10touch&&(a.hoverShowDelay=250);return a}}});c.when("$byID","agent","$popover").build("flyout.SKIN",function(a,b,c){return function(d,h,f){var g=function(){var c=a("nav-bar-outer").width(),c=Math.min(30,Math.max(0,c-d.offset().left-d.outerWidth()-h)),e=30>c?' style="width: '+(c+15)+'px;"':"",g=["nav_flyout_table","nav-beacon-flyout"];b.ie6&&g.push("nav_ie6");f&&g.push(f);
return'<table cellspacing="0" cellpadding="0" surround="0,'+c+',30,30" class="'+g.join(" ")+'"><tr><td class="nav_pop_tl nav_pop_h"><div class="nav_pop_lr_min"></div></td><td class="nav_pop_tc nav_pop_h"></td><td class="nav_pop_tr nav_pop_h"'+e+'><div class="nav_pop_lr_min"'+e+'></div></td></tr><tr><td class="nav_pop_cl nav_pop_v"></td><td class="nav_pop_cc ap_content"></td><td class="nav_pop_cr nav_pop_v"'+e+'></td></tr><tr><td class="nav_pop_bl nav_pop_v"></td><td class="nav_pop_bc nav_pop_h"></td><td class="nav_pop_br nav_pop_v"'+
e+"></td></tr></table>"};return c.AmazonPopover.support&&c.AmazonPopover.support.skinCallback?g:g()}});c.when("$","byID","eachDescendant").build("flyout.computeFlyoutHeight",function(a,b,c){var d={};return function(h){if(h in d)return d[h];var f=b(h),g=0<a(f).parents(".nav_deep").length,k=a(f).hasClass("nav_pad_5")?1:0,i=0;g&&(i-=7);c(f,function(b){1==b.nodeType&&(b=a(b),g?(i+=b.hasClass("nav_pop_li")?28-2*k:0,i+=b.hasClass("nav_first")?-6+k:0,i+=b.hasClass("nav_divider_before")?15:0):(i+=b.hasClass("nav_pop_li")?
23:0,i+=b.hasClass("nav_divider_before")?10:0,i+=b.hasClass("nav_first")?-7:0),i+=b.hasClass("nav_tag")?13:0)});return d[h]=i}});c.when("agent","config.responsiveGW").build("isResponsive",function(a,b){if(!b)return!1;if(!a.touch)return!0;for(var e=c.getNow("config.responsiveTouchAgents")||["ie10touch"],d=0;d<e.length;d++)if(a[e[d]])return!0;return!1});c.when("$popover","$byID","agent","logEvent","lateTrigger","areaMapper","flyout.NavButton","flyout.SKIN","flyout.computeFlyoutHeight","flyout.initBrowsePromos",
"isResponsive","config.newFlyouts","nav.inline","flyout.content").run("ShopAll",function(a,b,e,d,h,f,g,k,i,j,l,n){if(!n&&b("nav-shop-all-button").length&&b("nav_browse_flyout").length){var m=function(){},u=a.AmazonPopover.mouseTracker,r=a.AmazonPopover.updateBacking,p,t,q,B=[],v,s,x,z,y,D,w=new g("nav-shop-all-button"),C=b("nav-shop-all-button");e.touch&&a("#nav_cats .nav_cat a").each(function(){var b=a(this);b.replaceWith(b.text())});var H=function(){var g=c.getNow("initExposeSBD");g&&g().deBorder(!0);
f.disable("#nav_browse_flyout");j();var n=b("nav_browse_flyout"),m=b("nav_subcats"),g=b("nav_subcats_wrap"),k=b("nav_cats_wrap"),w=b("nav_cat_indicator");p?n.css({height:i("nav_cats_wrap")+"px"}):(q=k.outerWidth(),n.css({height:i("nav_cats_wrap")+"px",width:q+"px"}),g.css({display:"block"}),p=!0);var D=function(){t&&t();t=null;if(e.touch){var b=a("video");b.css("visibility","hidden");setTimeout(function(){b.css("visibility","")},10)}n.css({overflow:"visible"})},C=function(a,b){var c="c",e="c";a&&
b&&(a.x<b.x1?c="l":a.x>b.x2&&(c="r"),a.y<b.y1?e="t":a.y>b.y2&&(e="b"));return e+c},H=function(a,b){var c=0,e=a.cursor,d=a.priorCursors[0]||{},f=a.priorCursors[1]||{};if(e.x==d.x&&2>Math.abs(e.y-d.y)&&e.x>f.x)c=100;else{d=[e,d];switch(C(e,b)){case "tl":d.push({x:b.x1,y:b.y2},{x:b.x2,y:b.y1});break;case "bl":d.push({x:b.x1,y:b.y1},{x:b.x2,y:b.y2});break;case "cl":d.push({x:b.x1,y:b.y1},{x:b.x1,y:b.y2});break;default:d.push({x:0,y:0},{x:0,y:0}),c=-1}0===c&&(c=(d[2].x-d[1].x)*(d[3].y-d[1].y)-(d[3].x-
d[1].x)*(d[2].y-d[1].y),e=((d[3].x-d[0].x)*(d[1].y-d[0].y)-(d[1].x-d[0].x)*(d[3].y-d[0].y))/c,f=((d[1].x-d[0].x)*(d[2].y-d[0].y)-(d[2].x-d[0].x)*(d[1].y-d[0].y))/c,c=0<((d[2].x-d[0].x)*(d[3].y-d[0].y)-(d[3].x-d[0].x)*(d[2].y-d[0].y))/c&&0<e&&0<f?300:0)}return c},I=function(f){var g=!v,i=!1,k=b("nav_subcats_"+f),f=b("nav_cat_"+f),j=k.attr("data-nav-promo-id"),u=k.attr("data-nav-wt");v&&(b("nav_subcats_"+v).css({display:"none"}),b("nav_cat_"+v).removeClass("nav_active"));if(j){var p=c.getNow("config.browsePromos",
{}),F={t:"sa",id:j};p[j]&&(F.bp=1);d(F)}u&&h(u);f.addClass("nav_active");k.css({display:"block"});w.css("top",f.position().top+parseInt(f.css("padding-top"),10)+1);f=k.hasClass("nav_super_cat");f!=s&&(f?n.addClass("nav_super"):n.removeClass("nav_super"),i=!0,s=f);g?(t=function(){r("navbar")},n.animate({width:m.outerWidth()+q+"px"},{duration:"fast",complete:D})):i&&(g=function(){n.css({width:m.outerWidth()+q+"px"});r("navbar")},t?t=g:g());l&&!e.ie6&&k.parents(".nav_exposed_skin").removeClass("nav_exposed_skin");
k.find(".nav_subcat_links").each(function(){var b=a(this);if(!b.data("nav-linestarts-marked")){b.data("nav-linestarts-marked",!0);var c=0;b.find("li").each(function(){var b=a(this),d=b.offset().top;5<Math.abs(d-c)&&(b.addClass("nav_linestart"),c=d)})}});i=k.offset();g=i.left;i=i.top-25;f=g+k.outerWidth();k=i+k.outerHeight()+25;return{x1:g,y1:i,x2:f,y2:k}};window._navbar.qaActivateCat=function(a){a=a||"0";I(a);v=a};a("#nav_cats li.nav_cat").each(function(){var c=/^nav_cat_(.+)/.exec(this.id),d=c?c[1]:
"",c=a(this),e=c.offset(),c=u.add([[e.left,e.top,c.outerWidth(),c.outerHeight()]],{inside:!1,mouseEnter:function(a){clearTimeout(z);b("nav_cat_"+d).addClass("nav_hover");if(v!==d){var c=H(a,x);if(v&&0<c){var e=function(){clearTimeout(z);var b=u.getCallbackArgs(),c=0;y&&y.x==b.cursor.x&&y.y==b.cursor.y?(c="cc"==C(b.cursor,x)?!1:!0,c=c?0:-1):c=H(b,x);y={x:b.cursor.x,y:b.cursor.y};0<c?v!==d&&(z=setTimeout(e,c)):-1<c&&(x=I(d,a),v=d)};z=setTimeout(e,c)}else x=I(d,a),v=d}return!0},mouseLeave:function(){b("nav_cat_"+
d).removeClass("nav_hover");return!0}});B.push(c)})},M=function(){clearTimeout(z);for(var a=0;a<B.length;a++)u.remove(B[a]);B=[];x=null;p=!1;v&&(b("nav_subcats_"+v).css({display:"none"}),b("nav_cat_"+v).removeClass("nav_active"));v=null;b("nav_cat_indicator").css({top:""});b("nav_browse_flyout").css({height:"",overflow:""});f.enable();(a=c.getNow("initExposeSBD"))&&a().deBorder(!1)};c.declare("initExposeSBD",function(){if(D)return D;if(!l)return D={ok:function(){return!1},deBorder:m,initDeferredShow:m,
deferredShow:m};var f=b("nav_exposed_anchor"),i=e.ie6?"":"nav_exposed_skin",n=k(C,0,i),j=a("function"==typeof n?n():n),n=a('<div id="nav_exposed_skin"></div>').css({top:-8,left:C.offset().left-(e.ie6?27:30)}).append(j).appendTo(f),u=b("nav_browse_flyout"),p=a('<div id="nav_exposed_cats"></div>').appendTo(a(".ap_content",n)),q=b("nav-shop-all-button").clone().attr({href:"javascript:void(0)",id:""}).addClass("nav-shop-all-button nav-button-outer-open").appendTo("#nav-bar-inner").add(n),r=b("navbar").add(f),
t=b("nav_cats_wrap"),s=new g("nav_exposed_skin"),v,x=!0,B,y,z,f=a.browser.msie&&(!document.documentMode||8>document.documentMode);D={ok:function(){return!0},deBorder:function(a){a?j.addClass("nav_pop_triggered"):j.removeClass("nav_pop_triggered")},initDeferredShow:function(){y||(y=m)},deferredShow:function(){y&&(y(),y=null)}};var P={localContent:"#nav_browse_flyout",location:"top",locationAlign:"left",locationOffset:[30,f?33:32],skin:k(p,0,i),showOnHover:!0,hoverShowDelay:0,onShow:function(){z||(z=
m);s.removeTrigger();s.onShow();H();t.appendTo(u);a(document).mousemove()},onHide:function(){t.appendTo(p);M();s.onHide();s.registerTrigger(P);z&&z();z=null}};c.when("protectExposeSBD","$byID").run("exposeSBD",function(b,c){b(function(b){B=b;b!==v&&(b?(d({t:"sa",id:"res-main"}),b=function(){if(!1!==B){w.removeTrigger();r.addClass("nav_exposed_sbd");var b=c("nav_browse_flyout");b.hasClass("nav_deep")&&r.addClass("nav_deep");t.appendTo(p);x&&(a.browser.msie?q.css("display","block"):q.fadeIn(600),x=
!1);s.registerTrigger(P);(b=b.attr("data-nav-wt"))&&h(b);v=!0}},y?y=b:b()):(b=function(){!0!==B&&(s.removeTrigger(),r.removeClass("nav_exposed_sbd"),t.appendTo(u),x&&(q.css("display","block"),x=!1),w.registerTrigger(I),v=!1)},z?z=b:b()))})});return D});var I={localContent:"#nav_browse_flyout",locationAlign:"left",locationOffset:[e.ie6?3:0,0],skin:k(C,0),onShow:function(){var a=c.getNow("initExposeSBD");a&&a().initDeferredShow();w.onShow();d({t:"sa",id:"main"});H()},onHide:function(){M();w.onHide();
var a=c.getNow("initExposeSBD");a&&a().deferredShow()}};l||w.registerTrigger(I);c.declare("flyout.shopall")}});c.when("$","$byID","nav.inline","flyout.content").build("flyout.notificationCount",function(a,b){function e(a){d=a;h&&(0>=d?h.remove():h.text(9<d?"9+":d))}var d=parseInt(a("#nav-noti-wrapper .nav-noti-content").attr("data-noti-count")||"0",10),h;e.count=function(){return d};e.decrement=function(){e(d-1)};c.when("page.ready").run("NotificationIcon",function(){if(!(0>=d)){var c=b("nav-signin-text"),
g=a.trim(c.text()).match(/^(.*?)(\.*)$/);c.html(g[1]+'<span id="nav-noti-count-position"></span>'+g[2]);var g=b("nav-noti-count-position").position().left+10,k=b("nav-your-account"),i=k.outerWidth()-5-g,j={};15>i||15>g?(j.right=2,0<i&&10>=i&&c.append(Array(11).join("&nbsp;"))):j.left=Math.round(g)+1;h=a('<div id="nav-noti-count" class="nav-sprite">');h.css(j).appendTo(k);e(d)}});return e});c.when("$","$byID","agent","flyout.notificationCount","config.dismissNotificationUrl","config.newFlyouts","flyout.content").build("flyout.notifications",
function(a,b,c,d,h,f){function g(){var c=k.height()-b("nav-noti-all").outerHeight(!0);i.each(function(){var b=a(this);b.attr("data-dismissed")||(b.position().top+b.outerHeight()>c?b.addClass("nav-noti-overflow"):b.removeClass("nav-noti-overflow"))})}var k=b("nav-noti-wrapper").find(".nav-noti-content"),i=k.find(".nav-noti-item").not("#nav-noti-empty");return{width:f?200:180,exists:function(){return 0<d.count()&&0<k.length},getContent:function(){var f=k.get(0);f.parentNode.removeChild(f);c.touch?i.addClass("nav-noti-touch"):
i.hover(function(){a(this).addClass("nav-noti-hover")},function(){a(this).removeClass("nav-noti-hover")});a(".nav-noti-x",k).click(function(c){c.preventDefault();c=a(this);a.ajax({url:h,type:"POST",data:{id:c.attr("data-noti-id")},cache:!1,timeout:500});c.css("visibility","hidden").parent().attr("data-dismissed","1").slideUp(400,function(){d.decrement();0===d.count()&&b("nav-noti-empty").fadeIn(300);g()})}).hover(function(){a(this).addClass("nav-noti-x-hover")},function(){a(this).removeClass("nav-noti-x-hover")});
return k},onShow:g,event:0<d.count()?"noti":null}});c.when("$","config.newFlyouts","flyout.content").build("flyout.highConfidence",function(a,b){var c=a("#csr-hcb-wrapper .csr-hcb-content");return{width:b?250:229,exists:function(){return 0<c.length},getContent:function(){var a=c.get(0);a.parentNode.removeChild(a);b&&c.css("margin",15);return c},onShow:function(){},event:"hcb"}});c.when("$","$byID","areaMapper","agent","logEvent","flyout.NavButton","flyout.SKIN","ajax.flyoutDispatcher","flyout.notifications",
"flyout.highConfidence","config.signOutText","config.newFlyouts","nav.inline","flyout.content").run("YourAccount",function(a,b,e,d,h,f,g,k,i,j,l,n){if(!n){var m;i.exists()?m=i:j.exists()&&(m=j);var i=b("nav-your-account"),u=b("nav_your_account_flyout"),r;if(i.length&&u.length){var p=new f("nav-your-account");a("#nav-noti-wrapper, #csr-hcb-wrapper");b=b("nav-wishlist").length||b("nav-cart").length;f=0;m&&(f=m.width+19,r=m.getContent(),u.css("margin-left",f).prepend(a('<div id="nav_ya_sidebar_wrapper"></div>').css({width:f-
15,left:-f}).append(r)));p.registerTrigger({localContent:"#nav_your_account_flyout",locationAlign:b?"left":"right",locationOffset:[f?-f:d.ie6?b?3:-3:0,0],skin:g(i,b||!d.ie6?0:7),onShow:function(){p.onShow();if(m&&m.onShow)m.onShow();e.disable("#nav_your_account_flyout");var a={t:"ya"};m&&m.event&&(a[m.event]=1);h(a);r&&r.height(u.height());k.loadDynamicMenusConditionally()},onHide:function(){e.enable();p.onHide()},followLink:!d.touch});l&&a("#nav-item-signout").html(l);c.declare("flyout.youraccount")}}});
c.when("$","$byID","areaMapper","agent","logEvent","triggerProceedToCheckout","flyout.NavButton","flyout.SKIN","ajax.flyoutDispatcher","config.newFlyouts","nav.inline","flyout.content").run("Cart",function(a,b,e,d,h,f,g,k,i,j){if(!j&&b("nav-cart").length&&b("nav_cart_flyout").length){var l=new g("nav-cart"),a=b("nav-cart");l.registerTrigger({localContent:"#nav_cart_flyout",locationAlign:"right",locationOffset:[d.ie6?-3:0,0],skin:k(a,d.ie6?7:0),onShow:function(){l.onShow();e.disable("#nav_cart_flyout");
h({t:"cart"});i.loadDynamicMenusConditionally();f()},onHide:function(){e.enable();l.onHide()},followLink:!d.touch});c.declare("flyout.cart")}});c.when("$","$byID","areaMapper","agent","logEvent","flyout.NavButton","flyout.SKIN","ajax.flyoutDispatcher","config.newFlyouts","nav.inline","flyout.content").run("WishList",function(a,b,e,d,h,f,g,k,i){if(!i&&b("nav-wishlist").length&&b("nav_wishlist_flyout").length){var j=new f("nav-wishlist"),b=b("nav-wishlist");j.registerTrigger({localContent:"#nav_wishlist_flyout",
locationAlign:"right",locationOffset:[d.ie6?-3:0,0],skin:g(b,d.ie6?7:0),onShow:function(){j.onShow();e.disable("#nav_wishlist_flyout");h({t:"wishlist"});k.loadDynamicMenusConditionally();var b=a("#nav_wishlist_flyout"),c=b.outerWidth();b.css("width",c).find(".nav_pop_ul").css("width",c).addClass("nav_pop_ul_wrap")},onHide:function(){a("#nav_wishlist_flyout").css("width","").find(".nav_pop_ul").css("width","").removeClass("nav_pop_ul_wrap");e.enable();j.onHide()},followLink:!d.touch});c.declare("flyout.wishlist")}});
c.when("$","$byID","flyout.NavButton","areaMapper","logEvent","agent","config.newFlyouts","nav.inline","flyout.content").run("PrimeTooltip",function(a,b,c,d,h,f,g){if(!g&&!(0<a("#nav-prime-ttt.nav-alt-tip").length||b("navbar").hasClass("nav-prime"))&&b("nav-prime-ttt").length&&b("nav-prime-tooltip").length){var k=new c("nav-prime-ttt"),b=b("nav-prime-ttt"),c=a("#navbar").hasClass("nav-logo-large")||0<a("#navbar").find(".nav-size-large").length,a=a.browser.msie;b.css("padding-right",c?"21px":"25px");
k.registerTrigger({localContent:"#nav-prime-tooltip",width:null,location:"right",locationAlign:"top",locationOffset:[a?-3:0,c?-30:-23],onShow:function(){k.onShow();d.disable("#nav-prime-tooltip");h({t:"prime-tt"})},onHide:function(){d.enable();k.onHide()},zIndex:201,skin:'<div class="nav-tt-skin'+(c?" nav-logo-large":"")+'"><div class="nav-tt-border'+(a?"":" nav-tt-box-shadow")+'"><div class="ap_content"></div></div><div class="nav-tt-beak"></div><div class="nav-tt-beak-2"></div></div>',followLink:!f.touch})}});
c.when("$byID","areaMapper","logEvent","agent","config.dynamicMenuArgs","config.newFlyouts","flyout.NavButton","flyout.SKIN","flyout.primeAjax","ajax.flyoutDispatcher","nav.inline","flyout.content").run("PrimeMenu",function(a,b,e,d,h,f,g,k,i,j){if(!f&&a("nav-your-prime").length&&a("nav-prime-menu").length){var l=new g("nav-your-prime"),f=a("nav-your-prime");i&&a("nav-prime-menu").css({width:h.primeMenuWidth});l.registerTrigger({localContent:"#nav-prime-menu",locationAlign:"right",locationOffset:[d.ie6?
-3:0,0],skin:k(f,d.ie6?7:0),onShow:function(){l.onShow();b.disable("#nav-prime-menu");e({t:"prime"});i&&j.loadDynamicMenusConditionally()},onHide:function(){b.enable();l.onHide()},followLink:!d.touch});c.declare("flyout.prime")}});c.when("$","$byID","agent","template","config.newFlyouts","nav.inline").build("flyout.initBrowsePromos",function(a,b,e,d,h){var f=!1;return function(){var g=c.getNow("config.browsePromos");g&&!f&&(f=!0,a("#nav_browse_flyout .nav_browse_subcat").each(function(){var c=a(this),
f=c.attr("data-nav-promo-id");if(f){var j=g[f];if(j)if(j.promoType){"wide"==j.promoType&&c.addClass("nav_super_cat");var f="nav_imgmap_"+f,l=e.ie6?15:14,n=parseInt(j.vertOffset,10)-l,m=parseInt(j.horizOffset,10),u=(l=e.ie6&&/\.png$/i.test(j.image))?b("nav_trans_pixel").attr("src"):j.image,n=a("<img>").attr({src:u,alt:j.alt,useMap:"#"+f}).addClass("nav_browse_promo").css({bottom:n,right:m,width:j.width,height:j.height});h&&c.prepend(b(f));c.prepend(n);l&&(n.get(0).style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+
j.image+"',sizingMethod='scale')")}else c.prepend(d("#nav-tpl-asin-promo",j))}}))}});c.when("$","agent","config.flyoutURL","btf.full").run("FlyoutContent",function(a,b,e){e?(b=document.createElement("script"),b.setAttribute("type","text/javascript"),b.setAttribute("src",e),(document.head||document.getElementsByTagName("head")[0]).appendChild(b),window._navbar.flyoutContent=function(a){c.declare("flyouts.remoteContent",a)},c.when("flyouts.remoteContent").run("InjectFlyouts",function(b){var e=a("<div>").appendTo(document.body).hide().get(0),
f="",g;for(g in b)b.hasOwnProperty(g)&&(f+=b[g]);e.innerHTML=f;c.declare("flyout.content")})):c.declare("flyout.content")});c.when("$","$F","$byID","config.enableDynamicMenus","config.dynamicMenuUrl","config.dynamicMenuArgs","config.ajaxProximity","config.newFlyouts","flyout.primeAjax","AFDFactory","AJAXFlyoutRenderer","nav.inline").run("DynamicAjaxMenu",function(a,b,e,d,h,f,g,k,i,j,l){var b=a("#nav_wishlist","#nav_cart"),n=e("nav_wishlist_flyout"),m=e("nav_cart_flyout"),g=a(n).add(m),u=a(".nav_dynamic",
n),r=a(".nav_dynamic",m);if(i)var p=e("nav-prime-menu"),g=g.add(p),t=a(".nav_dynamic",p),b=b.add("#nav-your-prime");e=new j({url:h,isLoaded:!d,triggerElements:b,flyoutElements:g,data:f,successFunc:function(b){b=a.extend({cartDataStatus:!1,cartCount:0,cart:[],wishlistDataStatus:!1,wishlist:[],primeMenu:null},b);b.cartDataStatus&&c.getNow("api.setCartCount",function(){})(b.cartCount);i&&l({status:!!b.primeMenu,isEmpty:!b.primeMenu,parentElem:p,rawHTML:b.primeMenu,templateID:null,contentElem:t,data:b});
l({status:b.cartDataStatus,isEmpty:0===b.cart.length,parentElem:m,rawHTML:null,templateID:"#nav-tpl-cart",contentElem:r,data:b});l({status:b.wishlistDataStatus,isEmpty:0===b.wishlist.length,parentElem:n,rawHTML:null,templateID:"#nav-tpl-wishlist",contentElem:u,data:b});return b.cartDataStatus&&b.wishlistDataStatus},prefetchEventName:"event.prefetch"});c.declare("ajax.flyoutDispatcher",e)});c.when("$","$byID","$F","agent","logEvent","lateTrigger","isAUI","flyout.create","flyout.initBrowsePromos","flyout.onClickDebug",
"flyout.Engine","flyout.Group","MouseTracker","flyout.SloppyTrigger","flyout.LockTrigger","flyout.setupTriggers","config.newFlyouts","isResponsive","dismissTooltip","nav.inline","flyout.content").run("NewShopAll",function(a,b,e,d,h,f,g,k,i,j,l,n,m,u,r,p,t,q,B){if(t){var v,s=k("ShopAll",{button:b("nav-shop-all-button"),content:b("nav_browse_flyout"),noClick:!0,align:"left",classes:g()?["nav-flyout","nav-flyout-sa"]:[],blur:function(){return!v}}),x=function(a,b){var c={t:"sa",id:a};b&&(c.bp=1);h(c)},
z;s.onShow(function(){z=m.start()});s.onHide(function(){z&&z.stop()});s.onShow(function(){var a=s.elem(),b=a.innerHeight();a.find(".nav_subcats_div, .nav_browse_subcat").css("height",b)});var y=new n,D=!1;s.onRender(function(g){g.addClass("nav-flyout-content");var h=function(b){a(b).find("#nav_cats .nav_cat a").each(function(){var b=a(this);b.replaceWith(b.text())})};d.touch?h():j(h);var n=g.hasClass("nav_deep");n&&g.addClass("nav_deep_css3");var k=new u;s.onHide(function(){k.reset()});a(g).find("li.nav_cat").each(function(){var b=
a(this),h=/^nav_cat_(.+)/.exec(b.attr("id"));if(h){var m=g.find("#nav_subcats_"+h[1]);if(0!==m.length){var j=new l({content:m});y.register(j,m);p(j,function(a){k.register(b,m,a)},function(a){b.bind(d.touch?"mousedown":"click",e.bind(a).on(a.show))});b.hover(function(){b.addClass("nav_hover")},function(){b.removeClass("nav_hover")});j.onShow(function(){b.addClass("nav_active")});j.onHide(function(){b.removeClass("nav_active")});j.onShow(function(){g.find("#nav_cat_indicator").css({display:"block",
top:b.position().top+parseInt(b.css("padding-top"),10)+1});window.$Nav.getNow("iss",{blur:function(){}}).blur();B()});j.onRender(i);j.onShow(e.memoize().on(function(){var a=j.elem().attr("data-nav-promo-id");if(a){var b=c.getNow("config.browsePromos",{});x(a,!!b[a])}(a=j.elem().attr("data-nav-wt"))&&f(a)}));if(n){var u=!1;j.onShow(function(){u||(u=!0,j.elem().find(".nav_subcat_links").each(function(){var b=0;a(this).find("li").each(function(){var c=a(this),d=c.offset().top;5<Math.abs(d-b)&&(c.addClass("nav_linestart"),
b=d)})}))})}}}});var m=g.find("#nav_subcats_wrap");y.onShow(function(a,b){m.show();var c=parseInt(m.css("left"),10)-(parseInt(g.css("padding-left")||"0",10)+parseInt(g.css("padding-right")||"0",10)),d=b.outerWidth();D?(g.css("width",c+d),s.resized(),m.stop(!0,!0)):m.css({width:0,overflow:"hidden"}).animate({width:d},{duration:200,step:function(a){g.css("width",c+a)},complete:function(){s.resized();m.css({overflow:"visible"})}});D=!0});s.onHideRequest(function(){m.stop(!0,!0);s.elem().add(m).css({width:""});
m.hide();D=!1;y.hide();k.reset();b("nav_cat_indicator").hide()})});c.when("protectExposeSBD").run("exposeSBD",function(b){b(function(b){var c=a("#navbar:not(.nav-aui) #nav-shop-all-button .nav-down-arrow");(v=b)?(s.show(),s.lock(),x("res-main"),c.hide()):(s.hide(),s.unlock(),c.show())})});s.onInteract(function(){v||x("main")});s.onShow(function(){v||i()});c.declare("initExposeSBD",function(){return{ok:function(){return q},deBorder:function(){},initDeferredShow:function(){},deferredShow:function(){}}});
c.declare("flyout.shopall")}});c.when("$","$byID","isAUI","flyout.create","flyout.position","flyout.notifications","flyout.highConfidence","config.signOutText","config.newFlyouts","ajax.flyoutDispatcher","nav.inline","flyout.content").run("NewYourAccount",function(a,b,e,d,h,f,g,k,i,j){if(i){var l;f.exists()?l=f:g.exists()&&(l=g);f={t:"ya"};l&&l.event&&(f[l.event]=1);e=d("yourAccount",{button:b("nav-your-account"),content:b("nav_your_account_flyout"),align:0===b("nav-wishlist").length&&0===b("nav-cart").length?
"right":l?h("bottom left").to("top left",{x:-l.width}):"left",event:f,ajaxFlyoutDispatcher:j,classes:e()?["nav-flyout","nav-flyout-ya"]:[]});if(l)e.onShow(function(a){b("nav_ya_sidebar_wrapper").height(a.elem().innerHeight());l.onShow();a.elem().find(".nav-arrow,.nav-arrow-inner").css("margin-left",l.width)});e.onRender(function(c){k&&b("nav-item-signout").html(k);if(l){var d=a('<div id="nav_ya_sidebar_wrapper">').css("width",l.width).append(l.getContent()),e=c.find(".nav-flyout-borders");0===e.length&&
(e=c);e.css("padding-left",l.width+15).prepend(d)}});c.declare("flyout.youraccount")}});c.when("$byID","isAUI","flyout.create","triggerProceedToCheckout","config.newFlyouts","ajax.flyoutDispatcher","nav.inline","flyout.content").run("NewCart",function(a,b,e,d,h,f){if(h){if(a=e("cart",{button:a("nav-cart"),content:a("nav_cart_flyout"),align:"right",event:"cart",ajaxFlyoutDispatcher:f,classes:b()?["nav-flyout","nav-flyout-cart"]:[]}))a.onShow(d);c.declare("flyout.cart")}});c.when("$byID","isAUI","flyout.create",
"agent","config.newFlyouts","ajax.flyoutDispatcher","nav.inline","flyout.content").run("NewWishList",function(a,b,e,d,h,f){if(h){var g=e("wishlist",{button:a("nav-wishlist"),content:a("nav_wishlist_flyout"),align:"right",event:"wishlist",ajaxFlyoutDispatcher:f,classes:b()?["nav-flyout","nav-flyout-wl"]:[]});g&&(g.onShow(function(){var a=Math.min(g.elem().outerWidth(),350);g.elem().css("width",a)}),g.onHide(function(){g.elem().css("width","")}));c.declare("flyout.wishlist")}});c.when("$","$byID","flyout.create",
"flyout.position","config.newFlyouts","nav.inline","flyout.content").run("NewPrimeTooltip",function(a,b,c,d,h){function f(a,b){var c=document.createElement("div");c.className=a;if(b)for(var d=0,e=b.length;d<e;d++)c.appendChild(b[d]);return c}if(h&&!(0<a("#nav-prime-ttt.nav-alt-tip").length||b("navbar").hasClass("nav-prime"))){var g=a("#navbar").hasClass("nav-logo-large")||0<b("navbar").find(".nav-size-large").length,a=d("middle right",{x:10,y:-2}).to("middle left",g?{y:-3}:{y:4});c("primeTT",{button:b("nav-prime-ttt"),
content:b("nav-prime-tooltip"),align:a,event:"prime-tt",css:{zIndex:201},markOpen:!1,skin:function(a){return f("nav-tt-skin"+(g?" nav-logo-large":""),[f("nav-tt-border",[a]),f("nav-tt-beak"),f("nav-tt-beak-2")])}})}});c.when("$byID","agent","config.dynamicMenuArgs","config.newFlyouts","isAUI","flyout.create","flyout.primeAjax","ajax.flyoutDispatcher","nav.inline","flyout.content").run("NewPrimeMenu",function(a,b,e,d,h,f,g,k){d&&(f("prime",{button:a("nav-your-prime"),content:a("nav-prime-menu"),align:"right",
event:"prime",ajaxFlyoutDispatcher:g?k:void 0,classes:h()?["nav-flyout","nav-flyout-prime"]:[]}),g&&a("nav-prime-menu").css({width:e.primeMenuWidth+(b.ie&&b.quirks?40:0)}),c.declare("flyout.prime"))})})(window.$Nav);window.$Nav.when("$").build("subnav.getFlyouts",function(c){return function(a){return a?c(".nav_subnav_flyout_container",a):c(".nav_subnav_flyout_container")}});window.$Nav.when("$","agent","subnav.buildFlyouts").run("SubnavFlyouts",function(c,a,b){b();c=c(".nav-subnav-down-arrow");a.ie?c.addClass("nav-subnav-down-arrow-ie"):a.kindleFire&&c.addClass("nav-subnav-down-arrow-kindle");c.show();window.$Nav.declare("flyout.subnavs")});
window.$Nav.when("$","$F","$byID","config.ajaxProximity","config.newFlyouts","flyout.primeAjax","first","AFDFactory","AJAXFlyoutRenderer","subnav.buildAJAXData","subnav.getFlyouts","nav.inline").run("SubnavFlyoutsAjaxMenu",function(c,a,b,e,d,h,f,g,k,i,j){var a=window.$Nav.getNow("config.subnavFlyoutUrl","#"),l=j(),e=c(".nav-subnav-flyout-menu"),g=new g({url:a,triggerElements:e,flyoutElements:l,data:i(),successFunc:function(a){l=j();a=c.extend({subnavFlyoutsDataStatus:!1,subnavFlyouts:[]},a);if(b("nav-subnav").attr("data-category")!==
a.subnavCategory)return!1;for(var d=0;d<a.subnavFlyouts.length;d++){var e=d;null!==a.subnavFlyouts[d]&&a.subnavFlyouts[d].position&&(e=a.subnavFlyouts[d].position);var g=f(l,"id","nav_subnav_flyout_"+e),e=c(".nav_dynamic",g);null===a.subnavFlyouts[d]||"string"===typeof a.subnavFlyouts[d]&&""===c.trim(a.subnavFlyouts[d])?g.addClass("nav-ajax-error"):(k({status:a.subnavFlyoutsDataStatus,isEmpty:!1,parentElem:g,rawHTML:null,templateID:"#nav-tpl-subnav",contentElem:e,data:a.subnavFlyouts[d]}),(g=a.subnavFlyouts[d].flyoutWidth)&&
e.css({width:g}))}return a.subnavFlyoutsDataStatus},prefetchEventName:"event.subnavFlyoutPrefetch"});window.$Nav.declare("ajax.subnavFlyoutDispatcher",g)});window.$Nav.when("$").build("subnav.buildAJAXData",function(c){return function(){var a=c("#nav-subnav"),b="",e="";c("a[data-slots]",a).each(function(){var a=c(this);b+=a.attr("data-slots")+";";e+=(a.attr("data-handler")||"default")+";"});return{subnavCategory:a.attr("data-category"),navslots:b,navhandlers:e}}});
window.$Nav.when("$","$byID","isAUI","flyout.create","flyout.position","config.newFlyouts","ajax.subnavFlyoutDispatcher","agent","subnav.getFlyouts","nav.inline","flyout.content").build("subnav.buildFlyouts",function(c,a,b,e,d,h,f,g,k){return function(){var d=k();if(h&&0!==d.length){var j=b()?["nav-flyout","nav-flyout-subnav"]:[];0===a("nav-subnav-container").length?j.push("nav-flyout-subnav-beaconstyle"):(j.push("nav-flyout-subnav-auistyle"),g.ie&&j.push("nav-flyout-subnav-auistyle-ie"));d.each(function(a){var b=
c(this),d=b.parent().siblings("a"),h=d.attr("data-flyout-full-width"),i=d.attr("data-event");e("subnavFlyout"+a,{button:d,content:b,align:"left",fullWidth:h,event:i,ajaxFlyoutDispatcher:f,classes:j}).onRender(function(a){var d=5;g.ie10&&(d=6);g.opera&&(d=8);var e=c(".nav-arrow, .nav-arrow-inner",a),f=c('.nav-subnav-flyout-menu[data-flyoutid="'+a.attr("id")+'"]'),a=f.width();h?(f=c("span",f).offset(),e.css("left",f.left-d+"px")):e.css("left",a-(d-8)+"px");b.css("min-width",a+"px")})})}}});window.$Nav.when("$","$F","config.newFlyouts","config.ajaxProximity","Proximity","util.parseQueryString").build("AFDFactory",function(c,a,b,e,d,h){return function(a){var g=!1,k=!1,i=!1,j,a=c.extend({retryTimeout:5E3,errorFunc:function(){},successFunc:function(){return!0},completeFunc:function(){}},a),l={loadDynamicMenusConditionally:function(){g||(g=!0,l.dispatch());i||(i=!0,window.$Nav.declare(a.prefetchEventName));return!0},attachTriggers:function(){if(a.triggerElements&&0<a.triggerElements.length)if(b)j&&
j.unbind(),j=d.onEnter(a.triggerElements,e||[0,0,0,0],l.loadDynamicMenusConditionally);else{var g=[],h=[],i=[],k=[];a.triggerElements.each(function(a,b){var b=c(b),d=b.offset();g.push(d.left);i.push(d.top);h.push(d.left+b.width());k.push(d.top+b.height())});var p=e||[0,0,0,0],t=Math.min.apply(Math,g)-p[3],q=Math.min.apply(Math,i)-p[0],B=Math.max.apply(Math,h)+p[1]-t,p=Math.max.apply(Math,k)+p[2]-q;c.AmazonPopover.mouseTracker.add([[t,q,B,p]],{inside:!1,mouseEnter:l.loadDynamicMenusConditionally,mouseLeave:function(){return!0}})}},
allowRetry:function(b){var c=function(){g=a.isLoaded=!1};b?setTimeout(c,b):c()},reload:function(b,c,d){a.triggerElements=b;a.flyoutElements=c;a.data=d;i=g=a.isLoaded=!1;l.attachTriggers()},dispatch:function(){window.$Nav.when("flyout.content").run("AFDFactory.dispatch",function(){if(!a.isLoaded&&!k){k=!0;window.$Nav.getNow("preloadSpinner",function(){})();a.flyoutElements.addClass("nav-ajax-loading").removeClass("nav-ajax-error nav-empty");a.flyoutElements.find(".nav-ajax-success").hide();c.AmazonPopover.updateBacking("navbar");
var b=h(a.data);c.ajax({url:a.url,data:b,dataType:"json",cache:!1,timeout:1E4,complete:function(){a.flyoutElements.removeClass("nav-ajax-loading");c.AmazonPopover.updateBacking("navbar");a.completeFunc();k=!1},error:function(){a.flyoutElements.addClass("nav-ajax-error");l.allowRetry(a.retryTimeout);a.errorFunc()},success:function(b){a.isLoaded=a.successFunc(b);a.isLoaded||l.allowRetry(a.retryTimeout)}})}})}};a.url&&window.$Nav.when("page.ready").run("AFDFactory.pageReadyAttachTriggers",l.attachTriggers);
return l}});window.$Nav.when("template").build("AJAXFlyoutRenderer",function(c){return function(a){a.status?(a.isEmpty?a.parentElem.addClass("nav-empty").removeClass("nav-full"):a.parentElem.addClass("nav-full").removeClass("nav-empty"),a.contentElem.html(a.rawHTML||c(a.templateID,a.data)),a.parentElem.find(".nav-ajax-success").show()):a.parentElem.addClass("nav-ajax-error")}});
window.$Nav.build("util.parseQueryString",function(){return function(c){c=c||{};if(window.location.search)for(var a=window.location.search.substring(1).split("&"),b=0;b<a.length;b++){var e=a[b].split("=");1<e.length&&(c[e[0]]=e[1])}return c}});window.$Nav.when("$","onOptionClick","$F","byID","$byID","isAUI","btf.lite","nav.inline").run("SearchDropdown",function(c,a,b,e,d,h){function f(){var a=p.width();(h||r.width()<a)&&r.width(a)}function g(){if(h)p.removeClass("nav-focus"),z.removeClass("nav-active"),s.isFocus?p.addClass("nav-focus"):(s.searchFocus||s.searchHover)&&z.addClass("nav-active");else if(s.isFocus){y.addClass("focus nav-focus").removeClass("active nav-active");var a=document.createElement("div");y.append(a);setTimeout(function(){a.parentNode&&
a.parentNode.removeChild(a)},10)}else s.isHover||s.searchFocus||s.searchHover?y.addClass("active nav-active").removeClass("focus nav-focus"):y.removeClass("active focus nav-active nav-focus")}function k(){var a=c(t).width();return 195<a||h&&100<a&&200>=B.width()||!h&&100<a&&400>=B.outerWidth()?!0:!1}function i(){c(p).add(t).css({width:"auto"});c(t).css({overflow:"visible"});k()&&c(t).css({width:100,overflow:"hidden"});setTimeout(function(){h||(B.css({"padding-left":p.width()}),c.browser.msie||q.css("padding-right",
parseInt(q.css("padding-right"),10)?0:1));f()},1)}function j(){var a;a:{var b=u.children.length;for(a=0;a<b;a++)if(u.children[a].selected){a=c(u.children[a]);break a}a=r.children("option:selected")}b=a.val();b!==x&&(a=x||b!==v?a.html():t.innerHTML,x=b,t.innerHTML!==a&&(t.innerHTML=a,i()));g()}function l(){var a=window.$Nav.getNow("iss");a&&(s.isFocus=!1,a.focus())}function n(a){13===a.which&&l();9!==a.which&&16!==a.which&&j()}function m(a,b){return function(){s[a]=b;g()}}var h=!!h(),u=e("searchDropdownBox"),
r=c(u),p=d("nav-search-in"),t=e("nav-search-in-content"),q=d("twotabsearchtextbox"),B;a:{e=q;for(d=q.parent();e.length;){if(e.is(".nav-searchfield-width")){B=e;break a}e=e.parent()}B=d}var v=t.getAttribute&&t.getAttribute("data-value")||c(t).attr("data-value"),s={isHover:!1,isFocus:!1,searchFocus:!1,searchHover:!1},x=null;if(c.browser.msie){if(7>parseFloat(c.browser.version)){window.$Nav.declare("refreshDropDownFacade",function(){});window.$Nav.declare("SddIssComplete");return}p.addClass("ie")}var z=
c(".nav-searchbar-inner"),y=p.add(z);window.$Nav.declare("refreshDropDownFacade",j);p.get(0).className+=" nav-facade-active";j();r.change(j).keyup(n).focus(m("isFocus",!0)).blur(m("isFocus",!1));h||r.hover(m("isHover",!0),m("isHover",!1));window.$Nav.when("dismissTooltip").run("SddHideTooltip",function(a){r.focus(a)});a(r,function(){l();j()});c(window).resize(b.throttle(150).on(i));window.$Nav.when("page.ready").run("FixSearchDropdown",function(){(4<=c(t).outerWidth(!0)-p.outerWidth()||k())&&i();
f();r.css({top:Math.max(0,(p.outerHeight()-r.outerHeight())/2)})});window.$Nav.when("iss").run("SddIss",function(a){a.keydown(function(a){setTimeout(function(){n(a)},10)});window.$Nav.when("dismissTooltip").run("SearchTypeHideTooltip",function(b){a.keydown(b)});a.onFocus(m("searchFocus",!0));a.onBlur(m("searchFocus",!1));a.onBlur(j);if(a.onSearchBoxHover)a.onSearchBoxHover(m("searchHover",!0),m("searchHover",!1));window.$Nav.declare("SddIssComplete")})});window.$Nav.when("$").build("Keycode",function(c){function a(a){this.evt=a;this.code=a.keyCode}a.prototype.isAugmented=function(){return this.evt.altKey||this.evt.ctrlKey||this.evt.metaKey};a.prototype.isAugmentor=function(){return 0<=c.inArray(this.code,[0,16,20,17,18,224,91,93])};a.prototype.isTextFieldControl=function(){return 0<=c.inArray(this.code,[8,9,13,32,35,36,37,38,39,40,45,46])};a.prototype.isControl=function(){return 46>=this.code||91<=this.code&&95>=this.code||112<=this.code&&145>=this.code?
!0:!1};a.prototype.isTab=function(){return 9===this.code};a.prototype.isEnter=function(){return 13===this.code};a.prototype.isBackspace=function(){return 8===this.code};return a});
window.$Nav.when("$","$byID","agent","iss","Keycode","config.autoFocus","SddIssComplete","nav.inline").run("autoFocus",function(c,a,b,e,d,h){function f(){return c(document).scrollTop()<=c("#nav-iss-attach").offset().top&&1>c(document.activeElement).filter("input,select,textarea").size()&&""===(window.getSelection?window.getSelection().toString():document.selection?document.selection.createRange().text:"")}if(h&&!b.touch){var g=!1;if(b=f())e.focus(),g=!0;if(0>=e.keyword().length){var k=a("twotabsearchtextbox");
k.bind("keydown.issAutoFocusEvents",function(a){a=new d(a);if(!a.isAugmentor()){var b=a.isControl();a.isAugmented()||(g?f()?b&&e.blur():e.blur():b&&(a.isTextFieldControl()?""===e.keyword()&&(!a.isTab()&&!a.isEnter()&&!a.isBackspace())&&e.blur():e.blur()));g=!1}});k.bind("click.issAutoFocusEvents"+(b?" blur":" focus")+".issAutoFocusEvents",function(){k.unbind(".issAutoFocusEvents")})}c(document).keydown(function(a){a=new d(a);f()&&(a.isControl()||!a.isAugmentor()&&!a.isAugmented()&&e.focus())})}});window.$Nav.when("$","byID","agent","api.publish","config.lightningDeals","ajax.subnavFlyoutDispatcher","subnav.buildFlyouts","subnav.buildAJAXData","subnav.getFlyouts").run("UpdateAPI",function(c,a,b,e,d,h,f,g,k){function i(a,b,c,d){a.removeClass("nav-subnav-item-float-right nav-subnav-item-border-right");d||a.removeClass("nav-category-button");a.find("div").remove();b.find("span").remove();c.floatRight&&a.addClass("nav-subnav-item-float-right");c.flyoutFullWidth&&b.attr("data-flyout-full-width",
"1");c.rightSpacer&&a.addClass("nav-subnav-item-border-right");if(c.amabotData)for(var e in c.amabotData)c.amabotData.hasOwnProperty(e)&&b.attr("data-"+e,c.amabotData[e]);c.flyout&&(b.addClass("nav_a nav-subnav-flyout-menu"),b.attr("data-flyoutid",c.flyoutID),b.append('<span class="nav-subnav-down-arrow"></span>'),a.append(c.flyoutContainerDiv))}function j(b){if(b instanceof Object){var e=window.$Nav.getNow("ajax.flyoutDispatcher");e&&e.allowRetry();var e=[],j=[];if(b.catsubnav)try{var r=c("#nav-subnav");
if(0<r.length){var p=b.catsubnav.digest||"";if(!p||p!==r.attr("data-digest")){var t=0,q=[],B=b.catsubnav.categoryKey,v=b.catsubnav.category;if(v&&"link"==v.type){var s=c("li.nav-category-button:first",r);if(0===s.length)throw"category-1";var x=v.data;if(!x.href||!x.text)throw"category-2";var z=s.clone(),y=c("a:first",z);if(0===y.length)throw"category-3";y.attr("href",x.href).html(x.text);i(z,y,x,1);q.push(z.get(0));t+=1}var D=b.catsubnav.subnav;if(D&&"linkSequence"==D.type){var w=c("li.nav-subnav-item",
r).slice(-1);if(0===w.length)throw"subnav-1";for(var C=0;C<D.data.length;C++){var H=D.data[C];if(!H.href||!H.text)throw"subnav-2";var M=w.clone(),I=c("a:first",M);if(0===I.length)throw"subnav-3";I.attr("href",H.href).html(H.text);i(M,I,H,0);q.push(M.get(0))}1<q.length&&(t+=1)}var F=c("#navbar"),Q=c("#nav-subnav-container");if(0===F.length)throw"catsubnav-1";2==t?(e.push(function(){k().remove();r.empty().append(q).css("display","").attr("data-digest",p).attr("data-category",B);F.addClass("nav-subnav");
0<Q.length&&Q.css("display","");c(".nav-subnav-down-arrow").show()}),e.push(function(){var a=k(q);if(0<a.length){var b=c(".nav-subnav-down-arrow"),d=g();h.reload(b,a,d);f()}})):0===t&&e.push(function(){F.removeClass("nav-subnav");r.css("display","none").attr("data-digest","0");0<Q.length&&Q.css("display","none")})}}}catch(N){return l="navbar.update() error: "+N,!1}if(b.cart)try{var E=b.cart;if("countPlusLD"==E.type||"count"==E.type){if(!E.data)throw"cart-1";var G=E.data.count+"";if(!G.match(/^(|0|[1-9][0-9]*|99\+)$/))throw"cart-2";
var A=c("#nav-cart-count, #nav_cart_flyout .nav-cart-count");0<A.length&&e.push(function(){var b="nav-cart-0";"99+"==G?b="nav-cart-100":99<G?(G="99+",b="nav-cart-100"):19<G?b="nav-cart-20":9<G&&(b="nav-cart-10");A.removeClass("nav-cart-0 nav-cart-10 nav-cart-20 nav-cart-100").addClass(b).html(G);0===G&&a("nav-cart-zero")?(c("#nav-cart-one, #nav-cart-many").hide(),c("#nav-cart-zero").show()):1==G?(c("#nav-cart-zero, #nav-cart-many").hide(),c("#nav-cart-one").show()):(c("#nav-cart-zero, #nav-cart-one").hide(),
c("#nav-cart-many").show())});var K=E.data.LDData;K&&e.push(function(){d=K})}}catch(T){return l="navbar.update() error: "+T,!1}if(b.searchbar)try{var R=b.searchbar;if("searchbar"==R.type){if(!R.data)throw"searchbar-1";var S=R.data.options;if(!S||0===S.length)throw"searchbar-2";var L=R.data["nav-metadata"]||{},J=c("#searchDropdownBox");0===J.length&&(J=c("#navSearchDropdown select:first"));if(0===J.length)throw"searchbar-3";!L.digest||L.digest!==J.attr("data-nav-digest")?e.push(function(){J.blur().empty();
for(var a=0;a<S.length;a++){var b=S[a],d=b._display||"";delete b._display;c("<option></option>").html(d).attr(b).appendTo(J)}J.attr("data-nav-digest",L.digest||"").attr("data-nav-selected",L.selected||0);window.$Nav.getNow("refreshDropDownFacade",function(){})()}):L.selected!=J.attr("data-nav-selected")&&e.push(function(){J.attr("data-nav-selected",L.selected).get(0).selectedIndex=L.selected;window.$Nav.getNow("refreshDropDownFacade",function(){})()})}}catch(ia){return l="navbar.update() error: "+
ia,!1}if(b.primeBadge)try{var da=b.primeBadge.isPrime;if("boolean"==da.type){F=c("#navbar");if(0===F.length)throw"primeBadge-1";e.push(function(){da.data?F.addClass("nav-prime"):F.removeClass("nav-prime")})}var X=b.primeBadge.homeUrl;if("html"==X.type){var P=c("#nav-logo");if(0===P.length)throw"primeBadge-2";X.data&&e.push(function(){P.attr("href",X.data)})}}catch(ja){return l="navbar.update() error: "+ja,!1}if(b.swmSlot)try{var U=b.swmSlot.swmContent;if(U&&"html"==U.type){var ea=c("#navSwmSlot");
if(0===ea.length)throw"swmContent-1";U.data&&e.push(function(){ea.html(U.data)})}var V=b.swmSlot.height;if(V&&"html"==V.type){var fa=c("#welcomeRowTable");if(0===fa.length)throw"swmSlotHeight-1";e.push(function(){fa.css("height",V.data||"");var a=/-(small|large)$/,b=c("#navbar");c(b.attr("class").split(/\s+/)).filter(function(){return a.test(this)}).each(function(){var c=40<parseInt(V.data||0,10),c=this.replace(a,c?"-large":"-small");b.removeClass(this).addClass(c)})})}var Y=b.swmSlot.style;if(Y&&
"html"==Y.type){var ga=c("#nav-ad-background-style");if(0===ga.length)throw"swmSlotStyle-1";e.push(function(){ga.attr("style",Y.data||"")})}}catch(ka){return l="navbar.update() error: "+ka,!1}if(b.signInText)try{var Z=b.signInText.customerName,$=b.signInText.greetingText;if("html"==Z.type&&$.type){var aa=c("#nav-signin-title");if(0===aa.length)throw"signInText-1";var O=aa.attr("data-template");O&&($.data&&Z.data)&&(O=O.replace("{helloText}",$.data),O=O.replace("{signInText}",Z.data),e.push(function(){aa.html(O)}))}}catch(la){return l=
"navbar.update() error: "+la,!1}if(b.yourAccountLink)try{var ba=b.yourAccountLink;if("html"==ba.type){var ha=c("#nav-your-account");if(0===ha.length)throw"your-account-1";ba.data&&e.push(function(){ha.attr("href",ba.data)})}}catch(ma){return l="navbar.update() error: "+ma,!1}if(b.crossShop)try{var W=b.crossShop;if("html"==W.type){var ca=c("#nav-your-amazon");if(0===ca.length)throw"yourAmazonText-1";e.push(function(){W.data&&ca.text()!=W.data&&ca.html(W.data)})}j.push(function(){c("#nav-cross-shop-links").css("display",
"")})}catch(na){return l="navbar.update() error: "+na,!1}if(0<e.length)try{for(C=0;C<e.length;C++)e[C]()}catch(oa){return l="navbar.update() error: "+oa,!1}finally{for(C=0;C<j.length;C++)j[C]()}return!0}l="navbar.update() error: parameter not an Object";return!1}var l="no error";e("error",function(){return l});e("update",j);e("setCartCount",function(a){return j({cart:{type:"count",data:{count:a}}})});e("getLightningDealsData",function(){return d||{}});e("overrideCartButtonClick",function(a){b.touch||
c("#nav-cart").click(a);c("#nav-cart-menu-button").click(a)})});window.navbar={};window.$Nav.when("depend").build("api.publish",function(c){var a=window.$Nav,b=c({parent:a,prefix:"api",bubble:!1});window.navbar.use=function(a,c){b.when(a).run(c)};return function(c,d){b.publish(c,d);window.navbar[c]=d;a.publish("nav."+c,d)}});
window.$Nav.when("$","api.publish","config.swmStyleData").run("ExternalAPI",function(c,a,b){a("unHideSWM",function(){var a=c("#navHiddenSwm");if(a.length){c("#navbar").removeClass("nav-logo-small nav-logo-large").addClass("nav-logo-"+(40<parseInt(b.height||0,10)?"large":"small"));c("#welcomeRowTable").css("height",b.height||"");var e=c("#navSwmSlot");e.parent().attr("style",b.style||"");e.children().css("display","none");a.css("display","")}});var e;a("exposeSBD",function(a){e=a;window.$Nav.when("initExposeSBD",
"protectExposeSBD").run("GatewayExposedSBD",function(a,b){a().ok()&&b(e)})});a("navDimensions",function(){var a=c("#navbar"),b=a.offset();b.height=a.height();b.bottom=b.top+b.height;return b});window.$Nav.when("api.unHideSWM","api.exposeSBD","api.navDimensions").publish("navbarJSLoaded")});

/* end navbarJS-beacon/navbarJQ-beacon.js */

/* begin search-js-autocomplete/autocomplete.js */
if(!window.$SearchJS&&window.$Nav){window.$SearchJS=$Nav.make("sx");
}if(window.$SearchJS){$SearchJS.importEvent("legacy-popover",{as:"popover",amznJQ:"popover"});
$SearchJS.when("jQuery","popover").run("amznFlyoutIntent-lib",function($){$.fn.amznFlyoutIntent=function(arg){var defaults={getTarget:function(el){return $(this).children('*[position="absolute"]').eq(0);
},triggerAxis:"y",majorDelay:300,minorDelay:100,targetSlopY:50,targetSlopX:50,cursorSlopBase:25,cursorSlopHeight:50,mtRegions:[]},nameSp="amznFlyoutIntent",mt=$.AmazonPopover.mouseTracker,getRect=function(el,slopX,slopY){var off=el.offset(),tl={x:off.left-(slopX||0),y:off.top-(slopY||0)},br={x:tl.x+el.outerWidth()+((slopX||0)*2),y:tl.y+el.outerHeight()+((slopY||0)*2)};
return[tl,br];
},triBC=function(tri){var t0=tri[0],t1=tri[1],t2=tri[2];
return(t1.x-t0.x)*(t2.y-t0.y)-(t2.x-t0.x)*(t1.y-t0.y);
},isInTri=function(p,tri){var b0=1/triBC(tri),t0=tri[0],t1=tri[1],t2=tri[2];
return(triBC([t1,t2,p])*b0)>0&&(triBC([t2,t0,p])*b0)>0&&(triBC([t0,t1,p])*b0)>0;
},clamp=function(p,r){var r0=r[0],r1=r[1];
return{x:p.x<r0.x?-1:p.x>r1.x?1:0,y:p.y<r0.y?-1:p.y>r1.y?1:0};
},isInRect=function(p,rect){var c=clamp(p,rect);
return c.x==0&&c.y==0;
},sel=function(a,b,a0,a1,b0,b1,d){return a<0?a0:a>0?a1:b<0?b0:b>0?b1:d;
},getExtremePoints=function(p,rect){var c=clamp(p,rect),cx=c.x,cy=c.y,r0=rect[0],r1=rect[1],r0x=r0.x,r0y=r0.y,r1x=r1.x,r1y=r1.y;
return[{x:sel(cy,cx,r0x,r1x,r0x,r1x,0),y:sel(cx,cy,r1y,r0y,r0y,r1y,0)},{x:sel(cy,cx,r1x,r0x,r0x,r1x,0),y:sel(cx,cy,r0y,r1y,r0y,r1y,0)}];
},isInCone=function(cursor,p1,cfg){var slopRect=$.extend(true,[],cfg.slopRect),sy=cfg.targetSlopY,sx=cfg.targetSlopX,c=clamp(p1,cfg.targetRect),cx=c.x,cy=c.y,sh=cfg.cursorSlopHeight,sb=cfg.cursorSlopBase,p=$.extend({},p1),q=$.extend({},p1),exP;
if(cy==0){slopRect[cx<0?0:1].x-=sy*cx;
}else{if(cx==0){slopRect[cy<0?0:1].y-=sb*cy;
}}if(cfg.triggerAxis==="x"){p.y=q.y-=sb*cy;
p.x-=sh;
q.x+=sh;
}else{q.x=p.x-=sb*cx;
p.y-=sh*cx;
q.y+=sh*cx;
}exP=getExtremePoints(p1,slopRect);
return isInTri(cursor,[p1,exP[0],exP[1]])||isInTri(cursor,[p1,exP[0],p])||isInTri(cursor,[p1,exP[1],q]);
},calcChangeDelay=function(c,rect,p1,p2,cfg){var delay=0;
p1=p1||{};
p2=p2||{};
if(isInRect(c,rect)){delay=-1;
}else{if(isInCone(c,p1,cfg)){delay=cfg.majorDelay;
}else{if(Math.abs(c.x-p1.x)<10&&Math.abs(c.y-p1.y)<10&&isInCone(c,p2,cfg)){delay=cfg.minorDelay;
}}}return delay;
},changeTrigger=function(el,cfg){cfg.triggerEl&&cfg.onMouseOut&&cfg.onMouseOut.call(cfg.triggerEl.get(0));
cfg.onMouseOver.call(el.get(0));
if(!cfg.targets){cfg.targets={};
}var tgt=cfg.targets[el];
if(!tgt){cfg.targets[el]=tgt={triggerEl:$(el)};
tgt.targetEl=cfg.getTarget.call(el.get(0));
tgt.targetRect=getRect(tgt.targetEl);
tgt.slopRect=getRect(tgt.targetEl,cfg.targetSlopY,cfg.targetSlopX);
}cfg.triggerEl=tgt.triggerEl;
cfg.targetEl=tgt.targetEl;
cfg.targetRect=tgt.targetRect;
cfg.slopRect=tgt.slopRect;
},m={destroy:function(){var cfg=this.data(nameSp),i;
if(cfg){clearTimeout(cfg.timeoutId);
for(i=0;
i<cfg.mtRegions.length;
i++){mt.remove(cfg.mtRegions[i]);
}this.removeData(nameSp);
}},init:function(opts){var cfg=this.data(nameSp);
if(!cfg){cfg=$.extend(defaults,opts);
this.data(nameSp,cfg);
}return this.each(function(){var $this=$(this),off=$this.offset(),mouseLeave=function(immediately,args){cfg.onMouseLeave&&this.el&&cfg.onMouseLeave.call(this.el.get(0));
return true;
},mouseEnter=function(args){clearTimeout(cfg.timeoutId);
var trigger,changeDelay,doDelayedChange;
cfg.onMouseEnter&&this.el&&cfg.onMouseEnter.call(this.el.get(0));
if(cfg.triggerEl&&this.el&&cfg.triggerEl!==this.el){trigger=this.el;
changeDelay=cfg.targetRect?calcChangeDelay(args.cursor,cfg.targetRect,args.priorCursors[0],args.priorCursors[1],cfg):-1;
if(cfg.triggerEl&&changeDelay>0){doDelayedChange=function(){var delayedArgs=mt.getCallbackArgs(),nextDelay=0;
clearTimeout(cfg.timeoutId);
if(cfg.priorCursor&&cfg.priorCursor.x===delayedArgs.cursor.x&&cfg.priorCursor.y===delayedArgs.cursor.y){nextDelay=isInRect(delayedArgs.cursor,cfg.targetRect)?-1:0;
}else{nextDelay=calcChangeDelay(delayedArgs.cursor,cfg.targetRect,delayedArgs.priorCursors[0],delayedArgs.priorCursors[1],cfg);
}cfg.priorCursor={x:delayedArgs.cursor.x,y:delayedArgs.cursor.y};
if(nextDelay>0&&cfg.triggerEl.get(0)!==trigger.get(0)){cfg.timeoutId=setTimeout(function(){doDelayedChange.call(trigger);
},nextDelay);
}else{if(nextDelay>-1){if(isInRect(delayedArgs.cursor,getRect(trigger))){changeTrigger(trigger,cfg);
}else{cfg.onMouseOut&&cfg.onMouseOut.call(trigger.get(0));
}}}};
cfg.timeoutId=setTimeout(doDelayedChange,changeDelay);
}else{changeTrigger(this.el,cfg);
}}else{changeTrigger(this.el,cfg);
}return true;
};
cfg.mtRegions.push(mt.add([[off.left,off.top,$this.outerWidth(),$this.outerHeight()]],{inside:false,mouseEnter:mouseEnter,mouseLeave:mouseLeave,el:$this}));
});
}};
if(m[arg]){return m[arg].apply(this,Array.prototype.slice.call(arguments,1));
}if(typeof arg==="object"||!arg){return m.init.apply(this,arguments);
}return this;
};
$SearchJS.publish("amznFlyoutIntent");
});
$SearchJS.when("jQuery","amznFlyoutIntent").run("autocomplete-lib",function($){(function(window,undefined){var merchRE=/^me=/,refre=/(ref=[-\w]+)/,ltrimre=/^\s+/,spaceNormRe=/\s+/g,ddre=/_dd_/,ddaliasre=/(dd_[a-z]{3,4})(_|$)[\w]*/,deptre=/\{department\}/g,slashre=/\+/g,aliasre=/search-alias\s*=\s*([\w-]+)/,nodere=/node\s*=\s*([\d]+)/,merchantre=/^me=([0-9A-Z]*)/,noissre=/ref=nb_sb_noss/,dcs="#ddCrtSel",sdpc="searchDropdown_pop_conn",tostr=Object.prototype.toString,ddBox,metrics={isEnabled:typeof uet=="function"&&typeof uex=="function",init:"iss-init-pc",completionsRequest0:"iss-c0-pc",completionsRequestSample:"iss-cs-pc",sample:2,noFocusTag:"iss-on-time",focusTag:"iss-late"};
$.isArray=$.isArray||function(o){return tostr.call(o)==="[object Array]";
};
var SS=function(sb,pe,displayHtml,handlers){var node,noOp=function(){},defaults={afterCreate:noOp,beforeShow:noOp,afterShow:noOp,beforeHide:noOp,beforeHtmlChange:noOp,afterHtmlChange:noOp,onWindowResize:noOp},events=$.extend({},defaults,handlers);
function create(){node=$(displayHtml).appendTo(pe||sb.parent());
events.afterCreate.call(node);
$(window).resize(function(e){events.onWindowResize.call(node,e);
});
return node;
}function get(){return node||create();
}function setHtml(h){events.beforeHtmlChange.call(get(),h);
get().html(h);
events.afterHtmlChange.call(get(),h);
return this;
}this.getNode=get;
this.html=setHtml;
this.visible=function(){if(node){return node.css("display")!="none";
}return false;
};
this.hide=function(){events.beforeHide.call(get());
get().hide();
setHtml("");
return this;
};
this.show=function(){events.beforeShow.call(get());
get().show();
events.afterShow.call(get());
return this;
};
};
var IH=function(updateFunc){var curIme,ku,kd,validKey,srotationFlag=0,skeyupFlag=0,updateKwChange=updateFunc;
function clearCurIme(clearRotationFlag){if(clearRotationFlag&&srotationFlag==1){srotationFlag=0;
}else{kd=ku=undefined,curIme="";
}if(clearRotationFlag){validKey=false;
}}function keydown(keyCode){validKey=false;
if(srotationFlag!=skeyupFlag){srotationFlag=skeyupFlag=0;
}return keyCode?kd=keyCode:kd;
}function update(sbCurText){if(updateKwChange){updateKwChange(sbCurText&&sbCurText.length>0?sbCurText+curIme:curIme);
}}function keyup(keyCode,sbCurText){if(keyCode!=undefined){ku=keyCode;
if(curIme&&curIme.length>0&&(ku==8||ku==46)){curIme=curIme.substring(0,curIme.length-1);
if(skeyupFlag==1){skeyupFlag=0;
}validKey=true;
update(sbCurText);
}else{if(ku>=65&&ku<=90){var kchar=String.fromCharCode(ku);
curIme+=kchar;
validKey=true;
if(skeyupFlag==1){skeyupFlag=0;
}else{update(sbCurText);
}}}}return ku;
}function shouldHandle(){return kd==229||kd==197;
}function isValidKey(){return validKey;
}function setFlag(){srotationFlag=1;
skeyupFlag=1;
}this.keydown=keydown;
this.keyup=keyup;
this.isImeInput=shouldHandle;
this.reset=clearCurIme;
this.isValidKey=isValidKey;
this.setFlag=setFlag;
};
var SB=function(sb,h){var curText,curSel,latestUserInput,imeUsed=false,ih=h.opt.imeEnh&&new IH(function(val){updateKwChange(val);
}),wAddIMEReftag=false;
init();
function init(){if(metrics.isEnabled){ue.tag(sb.get(0)===document.activeElement?metrics.focusTag:metrics.noFocusTag);
}sb.keydown(keyDown).keyup(keyUp).keypress(keyPress).select(select).blur(blurHandler).focus(focusHandler).click(clickHandler);
sb.bind("compositionstart",imeCompositionStart).bind("compositionend",imeCompositionEnd);
latestUserInput=curText=kw();
}function kw(k){if(k!==undefined){curText=curSel=k;
sb.val(k);
}return sb.val().replace(ltrimre,"").replace(spaceNormRe," ");
}function input(k){if(k!==undefined){latestUserInput=k;
}return latestUserInput;
}function keyDown(e){var key=e.keyCode,d=key==38?-1:key==40?1:0;
if(ih){ih.keydown(key);
}imeUsed=(key==229||key==197)?true:((key>=48&&key<=57)||(key>=65&&key<=90))?false:imeUsed;
if(h.opt.twoPane===1){return h.twoPaneArrowKeyHandler(e);
}if(d){h.adjust(d);
if(kw()!=""){e.preventDefault();
}}if(h.opt.doCTWKeydown){h.opt.doCTWKeydown(e);
}}function keyUp(e){var key=e.keyCode;
switch(key){case 13:h.hide();
break;
case 27:return h.dismiss();
case 37:case 38:case 39:case 40:break;
default:if(ih&&ih.isImeInput()){ih.keyup(key,curText);
}else{update(true);
}break;
}}function keyPress(e){var key=e.keyCode;
switch(key){case 13:return h.submitEnabled();
default:h.keyPress();
break;
}}function select(e){if(ih){ih.setFlag();
}}function imeCompositionStart(e){wAddIMEReftag=true;
}function imeCompositionEnd(e){setTimeout(function(){return(function(){wAddIMEReftag=false;
});
}(),200);
}function updateKwChange(val){input(val);
h.change(val);
}function update(dontCheckCurSel){var val=kw();
if(val!=curText&&(dontCheckCurSel||val!=curSel)){curText=val;
if(ih){ih.reset(true);
}updateKwChange(val);
}}function focusHandler(e){if(ih){ih.reset();
}}function blurHandler(e){h.dismiss();
if(ih){ih.reset();
}}function clickHandler(e){h.click(kw());
if(ih){ih.reset();
}}function isImeEnhUsed(){return imeUsed&&h.opt.imeEnh&&ih.isValidKey();
}this.keyword=function(k){return kw(k);
};
this.userInput=function(k){return input(k);
};
this.size=function(){if(h.newDesign){return{width:$("#nav-iss-attach").outerWidth(),height:$("#nav-iss-attach").outerHeight()};
}else{return{width:sb.outerWidth(),height:sb.outerHeight()};
}};
this.pos=function(){if(h.newDesign){return $("#nav-iss-attach").position();
}else{return sb.position();
}};
this.offset=function(){return sb.offset();
};
this.parent=function(){return sb.parent();
};
this.hasFocus=function(){return sb.get(0)===document.activeElement;
};
this.cursorPos=function(){var input=sb.get(0);
if("selectionStart" in input){return input.selectionStart;
}else{if(document.selection){input.focus();
var sel=document.selection.createRange();
var selLen=document.selection.createRange().text.length;
sel.moveStart("character",-input.value.length);
return sel.text.length-selLen;
}}return -1;
};
this.update=update;
this.isImeEnhUsed=isImeEnhUsed;
this.blur=function(){sb.blur();
};
this.focus=function(){var val=sb.val();
sb.focus().val("").val(val);
};
this.keydown=function(h){sb.keydown(h);
};
this.click=function(h){sb.click(h);
};
this.onFocus=function(h){sb.focus(h);
};
this.onBlur=function(h){sb.blur(h);
};
this.isImeUsed=function(){return imeUsed;
};
this.shouldAddIMEReftag=function(){return(h.opt.ime&&wAddIMEReftag)||isImeEnhUsed();
};
};
var AC=function(opts){var opt={},names,values,crtSel=-1,crtXcatSel=-1,suggestionList=[],twoPaneSuggestionsList=[],curSize=0,hideDelayTimerId=null,timer=null,maxCategorySuggestions=4,imeSpacing=0,suggestRequest=null,first=-1,defaultDropDownVal,insertedDropDownVal,delayedDOMUpdate=false,staticContent,searchBox,keystroke,sugHandler,searchSuggest,activityAllowed=true,promoList=[],suggType="sugg",newDesign=$("#navbar").hasClass("nav-beacon"),defaults={sb:"#twotabsearchtextbox",form:"#navbar form[name='site-search']",dd:"#searchDropdownBox",cid:"amazon-search-ui",action:"",sugPrefix:"issDiv",sugText:"Search suggestions",xcat:0,twoPane:0,fb:0,dupElim:0,imeSpacing:0,maxSuggestions:10},redirectFirstSuggestion=false,X_CAT_SUGGESTION_NO_IMPROVEMENT=0,X_CAT_SUGGESTION_IMPROVEMENT_WITHOUT_KEYWORD=1,X_CAT_SUGGESTION_IMPROVEMENT_WITH_KEYWORD=2,lastXCatSuggestionPosition=-1,hasFallbackSuggestion=false,MARKETPLACE_CN=3240,lastKeyPressTime,timeToFirstSuggestion=0,searchAliasFrom,defaultTimeout=100,reqCounter=0,imeEnhUsed=false;
opts&&init(opts);
function init(opts){$.extend(opt,defaults,opts);
newDesign=opt.isNavInline&&newDesign;
var src=opt.src,resizeToken=null;
staticContent=$.isArray(src);
lookup(opt,"sb");
if(!opt.sb){return;
}searchBox=new SB(opt.sb,{adjust:move,twoPaneArrowKeyHandler:twoPaneArrowKeyHandler,hide:hideSuggestions,dismiss:dismissSuggestions,change:(staticContent?update:delayUpdate),submitEnabled:submitEnabled,keyPress:keyPress,click:clickHandler,newDesign:newDesign,opt:opt});
lookup(opt,"pe");
if(opt.twoPane==false){searchSuggest=new SS(searchBox,opt.pe,'<div id="srch_sggst"/>',{afterCreate:resizeHandler,onWindowResize:resizeHandler,beforeShow:resizeHandler});
}else{searchSuggest=new SS(searchBox,opt.pe,'<div id="srch_sggst" class="two-pane" style="display:none"/>',{afterCreate:twoPaneSetPosition,beforeHtmlChange:twoPaneDestroyFlyout,beforeShow:twoPaneSetPosition,afterShow:function(h){twoPaneSetPosition.call(this);
twoPaneSetXcatPosition.call(this);
twoPaneBindFlyout.call(this);
},onWindowResize:function(){var $this=this,resize=function(){twoPaneDestroyFlyout.call($this);
twoPaneBindFlyout.call($this);
resizeToken=null;
};
window.clearTimeout(resizeToken);
resizeToken=window.setTimeout(resize,100);
twoPaneSetPosition.call($this);
twoPaneSetXcatPosition.call($this);
}});
}lookup(opt,"form");
lookup(opt,"valInput");
lookup(opt,"dd");
lookup(opt,"submit");
ddBox=opt.dd;
opt.protocol=opt.protocol||window.document.location.protocol||"http:";
if(ddBox){defaultDropDownVal=ddBox.val();
}if(staticContent){names=src[0];
values=src[1];
opt.sb.removeAttr("style");
}else{}if(opt.submit){disable("disabled");
opt.submitImgDef=opt.submit.attr("src");
opt.submitToggle=opt.submitImgDef&&opt.submitImg;
}if(opt.ime){window.setInterval(function(){searchBox.update();
},20);
}$SearchJS.importEvent("navbarPromos");
$SearchJS.when("navbarPromos").run("autocomplete-navbarPromos",function(){promoList=window.navbar.issPromotions(3);
});
}function initStatic(sb,form,valInput,submit,submitImg,names,values,noMatch,ime,multiword,dummy0){init({form:form,ime:ime,multiword:multiword,noMatch:noMatch,sb:sb,src:[names,values],submit:submit,submitImg:submitImg,valInput:valInput});
}function initDynamic(sb,form,dd,service,mkt,aliases,handler,deptText,sugText,sc,dummy0){init({aliases:aliases,dd:dd,deptText:deptText,form:form,handler:handler,ime:(mkt==6||mkt==3240),mkt:mkt,sb:sb,sc:sc,src:service,sugText:sugText});
}function lookup(h,k,n){if(n=h[k]){n=$(n);
if(n&&n.length){h[k]=n;
return n;
}}delete h[k];
}function disable(d){if(opt.submit.prop){opt.submit.prop("disabled",d);
}else{opt.submit.attr("disabled",d);
}}function move(n){if(curSize<=0){return;
}try{unhighlightCurrentSuggestion();
if(n>0&&crtSel>=curSize-1){crtSel=-1;
}else{if(n<0&&crtSel<0){crtSel=curSize-1;
}else{crtSel+=n;
}}highlightCurrentSuggestion(true);
}catch(e){}}function wrap(x,min,max){return x>max?min:(x<min?max:x);
}function twoPaneArrowKeyHandler(e){var key=e.keyCode,list=twoPaneSuggestionsList,mainLength=list.length,xcatLength=list[crtSel]&&list[crtSel].xcat?list[crtSel].xcat.length:0,ssNode=searchSuggest.getNode(),n,crtSelId,xcatSelId,firstId=opt.sugPrefix+0;
if(e.ctrlKey||e.altKey||e.shiftKey){return;
}switch(key){case 38:case 40:n=key===38?-1:1;
if(crtSel>-1&&crtXcatSel>=0){crtXcatSel=wrap(crtXcatSel+n,0,xcatLength-1);
}else{crtSel=wrap(crtSel+n,-1,mainLength-1);
}break;
case 37:case 39:if(crtSel<=-1){return;
}if(key===39&&crtXcatSel<=-1&&xcatLength>0){crtXcatSel=0;
}else{if(key===37){crtXcatSel=-1;
}}break;
default:return;
}crtSelId=opt.sugPrefix+crtSel;
xcatSelId=opt.sugPrefix+crtSel+"-"+crtXcatSel;
ssNode.find("#"+opt.sugPrefix+"0").removeClass("xcat-arrow-hint");
ssNode.find(".main-suggestion").each(function(i,el){var e=$(el);
if(el.id===crtSelId){e.addClass("suggest_link_over");
ssNode.find("#xcatPanel-"+i).show().find(".xcat-suggestion").each(function(i,el){var e=$(el);
if(el.id!==xcatSelId){e.removeClass("suggest_link_over");
}else{e.addClass("suggest_link_over");
}});
}else{if(crtSel<=-1&&el.id===firstId){e.removeClass("suggest_link_over");
ssNode.find("#"+opt.sugPrefix+"0").addClass("xcat-arrow-hint");
ssNode.find("#xcatPanel-0").show().find(".xcat-suggestion").removeClass("suggest_link_over");
}else{e.removeClass("suggest_link_over");
ssNode.find("#xcatPanel-"+i).hide();
}}});
updateCrtSuggestion();
e.preventDefault();
return false;
}function clickHandler(kw){if(!kw.length){displayPromotions();
}}function hideSuggestions(){!opt.ime&&hideSuggestionsDiv();
}function dismissSuggestions(){if(searchSuggest.visible()){hideDelayTimerId=setTimeout(function(){return(function(){hideDelayTimerId=null;
hideSuggestionsDiv();
});
}(),300);
crtSel=-1;
if(suggType=="sugg"){updateCrtSuggestion();
}return false;
}return true;
}function update(kw){suggestionList=[];
twoPaneSuggestionsList=[];
if(!kw.length){displayPromotions();
}else{first=-1;
if(opt.multiword){findSeq();
}else{findBin();
}curSize=suggestionList.length;
displaySuggestions(kw);
checkForExactMatch();
checkForManualOverride();
}timer=null;
crtSel=-1;
crtXcatSel=-1;
}function delayUpdate(kw){var then=now(),newImeEnhUsed=searchBox.isImeEnhUsed();
if(timer){clearTimeout(timer);
timer=null;
}var timeout=defaultTimeout,noneKeyword=!kw||!kw.length;
if(noneKeyword&&searchBox.isImeUsed()){timeout=200;
}timer=setTimeout(function(){return(function(){if(noneKeyword){displayPromotions();
}else{opt.imeEnh?searchJSONSuggest(kw,newImeEnhUsed):searchJSONSuggest();
}timer=null;
crtSel=-1;
crtXcatSel=-1;
});
}(),timeout);
}function submitEnabled(){if(suggType=="promo"&&crtSel>-1){document.location.href=promoList[crtSel].href;
return false;
}var s=opt.submit;
if(s){return s.prop?!s.prop("disabled"):!s.attr("disabled");
}}function keyPress(key){keystroke&&keystroke(key);
}function bindSubmit(handler){opt.form.submit(handler);
}function bindKeypress(handler){keystroke=handler;
}function bindSuggest(handler){sugHandler=handler;
}function normalize(s){if(opt.normalize){return opt.normalize(s);
}else{return s.toLowerCase();
}}function findBin(){var low=0,high=names.length-1,mid=-1,dataPrefix="",crtPrefix=normalize(keyword()),len=crtPrefix.length;
while(low<=high){mid=Math.floor((low+high)/2);
dataPrefix=normalize(names[mid]).substr(0,len);
if(dataPrefix<crtPrefix){low=mid+1;
}else{high=mid-1;
if(dataPrefix==crtPrefix){first=mid;
}}}if(first!=-1){var i=first,n;
do{suggestionList.push({keyword:names[i],i:i});
++i;
}while(suggestionList.length<opt.maxSuggestions&&(n=names[i])&&!normalize(n).indexOf(crtPrefix));
}}function findSeq(){var crtPrefix=normalize(keyword()),rexp=new RegExp("(^|(?:\\s))"+crtPrefix,"i"),i=0,len=names.length,n;
for(;
i<len&&suggestionList.length<opt.maxSuggestions;
i++){n=names[i];
if(normalize(n).match(rexp)){suggestionList.push({keyword:n,i:i});
if(first==-1){first=i;
}}}}function checkForExactMatch(){var state="disabled";
if(curSize){var sg=normalize(suggestionList[0].keyword),kw=normalize(keyword());
if(sg.length==kw.length&&!getPrefixPos(sg,kw)){updateForm(first);
state="";
}}disable(state);
}function checkForManualOverride(){if(opt.manualOverride&&!curSize){var kw=keyword();
var url=opt.manualOverride(kw);
if(url&&url.length){updateWholeForm(url);
disable("");
}}}function displayPromotions(){if(!newDesign||!promoList||promoList.length==0){hideSuggestionsDiv();
hideNoMatches();
return;
}curSize=promoList.length;
suggType="promo";
searchSuggest.html("");
hideNoMatches();
searchSuggest.show();
h='<ul class="promo_list">';
for(i=0;
i<curSize;
i++){p=promoList[i];
h+='<li id="'+opt.sugPrefix+i+'" onclick="document.location.href=\''+p.href+"'\">";
h+='<div class="promo_image" style="background-image: url(\''+p.image+"');\"></div>";
h+='<div class="promo_cat">'+p.category+"</div>";
h+='<div class="promo_title">'+p.title+"</div>";
h+="</li>";
}h+="</ul>";
searchSuggest.html(h);
window.navbar.logImpression("iss");
for(i=0;
i<curSize;
++i){$("#"+opt.sugPrefix+i).mouseover(suggestOver).mouseout(suggestOut);
}}function displaySuggestions(crtPrefix){var sugDivId,lineText,line,sPrefix=opt.sugPrefix,prefix="#"+sPrefix,h="",imeSpacing=opt.imeSpacing&&searchBox.isImeUsed(),currAlias=searchAlias()||(opt.deepNodeISS&&opt.deepNodeISS.searchAliasAccessor()),suggType="sugg",i;
searchSuggest.html("");
if(curSize>0){hideNoMatches();
searchSuggest.show();
if(!staticContent&&!newDesign){h+='<div id="sugdivhdr" align="right"> '+opt.sugText+"</div>";
}}else{showNoMatches();
}for(i=0;
i<curSize;
i++){line=suggestionList[i];
var showDeepNodeCorrection=opt.deepNodeISS&&opt.deepNodeISS.showDeepNodeCorr;
if(line.alias&&line.alias==currAlias&&(showDeepNodeCorrection||opt.xcatSuggestionImprovementFlag==X_CAT_SUGGESTION_IMPROVEMENT_WITH_KEYWORD)){lineText=getFormattedCategoryLine(line,crtPrefix);
}else{if(line.alias&&line.alias!=currAlias){lineText=getFormattedCategoryLine(line,crtPrefix);
}else{lineText=getFormattedSuggestionLine(line,crtPrefix);
}}if(enableSeparateCategorySuggestion()&&i==(lastXCatSuggestionPosition+1)&&lastXCatSuggestionPosition>0){h+='<div class="sx_line_holder" />';
}var className="suggest_link";
if(i==0&&imeSpacing){className+=" imeSpacing";
}sugDivId=sPrefix+i;
h+='<div id="'+sugDivId+'" class="'+className+'">'+lineText+"</div>";
}if(curSize>0&&!newDesign){h+='<div id="sugdivhdr2" align="right">&nbsp;</div>';
}h&&searchSuggest.html(h);
if(timeToFirstSuggestion==0&&suggestionList.length>0){recordTimeToFirstSuggestion();
}if(ddBox){defaultDropDownVal=ddBox.val();
}searchAliasFrom=extractSearchAlias(defaultDropDownVal);
for(i=0;
i<curSize;
++i){$(prefix+i).mouseover(suggestOver).mouseout(suggestOut).click(setSearchByIndex);
}if(opt.doCTWDisplay){opt.doCTWDisplay();
}if(opt.xcatSuggestionImprovementFlag==X_CAT_SUGGESTION_IMPROVEMENT_WITH_KEYWORD&&!hasFallbackSuggestion&&suggestionList[0]){removeAliasAndCategoryInforForMainSuggestion(suggestionList[0]);
}}function displayTwoPaneSuggestions(crtPrefix){var len=crtPrefix.length,i,j,k,sg,isIe6=$.browser.msie&&$.browser.version=="6.0",targetOffset,sb=[],a=function(){$.each(arguments,function(i,t){sb.push(t);
});
},sgLen=twoPaneSuggestionsList.length,xcatLen,maxXcatLen=0,imeSpacing=opt.imeSpacing&&searchBox.isImeUsed(),ssNode;
$($.find(".main-suggestion:first")).amznFlyoutIntent("destroy");
if(curSize>0){hideNoMatches();
a('<table id="two-pane-table" class="',isIe6?"nav_ie6":"nav_exposed_skin",'" cellpadding="0" cellspacing="0">',"<tr>",'<td class="iss_pop_tl nav_pop_h"><div class="nav_pop_lr_min"></div></td>','<td style="background-color: #fff;" colspan="2"></td>','<td class="iss_pop_tr nav_pop_h"></td>',"</tr>","<tr>",'<td class="nav_pop_cl nav_pop_v"><div class="nav_pop_lr_min"></div></td>');
var className="main-suggestions";
if(imeSpacing){className+=" imePadding";
}a('<td class="'+className+'" >');
for(i=0;
i<sgLen;
i++){a('<div id="',opt.sugPrefix,i,'" class="suggest_link main-suggestion');
if(i===0){a(" xcat-arrow-hint");
}a('"><span>');
sg=twoPaneSuggestionsList[i];
xcatLen=sg.xcat.length;
if(xcatLen){a('<span class="nav-sprite nav-cat-indicator xcat-arrow"></span>');
if(maxXcatLen<xcatLen){maxXcatLen=xcatLen;
}}a(getFormattedSuggestionLine(sg,crtPrefix),"</span></div>");
}for(i=0;
i<(maxXcatLen-sgLen);
i++){a('<div class="iss-spacer-row">&nbsp;</div>');
}var className="xcat-suggestions";
if(imeSpacing){className+=" imePadding";
}a('</td><td class="'+className+'">');
for(i=0;
i<sgLen;
i++){sg=twoPaneSuggestionsList[i];
a('<div id="xcatPanel-',i,'" class="xcat-panel"');
if(i>0){a(' style="display:none"');
}a(">");
for(j=0;
j<sg.xcat.length;
j++){a('<div id="',opt.sugPrefix,i,"-",j,'" class="suggest_link xcat-suggestion',j===0?" xcat-suggestion-hint":"",'">',sg.xcat[j].categoryName,"</div>");
}a("</div>");
}a("</td>",'<td class="nav_pop_cr nav_pop_v"></td>',"</tr>","<tr>",'<td class="nav_pop_bl nav_pop_v"></td>','<td colspan="2" class="nav_pop_bc nav_pop_h"></td>','<td class="nav_pop_br nav_pop_v"></td>',"</tr>","</table>");
}else{showNoMatches();
}searchSuggest.html(sb.join(""));
searchSuggest.show();
if(timeToFirstSuggestion==0&&suggestionList.length>0){recordTimeToFirstSuggestion();
}if(ddBox){defaultDropDownVal=ddBox.val();
}searchAliasFrom=extractSearchAlias(defaultDropDownVal);
ssNode=searchSuggest.getNode();
ssNode.find(".main-suggestion").bind("click",twoPaneSearchByIndex);
ssNode.find(".xcat-suggestion").bind("click",twoPaneSearchByIndex).bind("mouseover",twoPaneSuggestOver).bind("mouseout",twoPaneXcatSuggestOut);
}function recordTimeToFirstSuggestion(){var timeNow=now();
timeToFirstSuggestion=(timeNow-lastKeyPressTime)+defaultTimeout;
}function showNoMatches(){if(opt.noMatch){var nmDiv=$("#"+opt.noMatch);
searchSuggest.html("");
searchSuggest.getNode().append(nmDiv.clone().attr("class","suggest_link suggest_nm").css({"display":"block"}));
searchSuggest.show();
opt.submitToggle&&opt.submit.attr("src",opt.submitImg);
}else{hideSuggestionsDiv();
}}function hideNoMatches(){if(opt.noMatch){$("#"+opt.noMatch).hide();
opt.submitToggle&&opt.submit.attr("src",opt.submitImgDef);
}}function setSearchByIndex(){var divId=this.id;
crtSel=parseInt(divId.substr(6),10);
var imeReftagPrefix=searchBox.shouldAddIMEReftag()?"ime_":undefined;
updateCrtSuggestion(imeReftagPrefix);
searchSuggest.hide();
if(!delayedDOMUpdate){opt.form.submit();
}else{window.setTimeout(function(){opt.form.submit();
},10);
}}function twoPaneSearchByIndex(event){var divId=this.id,prefixLen=opt.sugPrefix.length;
crtSel=parseInt(divId.substr(prefixLen),10);
crtXcatSel=(divId.length===prefixLen+1)?-1:parseInt(divId.substr(prefixLen+2,1),10);
event&&event.stopPropagation();
updateCrtSuggestion();
$($.find(".main-suggestion:first")).amznFlyoutIntent("destroy");
searchSuggest.hide();
if(!delayedDOMUpdate){opt.form.submit();
}else{window.setTimeout(function(){opt.form.submit();
},10);
}}function updateCrtSuggestion(reftagPrefix){var alias,categoryName,sg;
if(crtSel>=0){if(opt.twoPane===1){sg=crtXcatSel>=0?twoPaneSuggestionsList[crtSel].xcat[crtXcatSel]:twoPaneSuggestionsList[crtSel];
}else{if(redirectFirstSuggestion&&crtSel==0){sg=suggestionList[1];
}else{sg=suggestionList[crtSel];
}}keyword(sg.keyword);
alias=sg.alias;
categoryName=sg.categoryName;
}if(staticContent){if(crtSel>=0){updateForm(sg.i);
disable("");
}else{checkForExactMatch();
checkForManualOverride();
}}else{updateCategoryDropDown(alias,categoryName);
setDynamicSearch(sg,reftagPrefix);
}}opt.form&&opt.form.submit(function(){var currentKeyword=normalize(keyword()),refTag="ref=nb_sb_noss",i=0;
if(crtSel>-1){return;
}var sgList=opt.twoPane===1?twoPaneSuggestionsList:suggestionList;
if(sgList.length>0){refTag="ref=nb_sb_noss_2";
while(i<sgList.length){if(normalize(sgList[i].keyword)==currentKeyword){refTag="ref=nb_sb_noss_1";
break;
}i++;
}}opt.form.attr("action",opt.form.attr("action").replace(refre,refTag));
});
function setDynamicSearch(sg,reftagPrefix){var prefixElems=$("#issprefix");
if(sg){var issMode,issModePrefix="ss_",kw=searchBox.userInput();
if(reftagPrefix){issModePrefix+=reftagPrefix;
}if(isFallbackSuggestion(sg)){issMode=issModePrefix+"fb";
}else{if(sg.alias){issMode=issModePrefix+"c";
}else{if(opt.sc&&isSpellCorrection(sg)){issMode=issModePrefix+"sc";
}else{issMode=issModePrefix+"i";
}}}setSearchFormReftag(opt.form,null,issMode,sg,kw.length);
kw=kw+","+searchAliasFrom+","+timeToFirstSuggestion;
if(prefixElems.length){prefixElems.attr("value",kw);
}else{input(opt.form,"issprefix","sprefix",kw);
}}else{prefixElems.remove();
}}function twoPaneSuggestOver(){var len=opt.sugPrefix.length,id=this.id,crtSelId="#"+opt.sugPrefix+crtSel,xcatSelId,nextSel=parseInt(id.substr(len,1),10);
this.style.cursor="pointer";
$(".xcat-panel").hide();
if(nextSel!==crtSel){$(crtSelId).removeClass("suggest_link_over");
}$("#"+opt.sugPrefix+"0").removeClass("xcat-arrow-hint");
crtSel=nextSel;
crtXcatSel=(id.length===len+1)?-1:parseInt(id.substr(len+2,1),10);
crtSelId="#"+opt.sugPrefix+crtSel;
$(crtSelId).addClass("suggest_link_over");
$("#xcatPanel-"+crtSel).show();
if(crtXcatSel>-1){$("#"+opt.sugPrefix+crtSel+"-"+crtXcatSel).addClass("suggest_link_over");
}}function twoPaneSuggestOut(){$(this).removeClass("suggest_link_over");
}function twoPaneXcatSuggestOut(){unhighlightSuggestion($(this));
}function resizeHandler(){var p=searchBox.pos(),d=searchBox.size();
this.css({width:d.width,top:p.top+d.height,left:p.left});
}function twoPaneBindFlyout(){searchSuggest.getNode().find(".main-suggestion").amznFlyoutIntent({onMouseOver:twoPaneSuggestOver,getTarget:function(){return $("#two-pane-table .xcat-suggestions:first");
}});
}function twoPaneDestroyFlyout(){var mainSgs=searchSuggest.getNode().find(".main-suggestion").get(0);
if(mainSgs){$(mainSgs).amznFlyoutIntent("destroy");
}}function twoPaneSetPosition(){var p=searchBox.pos(),d=searchBox.size(),minWidth=649;
this.css({width:Math.max(d.width+72,minWidth),top:p.top+d.height+1,left:p.left-40});
}function twoPaneSetXcatPosition(){var maxH=this.find(".main-suggestions:first").height(),th=this.find("#"+opt.sugPrefix+"0").outerHeight(),sgLen=twoPaneSuggestionsList.length,i,h,xb,xh,off;
for(i=1;
i<sgLen;
i++){h=this.find("#"+opt.sugPrefix+i).outerHeight();
xb=this.find("#xcatPanel-"+i);
off=th;
if(xb){xb=$(xb);
xh=xb.outerHeight();
if(off+xh>maxH){off=maxH-xh;
}xb.css({"margin-top":off});
}th+=h;
}}function suggestOver(event){this.style.cursor=newDesign==true?"pointer":"default";
unhighlightCurrentSuggestion();
crtSel=parseInt(this.id.substr(opt.sugPrefix.length),10);
highlightCurrentSuggestion(false);
}function suggestOut(el,event){unhighlightSuggestion($(this));
crtSel=-1;
}function highlightSuggestion(suggestion){suggestion.addClass("suggest_link_over");
}function unhighlightSuggestion(suggestion){suggestion.removeClass("suggest_link_over");
}function highlightCurrentSuggestion(updateSearchBox){if(suggType=="sugg"){updateSearchBox&&updateCrtSuggestion();
}highlightSuggestion($("#"+opt.sugPrefix+crtSel));
}function unhighlightCurrentSuggestion(){unhighlightSuggestion($("#"+opt.sugPrefix+crtSel));
}function updateCategoryDropDown(alias,categoryName){var dd=ddBox,toRemove,val;
if(!dd){return;
}val=alias?("search-alias="+alias):defaultDropDownVal;
toRemove=(val==insertedDropDownVal||defaultDropDownVal==insertedDropDownVal)?null:insertedDropDownVal;
if(alias){var sel=findOption(dd,val);
insertedDropDownVal=null;
if(!sel.length){dd.append(option(val,categoryName));
insertedDropDownVal=val;
}}try{delayedDOMUpdate=false;
$(dcs).length&&changeDropdownSelection(val,categoryName,true);
dd.val(val);
}catch(e){delayedDOMUpdate=true;
}toRemove&&findOption(dd,toRemove).remove();
}function getPrefixPos(str,substr){if(opt.multiword){return getPrefixPosMultiWord(str,substr);
}return normalize(str).indexOf(normalize(substr));
}function getPrefixPosMultiWord(str,substr){var p=normalize(str).search(new RegExp("(^|(?:\\s))"+normalize(substr),"i"));
return p<=0?p:p+1;
}function getFormattedSuggestionLine(curSuggestionLine,crtPrefix){var kw=curSuggestionLine.keyword,start=getPrefixPos(kw,crtPrefix),len;
if(start!==-1){len=crtPrefix.length;
kw=[kw.substr(0,start),"<b>",kw.substr(start,len),"</b>",kw.substr(start+len)].join("");
}return kw;
}function getFormattedCategoryLine(categoryLine,crtPrefix){var formattedCategoryLine,formattedCategoryName,deptText;
if(!opt.deptText){return categoryLine.categoryName;
}else{if(opt.xcatSuggestionImprovementFlag==X_CAT_SUGGESTION_IMPROVEMENT_WITHOUT_KEYWORD){formattedCategoryLine='<span class="suggest_category_without_keyword">';
formattedCategoryName='<span class="sx_category_name_highlight">'+categoryLine.categoryName+"</span>";
}else{if(opt.xcatSuggestionImprovementFlag==X_CAT_SUGGESTION_IMPROVEMENT_WITH_KEYWORD){formattedCategoryLine=getFormattedSuggestionLine(categoryLine,crtPrefix)+" <span>";
formattedCategoryName='<span class="sx_category_name_highlight">'+categoryLine.categoryName+"</span>";
}else{formattedCategoryLine=getFormattedSuggestionLine(categoryLine,crtPrefix)+' <span class="suggest_category">';
formattedCategoryName=categoryLine.categoryName;
}}deptText=shoudChangeSuggestionString(categoryLine)?opt.apsDeptText:opt.deptText;
return formattedCategoryLine+deptText.replace(deptre,formattedCategoryName)+"</span>";
}}function shoudChangeSuggestionString(line){return line.alias=="aps"&&opt.mktid==MARKETPLACE_CN&&opt.xcatSuggestionImprovementFlag!=X_CAT_SUGGESTION_NO_IMPROVEMENT;
}function hideSuggestionsDiv(){if(suggType=="sugg"&&suggestRequest){suggestRequest.cleanup();
suggestRequest=null;
}curSize=0;
$($.find(".main-suggestion:first")).amznFlyoutIntent("destroy");
searchSuggest.hide();
crtSel=-1;
crtXcatSel=-1;
}function updateWholeForm(v){var fp=getFormParams(v);
cleanForm();
populateForm(fp);
}function updateForm(index){var v=values[index];
if(opt.valInput&&opt.valInput.length){opt.valInput.attr("value",v);
}else{updateWholeForm(v||location.href);
}}function getFormParams(url){var splitUrl=url.split("?"),query=splitUrl.length>1?splitUrl[1]:undefined,params=query?query.split("&"):[],i=params.length,pair;
while(i-->0){pair=params[i].split("=");
params[i]={name:pair[0],value:pair[1].replace(slashre," ")};
}return{uri:splitUrl[0],formParams:params};
}function cleanForm(){opt.form.find(".frmDynamic").remove();
}function populateForm(formData){opt.form.attr("action",formData.uri);
for(var i=0;
i<formData.formParams.length;
i++){var param=formData.formParams[i];
input(opt.form,"frmDynamic",param.name,unescape(decodeURIComponent(param.value)),1);
}}function keyword(k){return searchBox.keyword(k);
}function searchAlias(alias){if(alias){changeDropdownSelection(alias);
}else{return extractSearchAlias(ddBox.attr("value"));
}}function extractSearchAlias(alias){var aliasName=alias.match(aliasre);
return aliasName?aliasName[1]:null;
}function searchNode(){var nodeName=ddBox.attr("value").match(nodere);
return nodeName?nodeName[1]:null;
}function merchant(){var merchant=ddBox.attr("value").match(merchantre);
return merchant?merchant[1]:null;
}function suggestions(){return suggestionList;
}function supportedSearchAlias(alias){var a=opt.aliases;
return a&&((a==="*")||(arrayIndexOf(a,alias)>=0));
}function isSpellCorrection(sg){return sg&&sg.sc?true:false;
}function isFallbackSuggestion(sg){return(sg&&sg.source&&sg.source[0]=="fb");
}function combineSuggestions(crtSuggestions,extraData){var xcatSuggestions,n=crtSuggestions.length,combinedList=[],i=0,sg,deepNodeAlias=(!searchAlias()&&opt.deepNodeISS&&!opt.deepNodeISS.stayInDeepNode&&opt.deepNodeISS.searchAliasAccessor()),deepNodeCatName=deepNodeAlias&&(getDDCatName(deepNodeAlias)||(opt.deepNodeISS&&!opt.deepNodeISS.stayInDeepNode&&opt.deepNodeISS.searchAliasDisplayNameAccessor()));
lastXCatSuggestionPosition=0;
redirectFirstSuggestion=false;
hasFallbackSuggestion=false;
while(combinedList.length<opt.maxSuggestions&&i<n){sg={keyword:crtSuggestions[i],sc:isSpellCorrection(extraData[i]),sgIndex:i};
if(deepNodeAlias&&deepNodeCatName){sg.alias=deepNodeAlias;
sg.categoryName=deepNodeCatName;
}combinedList.push(sg);
xcatSuggestions=(extraData&&extraData.length?extraData[i].nodes:[])||[];
if(xcatSuggestions.length){buildCategorySuggestion(combinedList,xcatSuggestions,extraData,crtSuggestions,i);
}if(i==0&&lastXCatSuggestionPosition>0&&opt.xcatSuggestionImprovementFlag==X_CAT_SUGGESTION_IMPROVEMENT_WITHOUT_KEYWORD&&!redirectFirstSuggestion){combinedList.push(combinedList[0]);
opt.maxSuggestions+=1;
}++i;
}curSize=combinedList.length;
return combinedList;
}function buildCategorySuggestion(combinedList,xcatSuggestions,extraData,crtSuggestions,crtIndex){var size=crtSuggestions.length,cs,s,si=0,j=0,catIndex=0,crtSuggestion=crtSuggestions[crtIndex];
xcatSuggestions=(extraData&&extraData.length?extraData[crtIndex].nodes:[])||[];
s=extraData[crtIndex].source;
if(s&&s.length){for(si=0;
si<s.length;
si++){if(s[si]==="fb"){if(size==1&&opt.xcatSuggestionImprovementFlag==X_CAT_SUGGESTION_IMPROVEMENT_WITHOUT_KEYWORD){redirectFirstSuggestion=true;
}else{combinedList.pop();
}hasFallbackSuggestion=true;
break;
}}}if(opt.xcatSuggestionImprovementFlag==X_CAT_SUGGESTION_IMPROVEMENT_WITH_KEYWORD&&!hasFallbackSuggestion){buildCustomCategorySuggestion(combinedList,extraData,crtSuggestion,crtIndex);
catIndex=combinedList.length;
}m=xcatSuggestions.length;
while(j<m&&j<maxCategorySuggestions&&combinedList.length<opt.maxSuggestions){cs=xcatSuggestions[j];
addCategorySuggestion(combinedList,extraData,crtSuggestion,cs.alias,cs.name,crtIndex,catIndex);
++j;
++catIndex;
}lastXCatSuggestionPosition=combinedList.length-1;
}function buildCustomCategorySuggestion(combinedList,extraData,crtSuggestion,crtIndex){var currAlias=searchAlias(),currCatName=getDDCatName(currAlias),apsAlias="aps";
if(combinedList[0].alias||combinedList[0].categoryName){combinedList[0].sn=true;
}else{addAliasAndCategoryInforForMainSuggestion(combinedList[0],currAlias,currCatName);
}if(currAlias!=apsAlias){addCategorySuggestion(combinedList,extraData,crtSuggestion,apsAlias,getDDCatName(apsAlias),crtIndex,1);
opt.maxSuggestions+=1;
}}function addAliasAndCategoryInforForMainSuggestion(mainSuggestion,currAlias,currCatName){mainSuggestion.alias=currAlias;
mainSuggestion.categoryName=currCatName;
}function removeAliasAndCategoryInforForMainSuggestion(mainSuggestion){if(!mainSuggestion.sn){mainSuggestion.alias=undefined;
mainSuggestion.categoryName=undefined;
}}function addCategorySuggestion(combinedList,extraData,crtSuggestion,catAlias,catName,crtIndex,catIndex){var sg={keyword:crtSuggestion,sc:isSpellCorrection(extraData[crtIndex]),source:extraData[crtIndex].source,alias:catAlias,categoryName:catName,sgIndex:crtIndex,xcatIndex:catIndex};
combinedList.push(sg);
}function enableSeparateCategorySuggestion(){return opt.xcatSuggestionImprovementFlag!=X_CAT_SUGGESTION_NO_IMPROVEMENT&&lastXCatSuggestionPosition>0;
}function getDDCatName(alias){if(!alias){return $(ddBox.children()[0]).text();
}var catName=findOption(ddBox,"search-alias="+alias);
if(catName&&catName.length){return catName.text();
}else{return undefined;
}}function build2PaneSuggestions(crtSuggestions,extraData){var xcatSuggestions,xcat=[],m,n=crtSuggestions.length,combinedList=[],i=0,j=0,sg,cs,s,si=0,currAlias=searchAlias(),currCatName=getDDCatName(currAlias),deepNodeAlias=(!currAlias&&opt.deepNodeISS&&!opt.deepNodeISS.stayInDeepNode&&opt.deepNodeISS.searchAliasAccessor()),deepNodeCatName=getDDCatName(deepNodeAlias);
while(combinedList.length<opt.maxSuggestions&&i<n){xcatSuggestions=(extraData&&extraData.length?extraData[i].nodes:[])||[];
xcat=[];
sg={keyword:crtSuggestions[i],sc:isSpellCorrection(extraData[i]),source:extraData[i].source||"c",conf:extraData[i].conf,sgIndex:i,xcatIndex:0};
if(deepNodeAlias){sg.alias=deepNodeAlias;
sg.categoryName=deepNodeCatName;
}else{if(currAlias){sg.alias=currAlias;
sg.categoryName=currCatName;
}else{sg.categoryName=deepNodeCatName;
}}xcat.push(sg);
m=xcatSuggestions.length;
if(m){j=0;
while(j<m&&j<opt.maxSuggestions){cs=xcatSuggestions[j];
sg={keyword:crtSuggestions[i],sc:isSpellCorrection(extraData[i]),source:extraData[i].source||"c",alias:cs.alias,categoryName:cs.name,conf:extraData[i].conf,sgIndex:i,xcatIndex:j+1};
xcat.push(sg);
++j;
}}sg={keyword:crtSuggestions[i],sc:isSpellCorrection(extraData[i]),conf:extraData[i].conf,sgIndex:i,xcat:xcat};
if(deepNodeAlias){sg.alias=deepNodeAlias;
}combinedList.push(sg);
++i;
}curSize=combinedList.length;
return combinedList;
}function searchJSONSuggest(newKw,newImeEnhUsed){lastKeyPressTime=now();
suggestRequest&&suggestRequest.cleanup();
if(!activityAllowed){return;
}if(!searchBox.hasFocus()){return;
}var alias=searchAlias()||(opt.deepNodeISS?opt.deepNodeISS.searchAliasAccessor():null),kw=newKw||keyword(),suggestUrl=[],a=function(){$.each(arguments,function(i,t){suggestUrl.push(t);
});
},m=reqCounter===0?metrics.completionsRequest0:(reqCounter===metrics.sample?metrics.completionsRequestSample:null),cursorPos,qs;
if(!supportedSearchAlias(alias)){hideSuggestionsDiv();
return;
}if(opt.qs){cursorPos=searchBox.cursorPos();
if(cursorPos>-1&&cursorPos<kw.length){qs=kw.substring(cursorPos);
kw=kw.substring(0,cursorPos);
}}a(opt.protocol,"//",opt.src,"?","method=completion","&q=",encodeURIComponent(kw),"&search-alias=",alias,"&client=",opt.cid,"&mkt=",opt.mkt,"&fb=",opt.fb,"&xcat=",opt.xcat,"&x=updateISSCompletion");
if(qs){a("&qs="+encodeURIComponent(qs));
}if(opt.np){a("&np="+opt.np);
}if(opt.sc){a("&sc=1");
}if(opt.dupElim>0){a("&dr=",opt.dupElim);
}if(opt.custIss4Prime){a("&pf=1");
}if(suggestRequest){suggestRequest.cleanup();
}suggestRequest=new A9JSONClient(kw,reqCounter++,newImeEnhUsed);
suggestRequest.callSuggestionsService(suggestUrl.join(""));
}function updateCompletion(){if(!suggestRequest){return;
}if(!activityAllowed||!completion.length){return;
}completion[0]=completion[0]||"";
suggestRequest.keywords=suggestRequest.keywords||"";
if(completion[0].toLowerCase()!==suggestRequest.keywords.toLowerCase()){return;
}imeEnhUsed=suggestRequest.imeEnhUsed;
var c=suggestRequest.counter,m=c===0?metrics.completionsRequest0:(c===metrics.sample?metrics.completionsRequestSample:null);
suggestRequest.cleanup();
suggestRequest=null;
if(!searchBox.hasFocus()){return;
}if(opt.twoPane===1){twoPaneSuggestionsList=build2PaneSuggestions(completion[1],(completion.length>2)?completion[2]:[]);
displayTwoPaneSuggestions(completion[0]);
sugHandler&&sugHandler(completion[0],twoPaneSuggestionsList);
}else{suggestionList=combineSuggestions(completion[1],(completion.length>2)?completion[2]:[]);
displaySuggestions(completion[0]);
sugHandler&&sugHandler(completion[0],postProcessSuggestions(suggestionList));
}}function postProcessSuggestions(suggestionList){var newSuggestionList=suggestionList.slice();
if(hasFallbackSuggestion&&opt.xcatSuggestionImprovementFlag==X_CAT_SUGGESTION_IMPROVEMENT_WITHOUT_KEYWORD){newSuggestionList.splice(0,1);
}return newSuggestionList;
}function stop(){activityAllowed=false;
requestedKeyword="";
if(suggestRequest){suggestRequest.cleanup();
suggestRequest=null;
}}function start(){activityAllowed=true;
}function encoding(){var encInput=opt.form.find("input[name^='__mk_']");
if(encInput.length){return[encInput.attr("name"),encInput.val()];
}}function blur(){searchBox.blur();
}function focus(){searchBox.focus();
}function offset(){return searchBox.pos();
}function keydown(h){searchBox.keydown(h);
}function isImeEnhUsed(){return imeEnhUsed;
}function triggerImeEnh(){return searchBox.isImeUsed()&&opt.ime&&$.browser.msie;
}function haveCategorySuggestions(){return lastXCatSuggestionPosition>0||hasFallbackSuggestion;
}return{suggest:bindSuggest,keypress:bindKeypress,submit:bindSubmit,blur:blur,keyword:keyword,merchant:merchant,searchAlias:searchAlias,searchNode:searchNode,stop:stop,start:start,encoding:encoding,focus:focus,offset:offset,keydown:keydown,isImeEnhUsed:isImeEnhUsed,triggerImeEnh:triggerImeEnh,haveCategorySuggestions:haveCategorySuggestions,isTwoPane:function(){return opt.twoPane===1;
},onFocus:searchBox?searchBox.onFocus:function(){},onBlur:searchBox?searchBox.onBlur:function(){},cursorPos:searchBox?searchBox.cursorPos:function(){return -1;
},initStaticSuggestions:initStatic,initDynamicSuggestions:initDynamic,updateAutoCompletion:updateCompletion,init:init};
};
function now(){return(new Date).getTime();
}function nop(){}function suppress(){return false;
}function bzero(len,val){var a=[];
while(len--){a.push(val);
}return a;
}function arrayIndexOf(a,v){for(var i=0,len=a.length;
i<len;
i++){if(a[i]==v){return i;
}}return -1;
}function input(f,i,n,v,c){f.append($('<input type="hidden"/>').attr(c?"class":"id",i).attr("name",n).attr("value",v));
}function option(v,t){return $("<option/>").attr("value",v).text(t);
}function keyClose(w){return w==13||w==32;
}function findOption(d,v){return d.find('option[value="'+v+'"]');
}function tabIndex(e,i){return e.attr("tabIndex",i).attr("tabindex",i);
}function getShortenedIDForOption(o){var eq;
if(!o||!o.length||(eq=o.indexOf("="))==-1){return"";
}var alias=o.substr(eq+1),dash=alias.indexOf("-")+1,shortID=alias.substr(0,3);
return dash?shortID:(shortID+alias.charAt(dash));
}function changeDropdownSelection(optionValue,selectedDisplayName,highlightOnly,option){var dd=ddBox;
if(optionValue=="search-alias=aps"&&!selectedDisplayName){selectedDisplayName=findOption(dd,optionValue).text();
}$("#"+sdpc).css("visibility","hidden");
$(dcs).text(selectedDisplayName);
dd.val(optionValue);
if(!highlightOnly){opt.sb.focus();
setSearchFormReftag(opt.form,optionValue);
}}function setSearchFormReftag(formElement,optionValue,issMode,sg,numUserChars){var formAction=formElement.attr("action"),isstag=(issMode!=null&&sg),tag=isstag?issMode+"_"+sg.sgIndex+"_"+numUserChars:"dd_"+getShortenedIDForOption(optionValue);
if(isstag||optionValue!=null){if(!refre.test(formAction)){if(formAction.charAt(formAction.length-1)!="/"){formAction+="/";
}formAction+=tag;
}else{if(isstag&&ddaliasre.test(formAction)){formAction=formAction.replace(ddaliasre,"$1_"+tag);
}else{formAction=formAction.replace(refre,"ref=nb_sb_"+tag);
}}formElement.attr("action",formAction);
}}function A9JSONClient(kw,counter,imeEnhUsed){var fullUrl,noCacheIE,headLoc,scriptId,scriptObj,scriptCounter=counter||0;
function callService(url){fullUrl=url;
noCacheIE="&noCacheIE="+now();
headLoc=document.getElementsByTagName("head").item(0);
scriptId="JscriptId"+scriptCounter;
buildScriptTag();
addScriptTag();
}function buildScriptTag(){scriptObj=document.createElement("script");
scriptObj.setAttribute("type","text/javascript");
scriptObj.setAttribute("charset","utf-8");
scriptObj.setAttribute("src",fullUrl+noCacheIE);
scriptObj.setAttribute("id",scriptId);
}function removeScriptTag(){try{headLoc.removeChild(scriptObj);
}catch(e){}}function addScriptTag(){headLoc.appendChild(scriptObj);
}return{callSuggestionsService:callService,cleanup:removeScriptTag,keywords:kw,counter:scriptCounter,imeEnhUsed:imeEnhUsed};
}window.AutoComplete=AC;
if(metrics.isEnabled){uet("cf",metrics.init,{wb:1});
}})(window);
$SearchJS.publish("search-js-autocomplete-lib");
});
}
/* end search-js-autocomplete/autocomplete.js */
