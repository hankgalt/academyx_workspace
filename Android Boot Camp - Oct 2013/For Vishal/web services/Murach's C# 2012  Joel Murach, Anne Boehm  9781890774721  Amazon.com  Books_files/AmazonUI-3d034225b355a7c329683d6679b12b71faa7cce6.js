P.execute(function(){amznJQ.available("jQuery",function(){P.register("jQuery",function(){return window.jQuery})})});
P.execute(function(){P.when("jQuery").register("a-base",function(c){return{version:function(){return"3.0"},$:c}});P.when("a-base").register("a-util",function(c){var h=c.$,g=function(){function e(a,f,d){if(a!==null)if(Array.prototype.forEach&&a.forEach===Array.prototype.forEach)a.forEach(f,d);else if(a.length===+a.length)for(var j=0,e=a.length;j<e;j++){if(j in a&&f.call(d,a[j],j,a)===b)break}else for(j in a)if(a.hasOwnProperty(j)&&f.call(d,a[j],j,a)==={})break}var b={};return{each:e,map:function(a,
f,b){var j=[];if(a===null)return j;if(Array.prototype.map&&a.map===Array.prototype.map)return a.map(f,b);e(a,function(a,e,c){j[j.length]=f.call(b,a,e,c)});if(a.length===+a.length)j.length=a.length;return j},reduce:function(a,f,b,j){var c=arguments.length>2;a===null&&(a=[]);if(Array.prototype.reduce&&a.reduce===Array.prototype.reduce)return c?a.reduce(f,b):a.reduce(f);e(a,function(a,e,m){c?b=f.call(j,b,a,e,m):(b=a,c=!0)});c||P.error("Reduce of empty array with no initial value","A.util","reduce");
return b},breaker:b}}(),c=function(){return{delay:function(e,b){var a=Array.prototype.slice.call(arguments,2);return setTimeout(function(){return e.apply(null,a)},b)},interval:function(e,b){return setInterval(e,b)}}}(),l=function(){var e,b;e=/^\s+/;b=/\s+$/;return{trim:function(a){return String.prototype.trim?String.prototype.trim.call(a):a.replace(e,"").replace(b,"")},contains:function(a,f){return(""+a).indexOf(f)!==-1}}}(),k=function(){function e(){for(var a=arguments[0],b=1,j=arguments.length;b<
j;b++)g.each(arguments[b],function(b,j){var d;h.isArray(b)?(d=!h.isArray(a[j])&&!h.isPlainObject(a[j])?[]:a[j],a[j]=e(d,b)):h.isPlainObject(b)?(d=!h.isPlainObject(a[j])?{}:a[j],a[j]=e(d,b)):a[j]=b});return a}function b(a,d){var a=a||{},d=d||{},j={},e;for(e in a)a.hasOwnProperty(e)&&(j[e]=typeof a[e]==="object"&&a[e]?b(a[e],d[e]):a[e]!==d[e]);for(e in d)d.hasOwnProperty(e)&&!j[e]&&(j[e]=typeof d[e]==="object"&&d[e]?b(d[e],a[e]):d[e]!==a[e]);return j}function a(b,d){var j;if(b===d)return!0;if(h.isArray(b)){if(!h.isArray(d)||
b.length!==d.length)return!1;for(j=b.length;j--;)if(!a(b[j],d[j]))return!1;return!0}if(h.isPlainObject(b)){if(!h.isPlainObject(d))return!1;for(j in b)if(!a(b[j],d[j]))return!1;return!0}return!1}return{extend:e,diff:b,equals:a,copy:function(a){return h.isArray(a)?a.slice(0):h.isPlainObject(a)?e({},a):a},indexOfArray:function(a,b,j){if(Array.prototype.indexOf&&a.indexOf===Array.prototype.indexOf)return a.indexOf(b,j);a&&a instanceof Array||P.error("Invalid arr passed to A.indexOfArray: "+a,"A.util",
"indexOfArray");j=parseInt(j,10);j=isNaN(j)?0:j;if(!isFinite(j))return-1;for(var e=a.length;j<e;j++)if(a[j]===b)return j;return-1},isFiniteNumber:function(a){return typeof a==="number"&&!isNaN(a)&&isFinite(a)},objectIsEmpty:function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}}}(),i=function(){return{onScreen:function(e){var b=h(e);if(!b.is(":visible"))return!1;var a=h(window),e=a.scrollTop(),a=window.innerHeight?window.innerHeight:a.height(),f=e+a;e-=100;f+=100;var d=b.offset().top,
b=b.height(),j=d+b;return d>=e&&d<f||j>e&&j<=f||b>a&&d<=e&&j>=f}}}();return{now:function(){return Date.now()},extend:k.extend,copy:k.copy,diff:k.diff,equals:k.equals,objectIsEmpty:k.objectIsEmpty,indexOfArray:k.indexOfArray,isFiniteNumber:k.isFiniteNumber,parseJSON:function(e){return h.parseJSON(e)},delay:c.delay,interval:c.interval,trim:l.trim,contains:l.contains,map:g.map,reduce:g.reduce,each:g.each,breaker:g.breaker,onScreen:i.onScreen}});P.when("a-util","a-events").register("a-prefix",function(c,
h){function g(b){return b.toLowerCase().replace(/-(.)/g,function(a,b){return b.toUpperCase()})}var l={transitionend:null},k=document.createElement("div").style,i={},e=["o","ms","moz","webkit"];h.on("beforeReady",function(){if(window.addEventListener){var b=document.createElement("div"),a=function(b){l.transitionend=b.type;this.removeEventListener("webkitTransitionEnd",a);this.removeEventListener("transitionend",a);this.removeEventListener("otransitionend",a);this.removeEventListener("oTransitionEnd",
a)};b.setAttribute("style","position:absolute;top:0px;z-index:-1;transition:top 1ms ease;-webkit-transition:top 1ms ease;-moz-transition:top 1ms ease;-o-transition:top 1ms ease;");b.addEventListener("transitionend",a,!1);b.addEventListener("webkitTransitionEnd",a,!1);b.addEventListener("otransitionend",a,!1);this.addEventListener("oTransitionEnd",a,!1);document.body.appendChild(b);c.delay(function(){b.style.top="100px";c.delay(function(){b.parentNode.removeChild(b);b=a=null;c.each(l,function(){})},
100)},0)}});return{prefixes:{getStyle:function(b){if(!i[b]){var a=g(b);if(a in k)i[b]=a;else for(var a=a.charAt(0).toUpperCase()+a.slice(1),f=e.length;f--;){var d=e[f]+a;d in k&&(i[b]=d)}}return i[b]},getEvent:function(b){return b?l[b.toLowerCase()]:void 0}}}});P.register("a-defer",function(){function c(b){var a=0,f=setTimeout(function(){c(b)},0);if(l||b.length===0)clearTimeout(f),g=!1;else{var d=Date.now();try{b.shift().call()}catch(j){P.error("Deferred execution failed: "+j.message,"A.defer","partialExecute")}e+=
Date.now()-d;e>k&&(a=i,e=0);setTimeout(function(){clearTimeout(f);c(b)},a)}}var h=[],g=!1,l=!1,k=50,i=50,e=0;return{defer:function(b){h.push(b);!g&&!l&&(g=!0,setTimeout(function(){c(h)},0))},pauseDeferred:function(){l=!0},executeDeferred:function(){l=!1;g=!0;setTimeout(function(){c(h)},0)}}});P.when("a-base","a-util").register("a-events",function(c,h){function g(a){i[a]=!0;b.subscribe(a,function(){P.register(a,function(){var a=window.aPageStart||h.now();return{time:h.now()-a}})});b.publish(a,!0);
b.unsubscribe(a)}function l(){if(!i.beforeLoad||!i.load)g("beforeLoad"),g("load"),setTimeout(function(){g("beforeAfterLoad");g("afterLoad")},1500)}var k=c.$,i={},e=k(window),b=function(){function a(b){for(var j=setTimeout(a,0),d=h.now(),g;(g=c.shift())!==void 0;)try{if(g.fn.apply(window,g.args)===!1){clearTimeout(j);for(var i=g.id,k=void 0,l=[],w=0,y=c.length;w<y;w++)k=c[w].id,i!==k&&l.push(c[w]);c=l}if(b===!0&&h.now()-d>=q){clearTimeout(j);h.delay(a,m);return}}catch(C){P.error("Event execution failed for event "+
g.topic+": "+C.message,"A.events","partialPublish")}clearTimeout(j);e=!1}var b={},j=0,e=!1,c=[],q=50,m=15;return{publish:function(m,g){var q=b[m];if(q){for(var i=Array.prototype.slice.call(arguments,1),h=j++,k=0,l=q.length;k<l;k++)c.push({topic:m,id:h,fn:q[k],args:i});e||(e=!0,a(g))}},subscribe:function(a,j){b[a]||(b[a]=[]);if(typeof j==="function")return b[a].unshift(j),{event:a,callback:j}},unsubscribe:function(a,j){if(b[a])if(j)for(var f=b[a],e=0,c=f.length;e<c;e++)f[e]===j&&f.splice(e,1);else b[a]=
[]}}}(),a=function(){var a=function(a,j){for(var f=a.split(" "),e,c=[];(e=f.pop())!==void 0;)i[e]?(b.subscribe(e,j),b.publish(e,!0),b.unsubscribe(e)):c.push(b.subscribe(e,j).event);return{event:c.join(" "),callback:j}};h.each("ready,load,unload,afterLoad,scroll,resize,orientationchange".split(","),function(b){a[b]=function(){a.apply(window,[b].concat([].slice.call(arguments,0)))}});return a}();k(document).ready(function(){g("beforeReady");g("ready");g("afterReady");document.readyState==="complete"&&
l()});e.load(l);e.unload(function(){g("unload")});return{on:a,off:function(a,d){if(typeof a==="object")a=a.event,d=a.callback;return b.unsubscribe(a,d)},trigger:function(){b.publish.apply(window,arguments)},events:{defaults:{input:"change",select:"change",a:"click",button:"click",form:"submit"}}}});P.when("a-base","a-util","a-events").register("a-declarative",function(c,h,g){function l(b){var a=i(b.currentTarget),f=i(b.target);if(b.type==="submit"){var d=f.closest("form");d.length&&(f=d)}if(d=a.data("action"))d=
d.split(" "),h.each(d,function(j){var d=e[j]||{},c=a.data(j),i=b.type,i={$target:f,$currentTarget:a,targetTag:f.prop("tagName").toLowerCase(),type:i,action:j,data:c,$event:b,$declarativeParent:a},j="a:declarative:"+j;g.trigger(j,i);g.trigger(j+":"+b.type,i);j=!1;c?j=!!c.allowLinkDefault:d&&(j=!!d.allowLinkDefault);b.type==="click"&&!j?(d=f.closest("a"),d=d.length&&(d[0].href==="#"||b.currentTarget===d[0]||d.parent(".a-declarative").length)):d=!1;d&&b.preventDefault()})}function k(){var b,a,f,d;switch(arguments.length){case 2:b=
arguments[0];d=arguments[1];break;case 3:b=arguments[0];a=arguments[1];d=arguments[2];break;case 4:b=arguments[0],a=arguments[1],f=arguments[2],d=arguments[3]}b&&(typeof b==="string"&&(b=h.trim(b).split(" ")),h.each(b,function(b){var c="a:declarative:"+b;e[b]=f||{};if(a)a=typeof a==="string"?h.trim(a).split(" "):a,h.each(a,function(a){g.on(c+":"+a,d)});else g.on(c,d)}))}var i=c.$,e={};i(document).delegate(".a-declarative","click dblclick mousedown mouseup mouseenter mouseleave mousemove change submit touchstart touchend touchmove touchcancel keydown keyup keypress",
l).delegate(".a-gesture","tap swipe swipe-horizontal swipe-vertical pan-horizontal pan-vertical doubleTap",l);k.create=function(b,a,f){var d=b.jquery&&b.length?b:i(b);if(d.length&&a){var j=d.data("action");d.data("action",j?j+" "+a:a).data(a,f?f:{});d.addClass("a-declarative")}return b};k.remove=function(b,a){var f=b.jquery&&b.length?b:i(b),d=f.data("action"),a=a||d;if(f.length&&d){for(var d=d.split(" "),j=d.length;j--;)(d[j]===a||d[j]==="")&&d.splice(j,1);d.length?f.data("action",d.join("")):f.data("action",
null).removeClass("a-declarative");f.data(a,null)}return b};return{declarative:k}});P.when("a-base","a-util","a-events","a-declarative").register("a-state",function(c,h,g,l){function k(f,d){if(d===null||e.isArray(d)||e.isPlainObject(d)){var j=h.copy(a[f]);j===b||d===null?a[f]=d:h.extend(a[f],d);var j=h.diff(j,a[f]),c=h.copy(a[f]);g.trigger("a:state:update:"+f,c,j,d);return c}else P.error("Invalid value passed to A.state with a namespace of "+f+".  Value: "+d,"A.state","extendNamespace")}function i(a,
b,j){if(b.length===1)return a[b.shift()]=j,a;a[b.shift()]=i({},b,j);return a}var e=c.$,b,a={};g.on("beforeReady",function(){for(var a=document.getElementsByTagName("script"),b=0,j=a.length;b<j;b++)if(!e.data(a[b],"a-eval")){var c=e(a[b]),g=c.attr("data-a-state");g&&(g=h.parseJSON(g),g.key&&(c=h.parseJSON(c.html()),e.data(a[b],"a-eval",!0),k(g.key,c)))}});l.declarative("a-state",function(a){var d=a.$target,j=a.data.key,e=a.data[a.type];!e&&g.events.defaults[a.targetTag]===a.type&&(e=d.attr("name"));
e&&j&&(d.is("select")&&(d=d.find(":selected")),typeof d.val()!==b&&typeof e==="string"&&(a=d.val(),d.is("input[type=checkbox]")&&!d.prop("checked")&&(a=null),e=i({},e.split("."),a)),k(j,e))});c=function(f,d){return d===b?h.copy(a[f]):k(f,d)};c.bind=function(a,b){g.on("a:state:update:"+a,b)};return{state:c}});P.when("a-base","a-util","a-events","a-declarative","a-state").register("a-ajax",function(c,h,g,l,k){function i(a){return!a||typeof a==="string"?"":f.param(a)}function e(a,b){if(b){var j=a.indexOf("?"),
d=a.charAt(a.length-1);j>-1?d!=="?"&&d!=="&"&&(a+="&"):a+="?";a+=b}return a}function b(a,b){a&&a.length!==0&&(a[0]instanceof Array||(a=[a]),h.each(a,function(d){var f=j[d[0]];f?f.apply(window,d):((f=b)||P.error("There is no handler for the streaming ajax command: "+a[0],"A.ajax","chunkHandler"),f(d))}))}function a(a,b){b=b||{};return n["a-ajax-update"]({url:a,cache:b.cache,params:i(b.params),method:b.method,chunk:b.chunk,success:b.success,failure:b.failure||b.error,abort:b.abort,indicator:b.indicator,
timeout:b.timeout})}var f=c.$,d=function(){var a;if(!window.XMLHttpRequest)window.XMLHttpRequest=function(){return new ActiveXObject("Microsoft.XMLHTTP")};var b=function(){function a(){b.length>0?b.pop().send():j--}var b=[],j=0;return{add:function(a){j<4?(a.send(),j++):b.push(a)},complete:a,abort:function(j){h.each(b,function(a,d){if(a===j)return b.splice(d,1),h.breaker});a()}}}();a=function(){};var j=function(a){var j=a.http,d=a.responsePosition,f=j.readyState===3,e=j.readyState===4&&(j.status===
200||j.status===304);if(f||e)if(e=j.responseText,d<e.length){var d=e.substring(d,e.length),e=d.split("&&&"),c=d.lastIndexOf("&&&");if(c===-1&&f)return;c<d.length-3&&f&&e.pop();h.each(e,function(b){var j;try{j=h.parseJSON(b)}catch(d){h.delay(function(){P.error("Invalid streaming ajax JSON response: "+b,"A.ajax","streamingResponseHandler")},0)}a.callbacks.chunk(j)});a.responsePosition+=c}j.readyState===4&&(clearInterval(a.pollTimer),clearTimeout(a.timeoutTimer),b.complete(),j.status!==200&&j.status!==
304?a.callbacks.failure(a,j.statusText,j.statusText):a.callbacks.success(null,j.statusText,a),g.trigger("a:pageUpdate"),g.trigger("a:ajax:complete"))},d=function(a){var j=a.http;if(j.readyState===4){clearInterval(a.pollTimer);clearTimeout(a.timeoutTimer);b.complete();var d=j.responseText,f=h.trim(j.responseText),e=f.charAt(0),f=f.charAt(f.length-1);(e==="["&&f==="]"||e==="{"&&f==="}")&&(d=h.parseJSON(d));j.status!==200&&j.status!==304?a.callbacks.failure(a,j.statusText,j.statusText):a.callbacks.success(d,
j.statusText,a);g.trigger("a:ajax:complete")}};return function(){var f=function(){var b=new XMLHttpRequest;this.pollTimer=null;this.http=b;this.responsePosition=0;this.buffer="";this.callbacks={success:a,failure:a,chunk:a,abort:a}};f.prototype={send:function(){var a=this;this.http.send(this.params);this.pollTimer=setInterval(function(){if(a.http.readyState>=2&&typeof a.http.responseText!=="unknown"){var b=a.http.getResponseHeader("Content-Type"),b=b?b.toLowerCase():"";(b.indexOf("application/json-amazonui-streaming")!==
-1||b.indexOf("application/amazonui-streaming-json")!==-1?j:d)(a)}},25);this.timeout=typeof this.timeout==="undefined"?2E4:this.timeout;this.timeoutTimer=setTimeout(function(){a.http.readyState<4&&(clearInterval(a.pollTimer),a.callbacks.failure(a,a.http.statusText,a.http.statusText),b.complete())},this.timeout)},get:function(a,j,d,f,c,m,g){var i=this.http,h=this;i.open("get",e(a,j));i.setRequestHeader("X-Requested-With","XMLHttpRequest");this.timeout=d;this.callbacks.chunk=f||this.callbacks.chunk;
this.callbacks.success=c||this.callbacks.success;this.callbacks.failure=m||this.callbacks.failure;this.callbacks.abort=g||this.callbacks.abort;b.add(this);return{abort:function(){h.abort()}}},abort:function(){this.http&&this.http.abort();clearInterval(this.pollTimer);clearTimeout(this.timeoutTimer);b.abort(this);this.callbacks.abort(this)},post:function(a,j,d,f,e,c,m){var g=this.http,i=this;g.open("post",a);g.setRequestHeader("Content-type","application/x-www-form-urlencoded");g.setRequestHeader("X-Requested-With",
"XMLHttpRequest");this.params=j;this.timeout=d;this.callbacks.chunk=f||this.callbacks.chunk;this.callbacks.success=e||this.callbacks.success;this.callbacks.failure=c||this.callbacks.failure;this.callbacks.abort=m||this.callbacks.abort;b.add(this);return{abort:function(){i.abort()}}}};return f}()}(),j={update:function(a,b,j){f(b).html(j)},append:function(a,b,j){a=f(b);a.html(a.html()+j)},prepend:function(a,b,j){a=f(b);a.html(j+a.html())},state:function(a,b,j){k.state(b,j)},script:function(a,b){eval(b)}},
n={"a-ajax-update":function(a){var j=new d,e=a.abort,c=f(a.indicator);c.show();var g=typeof a.method==="string"&&a.method.toLowerCase()==="post"?"post":"get";g==="get"&&a.cache===!1&&(a.params+=[a.params===""?"":"&","_=",(new Date).getTime()].join(""));return j[g](a.url,a.params,a.timeout,function(j){b(j,a.chunk)},function(){c.hide();a.success&&a.success.apply(window,arguments)},function(){c.hide();a.failure&&a.failure.apply(window,arguments)},e)}};l.declarative("a-ajax-update",function(a){var b=
a.$target,j=a.action,d=a.data;if(d||g.events.defaults[a.targetTag]===a.type)if(typeof d!=="object"||d[a.type]){var d=d||{},f=d.url||b.attr("href")||b.attr("action"),e=i(d.params),c=b.attr("method")||d.method,h=d.indicator,d=d.timeout;f||P.error("No ajax url provided.","A.ajax","declarativeHandler");a.targetTag==="form"&&a.type===g.events.defaults.form&&(b=b.serialize(),e+=b);a.$event.preventDefault();return n[j]({url:f,params:e,method:c,indicator:h,operation:j,timeout:d})}});return{ajax:a,get:function(b,
j){j=j||{};j.method="get";return a(b,j)},post:function(b,j){j=j||{};j.method="post";return a(b,j)}}});P.when("a-base","a-util","p-detect","a-prefix").register("a-animate",function(c,h,g,l){function k(a,b,d){a=a.jquery?a[0]:a;b=l.prefixes.getStyle(b);a.style[b]=d}function i(b){var d="",f=g.capabilities.transform3d;b.top!==a&&b.left!==a?(d="translate",f&&(d+="3d"),d+="("+b.left+", "+b.top,f&&(d+=", 0"),d+=")"):(b.top!==a?d="translateY("+b.top+")":b.left!==a&&(d="translateX("+b.left+")"),f&&(d+=" translateZ(0)"));
b.scale!==a&&(d+=" scale("+b.scale+")");return d}function e(a){var b={},d=!1;h.each(f,function(f){f in a&&(d=!0,b[f]=a[f],delete a[f])});return d?b:null}function b(a,b,d){g.capabilities.transform?(typeof d==="string"&&(d=parseInt(d,10)),h.isFiniteNumber(d)||(d=0),a=parseInt(a.css(b),10),h.isFiniteNumber(a)||(a=0),d-=a,d+="px"):h.isFiniteNumber(d)&&(d+="px");return d}var a,f=["top","left","scale"],c={animate:function(a,b,d,f,e){if(!a._a)a._a=0;a._a++;var c=function(){a._a--;e&&e()};a.queue("fx",[function(){a.animate(b,
{duration:d,easing:f==="linear"?f:"swing",complete:c,queue:!1})}])},fadeIn:function(a,b,d,f){a.fadeIn({duration:b,easing:d==="linear"?d:"swing",complete:f,queue:!1})},fadeOut:function(a,b,d,f){var e=a.css("opacity");a.fadeOut({duration:b,easing:d==="linear"?d:"swing",complete:function(){+e!==1&&a.css("opacity",e);f&&f()},queue:!1})},fadeToggle:function(a,b,d,f){a.fadeToggle({duration:b,easing:d==="linear"?d:"swing",complete:f,queue:!1})},slideUp:function(a,b,d,f){a.slideUp({duration:b,easing:d===
"linear"?d:"swing",complete:f,queue:!1})},slideDown:function(a,b,d,f){a.slideDown({duration:b,easing:d==="linear"?d:"swing",complete:f,queue:!1})},slideToggle:function(a,b,d,f){a.slideToggle({duration:b,easing:d==="linear"?d:"swing",complete:f,queue:!1})},isAnimated:function(a){a=a.jquery?a[0]:a;return a._a&&a._a>0}},d={animate:function(d,f,c,l,m){var t=d[0],f=h.copy(f),c=c===a?250:c,l=l||"linear";if(f.top!==a)f.top=b(d,"top",f.top);if(f.left!==a)f.left=b(d,"left",f.left);k(d,"transition",c<4?"all 0ms":
"all "+c+"ms "+l);if(c>4){if(t._a===a)t._a=0;t._a++;var o=function(){t._a--;t._a||k(d,"transition","");m&&m()};h.delay(function(){h.delay(o,c)},0)}g.capabilities.transform&&(l=e(f))&&k(d,"transform",i({top:l.top,left:l.left,scale:l.scale}));h.objectIsEmpty(f)||d.css(f);c<=4&&m&&h.delay(m,0)},fadeIn:function(a,b,d,f){if(a.css("display")==="none"||a.css("opacity")==="0"){var e=a.css("opacity")||1;if(!e||+e===0)e=1;a.css("opacity","0").show();var c=this.animate;h.delay(function(){c(a,{opacity:e},b,d,
function(){f&&f()})},0)}else f&&f()},fadeOut:function(a,b,d,f){var e=a.css("opacity");a.css("display")!=="none"&&+e!==0?this.animate(a,{opacity:0},b,d,function(){a.hide().css("opacity",e);f&&f()}):f&&f()},fadeToggle:function(a,b,d,f){(a.css("display")==="none"||a.css("opacity")==="0"?this.fadeIn:this.fadeOut).call(this,a,b,d,f)},slideUp:function(a,b,d,f){var e=this.animate;a.css({height:a.innerHeight(),overflow:"hidden"});h.delay(function(){e(a,{height:0},b,d,function(){a.hide();a.css({height:"",
overflow:""});f&&f()})},0)},slideDown:function(a,b,d,f){var e=a.innerHeight(),c=this.animate;a.css({height:0,overflow:"hidden"});a.show();h.delay(function(){c(a,{height:e},b,d,function(){f&&f();a.css({height:"",overflow:""})})},0)},slideToggle:function(a,b,d,f){(a.is(":visible")?this.slideUp:this.slideDown).call(this,a,b,d,f)},isAnimated:function(a){a=a.jquery?a[0]:a;return a._a&&a._a>0}};return g.capabilities.transition?d:c});P.when("a-base","a-util","a-events","a-defer","p-detect").register("a-image",
function(c,h,g,l,k){function i(a){var a=b(a),d=a.data("a-dynamic-image");if(d&&typeof d==="object"){var f=a.data("a-dynamic-image-container");typeof f==="undefined"&&(f=a.closest(".a-dynamic-image-container"),f.length===0&&(f=a.parent()),a.data("a-dynamic-image-container",f));var e=window.devicePixelRatio?window.devicePixelRatio:1,c=f.width()*e,g=f.height()*e,i=Number.MAX_VALUE,l=Number.MAX_VALUE,k=a.attr("src")||"",n,w=c/g;h.each(d,function(a,b){var d=parseInt(a[0],10),f=parseInt(a[1],10);d-=g;f-=
c;f=w>=1?f:d;Math.abs(f)<l&&f>=0&&(l=Math.abs(f),n=b);Math.abs(f)<i&&(i=Math.abs(f),k=b)});n&&(k=n);j.schedule(k,a);j.fill();return k}}function e(){b("img.a-dynamic-image").each(function(){b(this).data("a-manual-replacement")||i(this)})}var b=c.$;b(window);var a=document.getElementsByTagName("img"),f={},d=function(){return{canLoad:function(){return!0},inFlight:0,limit:function(){return 2}}}(),j=function(){var a=[],b={};return{schedule:function(d,j){b[d]||(a.push(d),b[d]=!0);f[d]=f[d]||[];for(var e=
0;e<f[d].length;e++)if(j.is(f[d][e]))return;f[d].push(j)},fill:function(){if(d.canLoad())for(var f=0;f<d.limit()-d.inFlight;f++)if(a.length>0){var j=a.shift();b[j]=!1;n.load(j)}}}}(),n=function(){function e(a){var b=f[a];b&&b.length>0&&h.each(b,function(b){l.defer(function(){b.attr("src",a)})})}var c={};return{load:function(a){c[a]&&e(a);if(c[a]!==!1){var b=new Image;b.onload=function(){d.inFlight--;e(a);c[a]=!0;j.fill()};b.onerror=function(){d.inFlight--;c[a]=!1;j.fill()};d.inFlight++;l.defer(function(){b.src=
a})}},poll:function(){h.each(a,function(a){a=b(a);!a.data("a-hires-loaded")&&!a.is(":hidden")&&h.onScreen(a)&&!a.data("a-manual-replacement")&&(a.data("a-hires")&&j.schedule(a.data("a-hires"),a),a.data("a-hires-loaded",!0))})}}}();k.capabilities.hires&&g.on.ready(function(){h.interval(function(){n.poll();j.fill()},2E3)});g.on.ready(e);b(window).resize(e);return{loadHiResImage:function(a){var d=[];b(a).each(function(){var a=b(this),f=a.data("a-hires");f&&(j.schedule(f,a),j.fill(),d.push(f));a.data("a-hires-loaded",
!0)});return d},loadDynamicImage:function(a){var d=[];b(a).each(function(){d.push(i(this))});return d},loadImageManually:function(a,d){var f=[];b(a,d).each(function(){var a=b(this);if(!a.data("a-image-already-loaded")){a.data("a-image-already-loaded",!0);var d=i(a),j=b("<img>").attr("src",d||a.data("a-image-source"));f.push(d);var d=""+this.className,e=a.data("a-extra-classes");e&&(d+=" "+e);j.attr("class",d);j.attr("id",this.id);j.attr("style",a.attr("style"));h.each(this.attributes,function(a){a&&
a.name&&a.name.indexOf("data-")===0&&j.attr(a.name,a.value)});j.data(a.data());a.replaceWith(j)}return f})},loadDescendantImagesManually:function(a,d){return this.loadImageManually(b(a,d).find("div.a-manually-loaded").filter(function(){return!b(this).data("a-image-already-loaded")}))}}});P.when("a-util","a-defer","a-base","a-events","a-declarative","a-state","a-ajax","a-animate","a-image","a-constants","p-detect","a-browser-events","a-preload","a-prefix").register("A",function(c){var h={};c.each(arguments,
function(g){c.extend(h,g)});return h});P.register("a-constants",function(){return{constants:{keycodes:{BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,SPACE:32,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,DELETE:46},NOOP:function(){}}}});P.when("jQuery","a-events","a-util","a-defer").register("a-browser-events",function(c,h,g){var l,k,i,e;function b(){return window.orientation===q?f()>a()?90:0:window.orientation}function a(){return window.innerHeight?window.innerHeight:document.documentElement.clientHeight}
function f(){return window.innerWidth?window.innerWidth:document.documentElement.clientWidth}function d(d){for(var j={},e,c;(c=d.pop())!==q;)e=s[c],s[c]=c==="orientation"?b():c==="height"?a():c==="width"?f():c==="scrollTop"?window.scrollY?window.scrollY:m.scrollTop():window.scrollX?window.scrollX:m.scrollLeft(),s[c]!==e&&(j[c]=e);return j}function j(a,b,d){n(a);h.trigger(a,b,d);a===e&&!(d.height===q&&d.width===q)&&(n(k),h.trigger(k,b,d))}function n(a){a=p[a];a.pollCount=0;clearTimeout(a.timer);a.timer=
0}function r(a){var b=p[a];if(!b.timer)b.pollCount++,b.timer=g.delay(function(){b.timer=0;var f=d(a===l?["scrollLeft","scrollTop"]:["orientation","height","width"]),c;c=a;a===k&&(f.width===q&&f.height===q?c=i:f.orientation!==q&&(c=e));c===a?j(a,s,f):c===i?b.pollCount<o&&r(a):(n(c),j(c,s,f))},t)}var q,m=c(window),t=100,o=30,p={};g.each(["scroll","resize","orientationchange","mousemove"],function(a){p[a]={timer:0,pollCount:0}});var s={scrollLeft:0,scrollTop:0,height:a(),width:f(),orientation:b()},v=
{speed:0,degree:0,direction:"",positionX:0,positionY:0},u=[],x,w;e="orientationchange";l="scroll";k="resize";i="none";m.bind("resize scroll",function(a){r(a.type)});m.bind("mousemove",function(a){var b=a.type,d={x:a.clientX,y:a.clientY};if(!p[b].timer)p[b].timer=g.delay(function(){p[b].timer=0;if(x){var a=x,f=Math.sqrt(Math.pow(d.x-a.x,2)+Math.pow(d.y-a.y,2))/50*10,j=Math.atan2(d.y-a.y,d.x-a.x)/(Math.PI/180),e=a=0;u.push({speed:f,degree:j});u.length>4&&(u=u.slice(-4));f=u.length;for(j=0;j<f;j++)a+=
u[j].speed,e+=u[j].degree;a=Number((a/f).toFixed(2));e=Math.round(e/f);v={speed:a,degree:e,direction:e>=0?e>157.5?"W":e>112.5?"SW":e>67.5?"S":e>22.5?"SE":"E":e<-157.5?"W":e<-112.5?"NW":e<-67.5?"N":e<-22.5?"NE":"E",positionX:d.x,positionY:d.y};x=d}else d&&(x=d)},50)});h.on("beforeReady",function(){d(["scrollLeft","scrollTop","height","width","orientation"])});return{viewport:function(){return g.copy(s)},cursor:function(){return g.copy(v)},scrollBarWidth:function(){if((document&&document.body&&document.body.scrollHeight?
document.body.scrollHeight:0)>a()){if(typeof w==="undefined"){var b=c('<div style="visibility:hidden"><div style="width:100%"></div></div>'),d=b.children(),f;b.appendTo("body");f=b[0].offsetWidth;b.css("overflow","scroll");d=d[0].offsetWidth;b.remove();w=f-d}return w>0?w:15}else return 0}}});P.when("a-base","a-events").register("a-preload",function(c,h){function g(){if(a.length>0)e=a;else if(e=b,e.length===0||!f)return!1;if(s>=p)return!1;s++;return!0}function l(a,b){clearTimeout(b);s=s<1?0:s-1;v(a);
o?d(u,0):u()}function k(a){if(a){var b=a.parentElement;b&&b.removeChild(a)}}function i(a,b){if(typeof a==="string")a=[a];else if(typeof a!=="object"||a===null)return;var d,f;for(d=0;d<a.length;d++)(f=a[d])&&typeof f!=="string"?i(f,b):f&&f[0]!==" "&&b.splice(Math.round(Math.random()*b.length),0,f)}var e=[],b=[],a=[],f=!1,d=setTimeout,j=document,n=j.documentElement,r=n.style,q=navigator,m="MozAppearance"in r,t=(r=!m&&"webkitAppearance"in r)&&q.vendor.indexOf("Apple")===0,o=!m&&!r&&q.appName.indexOf("Microsoft")===
0,q=q.userAgent.indexOf("Mobile")!==-1,p=window.plCount!==void 0?window.plCount():!q&&(r||m)||o&&typeof XDomainRequest==="object"?5:2,s=0,v=function(a){m?setTimeout(function(){k(a)},5):k(a)},u=!o&&!m&&!r?function(){}:function(){if(g()){var a=e.pop(),b,f;if(m)b=j.createElement("object");else if(t){var c=a.indexOf("?"),c=c>0?c:a.length,i=a.lastIndexOf(".",c);if(i)switch(a.substring(i+1,c).toLowerCase()){case "js":b=j.createElement("script");b.type="f";break;case "png":case "jpg":case "jpeg":case "gif":b=
new Image}if(!b){l(a);return}}else b=new Image;b.onerror=function(){l(b,f)};b.onload=function(){l(b,f)};if(m||t&&b.tagName==="SCRIPT")f=d(function(){l(b,f)},2500+Math.random()*100);m?b.data=a:b.src=a;if(!o)b.width=b.height=0,b.style.display="none",n.appendChild(b);s<p&&u()}};h.on.afterLoad(function(){f=!0;u()});return{preload:function(a,d){d?d(a):(i(a,b),u())}}})});P.execute(function(){});
P.execute(function(){P.when("A","a-popover-base-factory").register("a-popover-base-apis",function(c,h){return{show:function(c){var l=h.get(c.$trigger?c.$trigger:c);if(l)return l.show.apply(l,arguments)},hide:function(c){var l=h.get(c);if(l)return l.unlock(1),l.hide.apply(l,arguments)},get:function(c){return h.get(c)},remove:function(c){return h.remove(c)}}});P.when("A","a-popover-iframes","a-popover-util","a-popover-objectclass").register("a-popover-base-factory",function(c,h,g,l){function k(a){return d[a]?
d[a]:null}function i(a,d){var j=null;if(typeof a==="number")j=k(a);else if(typeof a==="string")(j=f[a]?f[a]:null)||(j=k(a));else if(typeof a==="object")if(a.$popover)j=a;else{var e=b(a),j=e.data("a-popover-id");j||(j=e.find(".a-declarative").eq(0),j=j.length?j.data("a-popover-id"):null);j=k(j);if(!j){var c=e.data("action");if((c=c?e.data(c):null)&&c.name)if((j=f[c.name]?f[c.name]:null)&&(!d||j.type===d)){if(j.$trigger[0]!==e[0])j.$trigger.data("a-popover-id",null),j.$trigger=e}else j=null}}return j}
function e(){n||(n=new l.PopoverClass({id:-1,$popover:j,$trigger:j,immersive:!0},{isActive:function(){return!0},hideMethod:function(){this.hideChildren()},showMethod:c.constants.NOOP}));return n}var b=c.$,a=1,f={},d={},j=b("<div style='z-index:-1;position:absolute;' />").appendTo("body"),n;return{getRoot:e,get:function(a,b){var b=b?b:this?this.type:null,d=i(a,b);return d&&b&&d.type!==b?null:d},create:function(j,g){var m=b(j),n=g.attributes||{},o=g.variant||{},p=g.actionCheck||!1;m.data("a-popover-id");
var s=n.type,v=null;if(s&&(!m.hasClass("a-declarative")||!m.data("action")||m.data("action").indexOf(s)===-1))m=c.declarative.create(m,"a-"+s),j=m[0];if(p&&m.data("action")&&m.data("action").indexOf(s)===-1)return null;s&&m&&(v=i(m));return v?v.type!==s?null:v:(p=b(j),m=null,n.type?!p||!p.length?o=null:(n=c.extend({id:a++,$trigger:p,$triggerWrapper:null,$iframe:h.get()},n),m=new l.PopoverClass(n,o),d[m.id]=m,m.name&&(f[m.name]=m),p.data("a-popover-id",m.id),o=m.$trigger.closest(".a-popover"),o=!m.attrs("immersive")&&
o.length?k(o.data("a-popover-id"))||e():e(),m.parent=o,o.children.push(m),o=m):o=null,o)},remove:function(a,b){var j=this.get(a),e=!1;if(j){e=j.id;if(j&&e>-1){var g=c.indexOfArray(j.parent.children,j),i=j.$container,l=j.$trigger;j.parent.children.splice(g,1);j.unlock().hide();j.update({content:""});h.release(j.$iframe);i&&j.$container.remove();l.data("a-popover-id","");j.name&&delete f[j.name];delete d[e];e=!0}else e=!1;b&&c.declarative.remove(j.$trigger[0],"a-"+b)}return e}}});P.when("A","a-popover-util",
"a-popover-base-factory").register("a-popover-base-handlers",function(c,h,g){var l=c.$;l(document).bind("click touchstart",function(k){var i=function(a){return h.eventOccursWithin(k,a)},e=l(k.target),b=e.hasClass("a-modal-scroller")||e[0].id==="a-popover-lgtbox";c.each(g.getRoot().children,function(a){if(a.isLoaded()){var f=h.search(a,i);f?f.hideChildren():(b?a.unlock():a.unlock(1),a.hide())}})});c.declarative("a-popover-close",["click","touchstart"],function(c){for(var i=c.$target,e;i.length;){if(e=
i.data("a-popover-id"))break;i=i.parent()}if(i=g.get(e))i.unlock().hide(),h.trigger("dismiss",i);c.$event.preventDefault()});c.on("resize",function(){g.getRoot().updatePosition()});return null});P.when("A","a-popover-base-apis","a-popover-base-handlers").register("a-popover-base",function(c,h){return h});P.when("A","a-popover-util","a-popover-data","a-popover-position","a-popover-iframes","a-popover-lightbox").register("a-popover-objectclass",function(c,h,g,l,k,i){function e(e,l){var p=-1,x=[1],w=
-2;this.parent=null;this.children=[];this.dependencies={};this.attributes={position:"triggerVertical",alone:!1,immersive:!1};var y=function(a,d){var f=this,d=!!d,e=f.dependencies,g=e.showMethod!==b?e.showMethod:m,i=e.beforeShowMethod!==b?e.beforeShowMethod:null,l=e.afterShowMethod!==b?e.afterShowMethod:null;w=j;f.$popover.css("visibility","hidden").show();i&&i.apply(f,a);c.delay(function(){f.updatePosition();var b=f.attrs("navigate");!d&&b&&f.attrs("navigate",!1);g.apply(f,a);d&&h.trigger("show",
f);l&&l.apply(f,a);d&&h.trigger("afterShow",f);!d&&b&&f.attrs("navigate",b);w=n},0)};this.show=function(){var a=this,b=a.attrs("lightboxOptions")||null;a.isActive()||(a.lock(f),b&&i.lock(f),a.attrs("alone")&&c.each(a.parent.children,function(b){b.isActive()&&b.id!==a.id&&b.unlock().hide()}),h.trigger("beforeShow",a),(!a.$container||a.isDirty()||g.getStrategy(a.attrs()).name==="preload")&&a.refresh(),b&&i.show(c.extend({floatingDOM:a.$popover},b)),y.call(a,arguments,!0),c.delay(function(){a.unlock(f);
b&&i.unlock(f)},0));return this};this.hide=function(){var a=this,d=a.dependencies,f=d.hideMethod!==b?d.hideMethod:t,j=d.beforeHideMethod!==b?d.beforeHideMethod:null,e=d.afterHideMethod!==b?d.afterHideMethod:null,g=a.attrs("lightboxOptions")||null;!a.isLocked()&&a.isActive()&&(w=r,a.hideChildren(),h.trigger("beforeHide",a),j&&j.apply(a,arguments),f.apply(a,arguments),k.release(a.$iframe),h.trigger("hide",a),c.delay(function(){e&&e.apply(a,arguments);g&&(a.parent.attrs("lightboxOptions")?i.show(c.extend({floatingDOM:a.parent.$popover},
g)):i.hide(g));h.trigger("afterHide",a);w=-2},0));return this};this.update=function(a){var a=typeof a==="string"?{content:a}:c.copy(a),b=this.attrs();if(!a.url){if(a.content)a.url=null;if(a.name&&!a.content)a.url=null,a.content=null}var d=c.extend(c.copy(b),a);c.each(a,function(a,d){(a&&!b[d]||b[d]&&b[d]!==a)&&x.push(d)});this.isDirty()&&(this.$popover&&g.getStrategy(b).unloadContent(this),this.attrs(d),this.isActive()&&this.refresh());return this};this.refresh=function(){var b=this.isActive(),d=
!1;if(!d)for(var f=x.length;f>0&&!d;f--)q[x[f-1]]||(d=!0);if(d)d=o.apply(this),d=a(d),a("body").append(d),this.$container=d,this.$popover=this.$container.hasClass("a-popover")?this.$container:this.$container.find(".a-popover"),this.$popover.attr("id","a-popover-"+this.id).data("a-popover-id",this.id);this.attrs("immersive")||(d=parseInt(this.parent.$popover.css("z-index"),10),c.isFiniteNumber(d)||(d=0),this.$popover.css("z-index",100+d));d=g.getStrategy(this.attrs());this.attrs("strategy",d.name);
d.unloadContent(this).loadContent(this);x=[];b&&y.call(this,[],!1);return this};this.isActive=function(){return w>=j};this.isLoaded=function(){return w===n};this.isDirty=function(){return x.length>0};this.lock=function(a){a||(a=d);p<a&&(p=a);return this};this.unlock=function(a){a||(a=d);p<=a&&(p=-1);return this};this.isLocked=function(){return p!==-1};this.dependencies=l;this.attrs(e);c.extend(this,this.attributes)}var b,a=c.$,f=1,d=10,j=1,n=2,r=-1,q={name:!0,url:!0,content:!0},m=function(){this.$popover.css({visibility:"visible"})},
t=function(){this.$popover.hide().find(".a-lgtbox-vertical-scroll").removeClass("a-lgtbox-vertical-scroll")},o=function(){var a=this.dependencies;return a.skin!==b?a.skin(this):""},p=e.prototype;p.getContent=function(){return this.dependencies.getContent!==b?this.dependencies.getContent.apply(this,arguments):null};p.updateContent=function(a){this.dependencies.updateContent!==b&&this.dependencies.updateContent.apply(this,arguments);return this};p.ajax=function(a){return this.update({url:a})};p.updateChildrenPosition=
function(){c.each(this.children,function(a){a.isActive()&&a.updatePosition()});return this};p.updatePosition=function(){if(this.id!==-1){var a=this.attrs("position"),b=this.$popover,d={},d=this.dependencies.positionStrategy?l.customPosition(b,this.$trigger,this.dependencies.positionStrategy):l[a](b,this.$trigger);h.trigger("beforeUpdatePosition",this);b.css({top:d.top+"px",left:d.left+"px"});this.$iframe.height(b.outerHeight()).width(b.outerWidth()).css("z-index",parseInt(b.css("z-index"),10)-2).show().offset({top:d.top,
left:d.left});h.trigger("afterUpdatePosition",this);h.trigger("positionUpdated",this)}c.each(this.children,function(a){a.isActive()&&a.updatePosition()});return this};p.attrs=function(a,d){var f=this;return d===b&&typeof a!=="object"?a?typeof a==="string"?this.attributes[a]!==b?this.attributes[a]:null:null:this.attributes:(typeof a==="object"?c.each(a,function(a,b){f.attrs(b,a)}):typeof a==="string"&&(this.attributes[a]=d,f[a]=d),this)};p.hideChildren=function(){c.each(this.children,function(a){a.unlock(f);
a.hide()});return this};return{PopoverClass:e}});P.when("jQuery","ready").register("a-changeover",function(c){c(document).delegate(".a-changeover:not(.a-changeover-manual)","webkitAnimationEnd animationEnd msTransitionEnd mozTransitionEnd click touchstart",function(){this.style.display="none"})});P.when("A").register("a-dropdown-base-variant",function(c){return{beforeShowMethod:function(){var c=this.id+"_dropdown_combobox";this.parent.lock(1);this.$trigger.attr("aria-pressed",!0).attr("aria-owns",
c);this.$popover.find("ol,ul").eq(0).attr("id",c)},afterShowMethod:function(){var h=this.$popover,g=h.find(".a-active");c.delay(function(){g.length?g.closest("li").focus():g=h.find("li").first().focus()},0)},beforeHideMethod:function(){this.parent.unlock(1)},afterHideMethod:function(){this.$trigger.attr("aria-pressed",!1).focus();this.$popover.css("width","auto")}}});P.when("A","a-popover-base-factory","a-dropdown-base-variant").register("a-dropdown-base-factory",function(c,h,g){function l(e,b){var a=
['<li tabIndex="0" role="option"'],f=e.data("aCssClass"),d=e.data("aId"),j=e.data("aHtmlContent"),c=e.data("aImageSource"),g=['<a tabIndex="-1" href="javascript:void(0)" data-value="{&quot;stringVal&quot;:&quot;',e.val().replace(/"/g,"\\&quot;"),'&quot;}"'],i=[];i.push("a-fastclick-disable");b&&(i.push("a-active"),g.push(' aria-selected="true"'));f&&a.push(' class="'+f+'"');d&&a.push(' id="'+d+'"');a.push(">");j?f=j:(f=[],c&&(i.push("a-option-has-image"),f.push('<img src="'+c+'" class="a-rich-option-image" />')),
f.push(e.html()),f=f.join(""));g.push(' class="');g.push(i.join(" "));g.push('">');g.push(f);g.push("</a>");a.push(g.join(""));a.push("</li>");return a.join("")}function k(e){e.jquery||(e=i(e));var b=e.children("optgroup,option:not(.a-prompt)"),a=!1,f=e[0],d,j;if(f.selectedIndex>-1)d=f.options[f.selectedIndex].value;j=e.data("a-has-images")?['<ul tabIndex="-1" class="a-nostyle a-list-link a-box-list" role="listbox" aria-multiselectable="false">']:['<ul tabIndex="-1" class="a-nostyle a-list-link" role="listbox" aria-multiselectable="false">'];
b.each(function(){var b=i(this);b.is("optgroup")?(b.children().each(function(){j.push(l(i(this),d===this.value))}),j.push('<li tabIndex="-1" class="divider"><hr /></li>'),a=!0):(a=!1,j.push(l(b,d===this.value)))});a&&j.pop();j.push("</ul>");return j.join("")}var i=c.$;return c.extend({create:h.create,remove:h.remove,get:h.get},{type:"dropdown",create:function(e,b,a){var f=b.$button,d=b.$sourceSelect,j=d[0],i=f.find(".a-dropdown-label"),l=null,l=a.subskin?function(b){return a.skin(a.subskin(j),b)}:
function(b){return a.skin(k(j),b)},q=d.data("aTouchHeader");if(!q||!q.length&&i.length)q=i.text();return h.create(e,{attributes:{type:"dropdown",header:q,content:d,position:b.position,sourceSelect:d,sourceButton:f,name:d[0].name,preventNameReuse:!0,lightboxOptions:c.capabilities.mobile||c.capabilities.tablet?{showDuration:c.capabilities.ios?null:0,hideDuration:0}:null},variant:c.extend({},g,a,{skin:l}),actionCheck:!1})}})});P.when("A").register("a-dropdown-base-handlers",function(){});P.when("A",
"a-dropdown-select-apis","a-dropdown-base-factory","a-dropdown-base-handlers","a-popover-base").register("a-dropdown-base",function(c,h,g){function l(a,f,d){try{a.$event.preventDefault()}catch(j){}c.delay(function(){var j=f.$button?f.$button:f.getButtonFromEvent(a),h=f.$select?f.$select:f.getSelectFromEvent(a);if(!j.hasClass("a-button-disabled")){e(h,f).isSynced()||i(b.extend({$button:j,$select:h},f));var l=a.$declarativeParent,h=c.extend({},f,{$button:j,$sourceSelect:h}),k=g.create(l,h,d);if(k&&
(k.show(),j.data("a-popover-id",k.id).data("popover",k).data("isPressed",!0),!k.hasOnLoad))k.hasOnLoad=!0,k.$popover.find("img").each(function(){b(this).load(function(){k.updatePosition()})})}})}function k(a){var b=a.$button,a=a.$select;b||(b=a.nextAll(".a-button-dropdown"));return a.length?((b=g.get(b))&&b.hide(),!0):!1}function i(a){var b=a.$button,a=a.$select;b||(b=a.nextAll(".a-button-dropdown"));return a.length?((b=g.get(b))&&g.remove(b.id),a.data("a-info",null),!0):!1}function e(a,f){var d,
j;d=f.$select?f.$select:typeof a==="string"?b("select#"+a):a.jquery?a:b(a);if(!d.length)return null;j=f.$button?f.$button:f.getButtonFromSelect(d);d.data("a-select")?j=d.data("a-select"):(j=c.extend({hidePopover:k,refreshPopover:i,options:b.extend({$select:d,$button:j},f)},h),d.data("a-select",j));return j}var b=c.$;b(document).delegate(".a-button-text","focusin",function(){var a=b(this).closest(".a-button");a.hasClass("a-button-disabled")||a.addClass("a-button-focus")}).delegate(".a-button-text",
"focusout",function(){b(this).closest(".a-button").removeClass("a-button-focus")});return{toggleDropdown:function(a,b){var d=(b.$button?b.$button:b.getButtonFromEvent(a)).data("popover");d&&d.$popover.is(":visible")?d.hide():l(a,b)},showDropdown:l,getSelect:e}});P.when("A","jQuery").register("a-dropdown-options-apis",function(){return{update:function(c){typeof c!=="object"&&P.error("input of options.update() function must be a hash");this.hidePopover(this.options);for(var h=0,g=this.size();h<g;h++){var l=
this.options.elements[h],k=l[0];c.value&&l.val(c.value);c.selected!==void 0&&(!k.selected&&c.selected?this.options.$select.val(k.value):k.selected&&!c.selected&&this.options.$select.val(""));c.html_content&&l.data("a-html-content",c.html_content);c.image_source&&l.data("a-image-source",c.image_source);if(c.native_css_class)k.className=c.native_css_class;c.css_class&&l.data("a-css-class",c.css_class);if(c.native_id)k.id=c.native_id;c.id&&l.data("a-id",c.id);c.text&&(l.text(c.text),k.selected&&this.setSelectValue(k.value))}this.refreshPopover(this.options);
return this},remove:function(){this.hidePopover(this.options);for(var c=0,h=this.size();c<h;c++){var g=this.options.elements[c];g.is(":selected")&&this.setSelectValue("");g.remove()}this.refreshPopover(this.options);return!0},info:function(){for(var c=[],h=0,g=this.size();h<g;h++){var l=this.options.elements[h];c.push({value:l[0].value,text:l.text(),selected:l[0].selected,html_content:l.data("a-html-content"),image_source:l.data("a-image-source"),native_css_class:l[0].className,css_class:l.data("a-css-class"),
native_id:l[0].id,id:l.data("a-id")})}return c},size:function(){return this.options.elements.length}}});P.when("A","jQuery","a-dropdown-options-apis").register("a-dropdown-select-apis",function(c,h,g){function l(e){var b=this.options.$select,a=this.options.$button,f=b[0],d;typeof e==="number"&&(e=e.toString());if(e==="")d=0;else for(d=f.options.length;d--;)if(f.options[d].value===e)break;a.find(".a-dropdown-prompt").html(f.options[d].innerHTML);a.css("min-width",d/f.options.length+"%");d>-1&&b.val()!==
e&&(b.val(e),b.trigger("change",[i,!0]));return this}function k(e){return e===i?this.options.$select.val():(this.setValue=l,this.setValue(e))}var i;return{isSynced:function(){var e=this.options.$select,b=e.data("a-info"),a=this.getOptions().info();e.data("a-info",a);return b?c.equals(b,a):!0},update:function(e){typeof e!=="object"&&P.error("input of select.update() function must be a hash");this.hidePopover(this.options);var b={none:!0,micro:!0,mini:!0,small:!0,base:!0,medium:!0,large:!0,"extra-large":!0,
"double-large":!0,block:!0},a=this.options.$select,f=a[0],d=this.options.$button,j=d[0],c=a.siblings("label");if(e.name)f.name=e.name;if(e.option_prompt){var g=a.find(".a-prompt");g.length?(g.text(e.option_prompt),g.prop("selected")&&d.find(".a-dropdown-prompt").text(e.option_prompt)):(a.prepend(h("<option class='a-prompt' />").text(e.option_prompt)),d.find(".a-dropdown-prompt").text(e.option_prompt))}e.has_images!==i&&a.data("a-has-images",!!e.has_images);e.button_size!==i&&d.length&&(e.button_size===
"small"?d.addClass("a-button-small"):d.removeClass("a-button-small"));if(e.spacing!==i&&b.hasOwnProperty(e.spacing))b=/\ba-spacing-[a-z]+\b/g,f.className=f.className.replace(b,""),j.className=j.className.replace(b,""),a.addClass("a-spacing-"+e.spacing),d.addClass("a-spacing-"+e.spacing);if(e.grid_units!==i)b=/\ba-button-span\d{1,2}\b/g,f.className=f.className.replace(b,""),j.className=j.className.replace(b,""),isFinite(e.grid_units)&&e.grid_units>0&&e.grid_units<13&&(a.addClass("a-button-span"+e.grid_units),
d.addClass("a-button-span"+e.grid_units));e.width_name&&(e.width_named==="base"?d.addClass("a-button-width-normal"):d.removeClass("a-button-width-normal"));if(e.status)e.status==="disabled"?(f.disabled=!0,d.addClass("a-button-disabled")):(f.disabled=!1,d.removeClass("a-button-disabled"));if(e.native_id&&(f.id=e.native_id,c.length))c[0].htmlFor=e.native_id;if(e.id)j.id=e.id;e.native_css_class&&((j=a.data("a-native-class"))&&a.removeClass(j),a.addClass(e.native_css_class).data("a-native-class",e.native_css_class));
e.css_class&&((j=d.data("a-class"))&&d.removeClass(j),d.addClass(e.css_class).data("a-class",e.css_class));e.label_text!==i&&(e.label_text===""?(d.find(".a-dropdown-label").remove(),a.siblings("label").remove()):(j=d.find(".a-dropdown-label"),j.length?j.text(e.label_text):d.find(".a-dropdown-prompt").before(h("<span class='a-dropdown-label' />").text(e.label_text)),c.length?c.text(e.label_text):a.before(h("<label for='"+f.id+"' class='a-native-dropdown' />").text(e.label_text))),d.css("min-width",
e.label_text===""?"0.1%":"0%"));this.refreshPopover(this.options);return this},setValue:l,val:k,getOptions:function(e){for(var b=[],a=this.options.$select,f=[],b=e===i?a.children("optgroup,option:not(.a-prompt)"):h.isArray(e)?e:[e],e=0,d=b.length;e<d;e++){var j=b[e],c=[];typeof j==="number"?c=a.children("optgroup,option:not(.a-prompt)").eq(j):typeof j==="string"?c=a.children("#"+j):typeof j==="object"&&(c=j.jquery?j:h(j));c.length&&f.push(c)}return h.extend({hidePopover:this.hidePopover,refreshPopover:this.refreshPopover,
setSelectValue:k,options:h.extend({elements:f},this.options)},g)},getOption:function(e){return this.getOptions(e)},addOptions:function(e,b){h.isArray(e)||(e=[e]);for(var a=e.length;a--;)this.addOption(e[a],b);return this},addOption:function(e,b){var a=this.options.$select;if(!e.native_id||this.getOption(e.native_id).options.length===0){var f=a.children("optgroup,option:not(.a-prompt)"),d=h("<option />"),j=b&&b<f.length?b:0;e.native_id&&d.attr("id",e.native_id);f.length===0?a.append(d):f.eq(j).before(d);
this.getOption(d).update(e)}return this},removeOptions:function(e){this.getOptions(e).remove();return this},removeOption:function(e){return this.removeOptions(e)}}});P.when("A","a-dropdown-options","a-dropdown-apis","a-dropdown-handlers").register("a-dropdown",function(c,h,g){var l=c.$;l(document).delegate(".a-native-dropdown","change",function(k,i,e){var b=h.getButtonFromEvent(k),a="",f=this.options.length,d=this.selectedIndex>-1?this.options[this.selectedIndex].value:"",j=b.data("popover"),k=!1,
n;if(b.length){for(b=b.eq(0);f--;)if(n=this.options[f],n.value===d){a=n.innerHTML;break}i===void 0&&j&&(i=j.$popover.find('a[data-value="'+('{"stringVal":"'+d+'"}')+'"]'));i&&i.length&&(k=!0,i.addClass("a-active").prop("aria-selected",!0).closest("ul").find("a").not(i).prop("aria-selected",!1).removeClass("a-active"));b.find(".a-dropdown-prompt").html(a);b.css("min-width",this.selectedIndex/this.options.length+"%");j&&(j.hide(),(b=g.getSelect(this))&&l(this).data("a-info",b.getOptions().info()));
if(!e)e=this.name,b=this.id,i={auiItemNode:k?i[0]:null,nativeItemNode:this.options[this.selectedIndex],selectNode:this,id:b,name:e,value:this.value},e&&e!==""&&(c.trigger("a:dropdown:"+e+":select",i),c.trigger("a:dropdown:selected:"+e,i)),b&&b!==""&&c.trigger("a:dropdown:"+b+":select",i),c.trigger("a:dropdown:select",i)}}).delegate(".a-button-dropdown:not(.a-button-disabled)","focusin",function(){l(this).find(".a-button-text").focus()});return g});P.when("A","a-dropdown-base","a-dropdown-options").register("a-dropdown-apis",
function(c,h,g){function l(c){return h.getSelect(c,g)}var k=c.$;return{getSelect:l,updateOption:function(c,e){var b=k("option#"+c).closest("select");l(b).getOption(c).update(e)},updateSelect:function(c,e){l(c).update(e)},setValue:function(c,e){l(c).setValue(e)}}});P.when("A").register("a-dropdown-variant",function(){return{skin:function(c){return['<div class="a-popover a-dropdown"><div class="a-popover-wrapper"><div class="a-popover-inner">',c,"</div></div></div>"].join("")},positionStrategy:function(c){var h=
c.$popover,g=c.$trigger,l=c.measure,c=h.find(".a-popover-inner");c.css({"min-width":"0px",width:"auto",height:"auto"});var g=l(h,g.closest(".a-button-dropdown")),l=g.windowWidth-(g.triggerLeft+g.popoverWidth),k=g.windowWidth-g.triggerLeft-g.triggerWidth,i=g.triggerLeft,e={},b=g.triggerTop-g.windowTop,a=g.windowBottom-g.triggerBottom,h=h.find(".a-popover-inner");b>a&&a<g.popoverHeight?(a=b,e.top=b<g.popoverHeight?g.triggerBottom-b:g.triggerBottom-g.popoverHeight):e.top=g.triggerTop;h.css("height",
a<g.popoverHeight?a-g.headerHeight+"px":"auto");g.popoverHeight>a?h.addClass("a-lgtbox-vertical-scroll"):h.removeClass("a-lgtbox-vertical-scroll");e.left=l<50&&i>k?g.triggerRight-g.popoverWidth:g.triggerLeft;c.css("overflow-y")==="scroll"&&navigator.userAgent.indexOf("MSIE")>-1?(h=Math.max(g.popoverWidth,g.triggerWidth)+20,c.width(h)):c.css("min-width",g.triggerWidth+"px");return e}}});P.when("A","a-dropdown-base","a-dropdown-variant","a-dropdown-options","a-dropdown-apis","a-dropdown-base-factory").register("a-dropdown-handlers",
function(c,h,g,l,k,i){var e=c.$;c.declarative("a-dropdown-button","click",function(b){var a=l.getButtonFromEvent(b);h.showDropdown(b,c.extend({$button:a},l),g)});c.declarative("a-dropdown-button","keydown",function(b){var a=l.getButtonFromEvent(b),f=c.constants.keycodes,d=b.$event.which;(d===f.DOWN_ARROW||d===f.ENTER||d===f.SPACE)&&h.showDropdown(b,c.extend({$button:a},l),g)});e(document).delegate(".a-popover.a-dropdown a","click",function(b){b.preventDefault();var b=e(this),a=i.get(b.closest(".a-popover"));
if(b.hasClass("a-active"))a.hide();else{var f=b.data("value").stringVal;a.sourceSelect.val(f).trigger("change",[b])}}).delegate(".a-dropdown li","keydown",function(b){var a=e(this),f=c.constants.keycodes;switch(b.which){case f.UP_ARROW:b.preventDefault();a.prev().focus();break;case f.DOWN_ARROW:b.preventDefault();a.next().focus();break;case f.ENTER:case f.SPACE:b.preventDefault();a.find("a").trigger("click");break;case f.ESCAPE:b.preventDefault(),b=i.get(a.closest(".a-popover")),b.sourceButton.find(".a-button-text").focus(),
b.hide()}});return null});P.when("A").register("a-dropdown-options",function(c){function h(c){return c.popover?c.popover.$trigger.closest(".a-button-dropdown"):c.$target?c.$target.closest(".a-button-dropdown"):g(c.target).nextAll(".a-button-dropdown")}var g=c.$;return{getButtonFromEvent:h,getButtonFromSelect:function(c){return c.nextAll(".a-button-dropdown")},getSelectFromEvent:function(c){c=h(c).prevAll("select").eq(0);c.length||P.error("Cannot locate the <select> of dropdown");return c},triggerSelector:".a-button-dropdown"}});
P.when("A").register("a-dropdown-split-variant",function(){return{skin:function(c){return['<div class="a-popover a-splitdropdown">\n<div class="a-popover-wrapper">\n<div class="a-popover-inner">',c,"</div>\n</div>\n</div>"].join("\n")},positionStrategy:function(c){var h=c.$popover,g=c.$trigger,l=c.measure,c=h.find(".a-popover-inner");c.css({"min-width":"0px",width:"auto",height:"auto"});g.closest(".a-button-group");var g=l(h,g.closest(".a-button-group")),l={},k=g.triggerTop-g.windowTop,i=g.windowBottom-
g.triggerBottom,h=h.find(".a-popover-inner");k>i&&i<g.popoverHeight?(i=k,l.top=k<g.popoverHeight?g.triggerBottom-k:g.triggerBottom-g.popoverHeight):l.top=g.triggerTop;h.css("height",i<g.popoverHeight?i-g.headerHeight+"px":"auto");g.popoverHeight>i?h.addClass("a-lgtbox-vertical-scroll"):h.removeClass("a-lgtbox-vertical-scroll");l.left=g.triggerLeft+g.triggerWidth-g.popoverWidth;if(l.left<20)l.left=20;c.css("overflow-y")==="scroll"&&navigator.userAgent.indexOf("MSIE")>-1?c.width(g.popoverWidth+20):
c.css("min-width",g.popoverWidth+"px");return l}}});P.when("A","a-dropdown-base","a-dropdown-split-utils","a-dropdown-split-variant","a-dropdown-split-options","a-dropdown-base-factory").register("a-dropdown-split-handlers",function(c,h,g,l,k,i){var e=c.$;c.declarative("a-splitdropdown-button","click",function(b){var a=k.getButtonFromEvent(b);h.showDropdown(b,c.extend({$button:a},k),l)});c.declarative("a-splitdropdown-main","click",function(b){var a=b.$target.closest(".a-splitdropdown-container").find("select"),
f=a.attr("id"),d=a.val();g.triggerEvent(f,a,d);b.$event.preventDefault()});c.declarative("a-splitdropdown-button","keydown",function(b){var a=k.getButtonFromEvent(b),f=c.constants.keycodes,d=b.$event.which;(d===f.DOWN_ARROW||d===f.ENTER||d===f.SPACE)&&h.showDropdown(b,e.extend({$button:a},k),l)});e(document).delegate(".a-popover.a-splitdropdown a","click",function(b){var a=e(this),f=a.data("value").stringVal,a=i.get(a.closest(".a-popover")),d=a.sourceSelect,j=d.attr("id");a.hide();g.triggerEvent(j,
d,f);b.preventDefault()}).delegate(".a-splitdropdown li","keydown",function(b){var a=e(this),f=c.constants.keycodes;switch(b.which){case f.UP_ARROW:b.preventDefault();a.prev().focus();break;case f.DOWN_ARROW:b.preventDefault();a.next().focus();break;case f.ENTER:case f.SPACE:b.preventDefault();a.find("a").trigger("click");break;case f.ESCAPE:b.preventDefault(),b=i.get(a.closest(".a-popover")),b.sourceButton.find(".a-button-text").focus(),b.hide()}});return null});P.when("A").register("a-dropdown-split-options",
function(c){function h(c){return c.popover?c.popover.$trigger.closest(".a-button-splitdropdown"):c.$target?c.$target.closest(".a-button-splitdropdown"):g(c.target).nextAll(".a-button-splitdropdown")}var g=c.$;return{getButtonFromEvent:h,getButtonFromSelect:function(c){return c.next(".a-button-group-splitdropdown").find(".a-button-splitdropdown")},getSelectFromEvent:function(c){c=h(c).closest(".a-splitdropdown-container").find("select");c.length||P.error("cannot locate the <select> of the split dropdown");
return c}}});P.when("A").register("a-dropdown-split-utils",function(c){return{triggerEvent:function(h,g,l){g={$select:g,value:l,id:h};c.trigger("a:splitdropdown:"+h+":select",g);c.trigger("a:splitdropdown:select",g)}}});P.when("A","a-dropdown-base","a-dropdown-split-options","a-dropdown-split-utils","a-dropdown-split-handlers").register("a-splitdropdown",function(c,h,g,l){var k=c.$;k(document).delegate(".a-native-splitdropdown","change",function(c,e,b){var c=k(this),e=c.val(),a=c.attr("id");b||l.triggerEvent(a,
c,e)}).delegate(".a-button-splitdropdown:not(.a-button-disabled)","focusin",function(){k(this).find(".a-button-text").focus()});return{getSelect:function(c){return h.getSelect(c,g)}}});P.when("A","a-popover-data").register("a-popover-ajax",function(c,h){return{update:function(c,h,k){var i={};i.url=h;if(k.timeout)i.timeout=k.timeout;if(k.ajaxFailMsg)i.ajaxFailMsg=k.ajaxFailMsg;if(k.cache)i.cache=k.cache;c.update(i)},showSpinner:function(c){return h.showSpinner(c)}}});P.when("A","a-popover-util").register("a-popover-data",
function(c,h){function g(a){(a=a.getContent())&&a.empty();return this}function l(d){return d.url?c.extend({attributes:d},b):!d.content&&d.name?c.extend({attributes:d},f):c.extend({attributes:d},a)}function k(a){a.updateContent(e);a.updatePosition();return a}var i=c.$,e='<div class="a-popover-loading-wrapper a-text-center"><div class="a-box a-color-base-background a-popover-loading"></div></div>',b={name:"ajax",loadContent:function(a){var b=this.attributes.url,f=this.attributes.timeout||1E4,e=this.attributes.ajaxFailMsg||
"Sorry, content is not available.",g=!!this.attributes.cache,i=c.delay(function(){k(a)},100);c.ajax(b,{type:"GET",timeout:f,cache:g,success:function(b){l(a.attrs()).name==="ajax"&&(clearTimeout(i),h.trigger("ajaxSuccess",a),a.updateContent(b),a.isActive()&&a.updatePosition(),h.trigger("ajaxContentLoaded",a))},error:function(){l(a.attrs()).name==="ajax"&&(clearTimeout(i),h.trigger("ajaxFail",a),a.updateContent(e),a.isActive()&&a.updatePosition())}});return this},unloadContent:g},a={name:"inline",loadContent:function(a){a.updateContent(this.attributes.content);
return this},unloadContent:g},f={name:"preload",loadContent:function(a){if(this.attributes.name){var b;b=i("#a-popover-"+this.attributes.name);b.detach();if(b.length){b=b[0];for(var f=document.createDocumentFragment();b.firstChild;)f.appendChild(b.firstChild);b=f}else b=!1;b&&a.updateContent(b)}return this},unloadContent:function(a){if(this.attributes.name){var b="a-popover-"+this.attributes.name,f=i("#"+b),e=a.getContent();if(e&&e.html()!==""){f.length?f=f[0]:(f=document.createElement("div"),f.id=
b,f.className="a-popover-preload",document.body.appendChild(f));if(!c.trim(f.innerHTML)){b=e[0];for(e=document.createDocumentFragment();b.firstChild;)e.appendChild(b.firstChild);f.appendChild(e)}a.updateContent("")}}return this}};return{getStrategy:l,showSpinner:k}});P.when("A","ready").register("a-popover-iframes",function(c){function h(){if(l){k++;var b=document.createElement("iframe");b.src="javascript:false;";b.id="a-popover-iframe-"+k;b.className="a-popover-iframe";b.style.cssText="width: 0; height: 0; border: 0; opacity: 0; filter: alpha(opacity = 0); zoom: 1; display: none; position: absolute;";
b.frameborder="0";b.tabindex="-1";document.body.appendChild(b);return g(b)}else return g()}var g=c.$;g("body");var l=document.documentElement.className.indexOf("a-ie6")>-1,k=0,i=[],e=[];c.on.ready(function(){l&&i.push(h())});return{get:function(){if(l){var b=i.length===0?h():i.shift();e.push(b);return b}else return g()},release:function(b){l&&(b.hide(),c.each(e,function(a,f){b.is(a)&&e.splice(1,f)}),i.push(b))}}});P.when("A","ready").register("a-popover-lightbox",function(c){var h=c.$,g=document.documentElement.className.indexOf("-ie")>
-1,l=!1,k=null,i=0,e=-1,b=-1;h(document).delegate("#a-popover-lgtbox","click touchstart touchmove",function(a){a.preventDefault()});c.capabilities.touch&&h(document).bind("scroll touchend",function(){l&&(i&&clearTimeout(i),i=c.delay(function(){l=!1;k.hide().css("opacity","0.75")},400))});return{show:function(a){k||(h("body").append('<div id="a-popover-lgtbox" />'),k=h("#a-popover-lgtbox"));a=a||{};a.lockScroll&&(b===-1&&(b=h(window).scrollTop()),h("body").css("margin-right",c.scrollBarWidth()),g?
h("html, body").css("overflow","hidden"):h("body").css("overflow","hidden"));var f=h(a.floatingDOM).css("z-index")-2;k.css("z-index",f);if(typeof a.showDuration!=="number")a.showDuration=200;a.showDuration>0?c.fadeIn(k,a.showDuration):k.show()},hide:function(a){if(!(e>-1)&&k){a=a||{};if(typeof a.hideDuration!=="number")a.hideDuration=250;a.hideDuration>0?c.fadeOut(k,a.duration,"linear",function(){a.lockScroll&&(h("html, body").css("overflow",""),h("body").css("margin-right",""),b>0&&(h(window).scrollTop(b),
b=-1))}):(l?k.css("opacity","0.01"):k.hide(),a.lockScroll&&(h("html, body").css("overflow",""),h("body").css("margin-right",""),b>0&&(h(window).scrollTop(b),b=-1)))}},lock:function(a){a||(a=10);e<a&&(e=a)},unlock:function(a){a||(a=10);e<=a&&(e=-1)},preventClickThru:function(){l=!0}}});P.when("A","ready").register("a-popover-navigate",function(c){function h(b){if(typeof b==="string")i=!0,window.location.hash=b;return window.location.hash||""}var g=c.$,g=g(window),l=[],k=[],i=!1,e={};k.push(h());g.bind("hashchange",
function(b){b.preventDefault();k.push(h());k.length>=32&&k.shift();i?i=!1:c.trigger("a:popover:navigate",e[k[k.length-1]])});c.on("a:popover:navigate",function(b){b?b.show({preventNavigate:!0}):(b=l.length-1>=0?l[l.length-1]:null)&&b.popover.hide({preventNavigate:!0})});c.on("a:popover:show",function(b){l.push(b)});c.on("a:popover:hide",function(){l.pop()});return{forward:function(b){var a=b.name+"_"+c.now();e["#"+a]=b;h(a)},back:function(){k.length>0&&k.pop();window.history.back()}}});P.when("A").register("a-popover-position",
function(c){function h(b,a){var f=b.outerHeight(!0),d=b.outerWidth(!0),e=b.offset(),g=a.offset(),i=b.find(".a-popover-header"),i=i.length?i.outerHeight(!0):0,h,k;h=a[0];var l=c.viewport(),o=l.scrollLeft,p=l.scrollTop;h.getBoundingClientRect?(k=h.getBoundingClientRect(),h=k.right-k.left,k=k.bottom-k.top):(h=a.width(),k=a.height());return{popoverHeight:f,popoverWidth:d,popoverLeft:e.left,popoverTop:e.top,popoverRight:e.left+d,popoverBottom:e.top+f,popoverVerticalCenter:e.top+f/2,popoverHorizontalCenter:e.left+
d/2,headerHeight:i,triggerHeight:k,triggerWidth:h+1,triggerLeft:g.left-1,triggerTop:g.top-1,triggerRight:g.left+h+1,triggerBottom:g.top+k+1,triggerVerticalCenter:g.top+k/2,triggerHorizontalCenter:g.left+h/2,windowHeight:l.height,windowWidth:l.width,windowTop:p,windowLeft:o,windowRight:o+l.width,windowBottom:p+l.height}}function g(b){return b.removeClass("a-arrow-top a-arrow-bottom a-arrow-left a-arrow-right")}function l(b){var a={deltaTop:0},f=0;a.top=b.triggerVerticalCenter-b.popoverHeight/2;if(a.top<
b.windowTop+e)f=Math.min(b.windowTop+e,b.triggerTop-e),a.deltaTop=a.top-f,a.top=f;else if(a.top+b.popoverHeight>b.windowBottom-e)f=Math.min(e,b.windowBottom-b.triggerBottom+e),a.deltaTop=a.top+b.popoverHeight-(b.windowBottom-f),a.top=b.windowBottom-f-b.popoverHeight;return a}function k(b){var a={deltaLeft:0},f=0;a.left=b.triggerHorizontalCenter-b.popoverWidth/2;if(a.left<e)f=Math.min(e,b.triggerLeft-e),a.deltaLeft=a.left-f,a.left=f;else if(a.left+b.popoverWidth>b.windowRight-e)f=Math.min(e,b.windowWidth-
b.triggerRight+e),a.deltaLeft=a.left+b.popoverWidth-(b.windowRight-f),a.left=b.windowRight-f-b.popoverWidth;return a}var i=c.$;i(window);var e=20;return{windowCenter:function(b,a){var f=h(b,a),d={};d.top=(f.windowHeight-f.popoverHeight)/2;d.left=(f.windowWidth-f.popoverWidth)/2;if(d.top<0)d.top=0;return d},windowTop:function(b,a){var f=h(b,a),d={top:0};d.left=f.windowWidth/2-f.popoverWidth/2;return d},windowFullWidth:function(){return{top:0,left:0}},triggerRight:function(b,a,f){f||(f=h(b,a));a=l(f);
a.left=f.triggerRight;g(b).addClass("a-arrow-right");b.find(".a-arrow-border").css("top",f.popoverHeight/2+a.deltaTop);return a},triggerLeft:function(b,a,f){f||(f=h(b,a));a=l(f);a.left=f.triggerLeft-f.popoverWidth;g(b).addClass("a-arrow-left");b.find(".a-arrow-border").css("top",f.popoverHeight/2+a.deltaTop);return a},triggerTop:function(b,a,f){f||(f=h(b,a));a=k(f);a.top=f.triggerTop-f.popoverHeight;g(b).addClass("a-arrow-top");b.find(".a-arrow-border").css("left",f.popoverWidth/2+a.deltaLeft);return a},
triggerBottom:function(b,a,f){f||(f=h(b,a));a=k(f);a.top=f.triggerBottom;g(b).addClass("a-arrow-bottom");b.find(".a-arrow-border").css("left",f.popoverWidth/2+a.deltaLeft);return a},triggerHorizontal:function(b,a,f){f||(f=h(b,a));return f.triggerLeft-f.windowLeft>f.popoverWidth+e?this.triggerLeft(b,a,f):this.triggerRight(b,a,f)},triggerVertical:function(b,a,f){f=f?f:h(b,a);return f.triggerTop-f.windowTop>f.popoverHeight+e?this.triggerTop(b,a,f):this.triggerBottom(b,a,f)},triggerVerticalAlignLeft:function(b,
a,f){f||(f=h(b,a));var a={},d=0,c=0,i=f.windowBottom-f.triggerBottom;a.left=f.triggerLeft;a.top=i>f.popoverHeight?f.triggerBottom+3:f.triggerTop-f.popoverHeight-3;if(a.left<e)c=Math.min(e,f.triggerLeft-e),d=a.left-c,a.left=c;else if(a.left+f.popoverWidth>f.windowRight-e)c=Math.min(e,f.windowWidth-f.triggerRight+e),d=a.left+f.popoverWidth-(f.windowRight-c),a.left=f.windowRight-c-f.popoverWidth;g(b).addClass(i>f.popoverHeight?"a-arrow-bottom":"a-arrow-top");b.find(".a-arrow-border").css("left",f.triggerWidth/
2+d);return a},customPosition:function(b,a,f){return f.call(this,{$popover:b,$trigger:a,measure:h})}}});P.when("A").register("a-popover-util",function(c){function h(c,g){for(var i=c.children.length;i--;){var e=h(c.children[i],g);if(e)return e}if(g(c))return c}var g=c.$;return{trigger:function(g,h){c.trigger("a:popover:"+g,{popover:h});h.name&&c.trigger("a:popover:"+g+":"+h.name,{popover:h})},addScrollGradient:function(c){if(c.length){var g=c.find(".a-popover-inner"),i=c.find(".a-gradient-up"),e=c.find(".a-gradient-down"),
c=c.find(".a-popover-header"),g=g[0];g.scrollTop<g.scrollHeight-g.offsetHeight?e.show():e.hide();g.scrollTop>40?(c.length&&i.css("top",c.outerHeight(!0)+1+"px"),i.show()):i.hide()}},extractDeclarativeParams:function(c,h){var i=g(c),i=i.hasClass("a-declarative")?i:i.find(".a-declarative").eq(0),e="a-"+h,b=i.length?i.data("action").indexOf(e)!==-1:!1,e=i?i.data(e):null;return b?{attributes:e,$trigger:i}:null},eventOccursWithin:function(c,h){var i=g(c.target);return i.closest(h.$trigger).length>0||i.closest(h.$popover).length>
0},search:h}});P.when("A","a-modal-positions").register("a-modal-variant",function(c,h){var g=document.documentElement.className.indexOf("a-lt-ie8")>-1,l=document.documentElement.className.indexOf("a-lt-ie7")>-1;return c.extend({skin:function(g){var i=g.attrs("header")||"",e=g.attrs("footer"),b=g.attrs("width"),a=g.attrs("height"),g=g.attrs("closeButton")?'<button data-action="a-popover-close" class="a-button-close a-declarative"><i class="a-icon a-icon-close"></i></button>':"",e=e?['<div class="a-popover-footer">',
e,"</div>"].join(""):"",b=b||a?['style="',a?"height:"+a+"px;":"",b?"width:"+b+"px;":"",'"'].join(" "):"";return['<div class="a-modal-scroller"><div class="a-popover a-popover-modal',a&&c.isFiniteNumber(a)?" a-popover-modal-fixed-height":"",'" ',b,'><div class="a-popover-wrapper"><div class="a-popover-header">',g,"<h4>",i,'</h4></div><div class="a-popover-inner"></div>',e,"</div></div></div>"].join("")},updateContent:function(c){typeof c==="string"?this.$popover.find(".a-popover-inner").html(c):c&&
this.$popover.find(".a-popover-inner").html("").append(c)},getContent:function(){return this.$popover.find(".a-popover-inner")},showMethod:function(){var g=this,i=g.$popover;!l&&g.attrs("strategy")!=="ajax"?(i.css({opacity:0,visibility:"visible"}),c.delay(function(){c.animate(i,{opacity:1},500,"linear")},0)):c.delay(function(){g.$popover.css({visibility:"visible"})},0)},hideMethod:function(){g?this.$popover.hide().css("visibility","hidden").find(".a-lgtbox-vertical-scroll").removeClass("a-lgtbox-vertical-scroll"):
c.fadeOut(this.$popover,250,"linear")}},c.capabilities.mobile||c.capabilities.tablet||c.capabilities.touch||l?h.innerScroll:h.modalScroll)});P.when("A").register("a-modal-positions",function(c){function h(c){var h=c.$popover.closest(".a-modal-scroller");h.show().scrollTop(0).css({visibility:"visible"});h.bind("scroll",function(){c.updateChildrenPosition()})}return{innerScroll:{positionStrategy:function(g){var h=g.$popover,k={},g=g.measure(h,g.$trigger),i=c.viewport().height,e=i*0.8,b=h.find(".a-popover-inner");
k.left=(g.windowWidth-g.popoverWidth)/2;g.popoverHeight>e?(h=b.outerHeight(!0),i*=0.1,b.css({"overflow-y":"auto",height:e-(g.popoverHeight-h)+"px"}),k.top=i):k.top=(g.windowHeight-g.popoverHeight)/2;c.delay(function(){b.scrollTop(0)},0);return k},beforeShowMethod:c.constants.NOOP,beforeHideMethod:c.constants.NOOP},modalScroll:{positionStrategy:function(g){var h=g.$popover,k=g.$trigger,i=h.closest(".a-modal-scroller"),e={},b=c.viewport().height,a=b*0.1;b*=0.8;g=g.measure(h,k);e.left=(g.windowWidth-
h.width())/2;h.outerHeight(!0)>b?i.length?(e.top=0,h.css({position:"static",margin:a+"px 0 "+a+"px "+e.left+"px"}),i.css("padding-bottom","1px")):e.top=a:(e.top=(g.windowHeight-g.popoverHeight)/2,i.length&&(h.css({position:"absolute",margin:"0px"}),i.css("padding-bottom","0px")));return e},beforeShowMethod:function(){h(this)},beforeHideMethod:function(){var c=this.$popover,h=c.closest(".a-modal-scroller");c.css("padding","");h.hide().css("visibility","hidden").unbind("scroll")}}}});P.when("A","a-popover-base-factory",
"a-modal-variant","a-popover-util").register("a-modal-factory",function(c,h,g,l){function k(b,a){a={type:i,alone:!0,immersive:!0,position:"windowCenter",header:a.header,footer:a.footer,width:a.width,height:a.height,closeButton:a.closeButton==="false"||a.closeButton===!1?!1:!0,timeout:a.timeout,lightboxOptions:{lockScroll:!0,showDuration:e?0:null},data:a.data||{},url:a.url,ajaxFailMsg:a.ajaxFailMsg,cache:a.cache==="false"||a.cache===!1?!1:!0,content:a.content,name:a.name};return h.create(b,{attributes:a,
variant:g,actionCheck:!0})}var i="modal",e=document.documentElement.className.indexOf("a-lt-ie9")>-1;return{type:i,create:k,get:function(b){var a=h.get(b,i);!a&&typeof b==="object"&&(b=l.extractDeclarativeParams(b,i))&&(a=k(b.$trigger,b.attributes||{}));return a},remove:function(b){return h.remove(b,i)}}});P.when("A","a-popover-base-factory","a-modal-factory").register("a-modal-handlers",function(c,h,g){var l=c.$;c.declarative("a-modal","click",function(c){g.get(c.$declarativeParent).show();c.$event.preventDefault()});
l(document).keydown(function(g){if(g.keyCode===c.constants.keycodes.ESCAPE)for(var g=h.getRoot(),i=g.children.length,e=!1;i--&&!e;){var b=g.children[i];b.type==="modal"&&b.isActive()&&(b.unlock().hide(),e=!0)}});l(document).delegate(".a-modal-scroller","click touchstart touchmove",function(c){c.target===this&&c.preventDefault()});return null});P.when("A","a-popover-base","a-modal-factory","a-modal-handlers").register("a-modal",function(c,h,g){return g});P.when("A").register("a-popover-variant",function(c){return{skin:function(c){var g=
c.attrs("header"),l=c.attrs("width"),k=c.attrs("height"),c=c.attrs("closeButton")?'<button data-action="a-popover-close" class="a-button-close a-declarative"><i class="a-icon a-icon-close"></i></button>':"",g=g&&g!==""?['<div class="a-popover-header">',c,"<h4>"+g+"</h4>","</div>"].join("\n"):"";return['<div class="a-popover a-declarative" data-action="a-popover-container"',l||k?['style="',k?"height:"+k+"px;":"",l?"width:"+l+"px; max-width:none;":"",'"'].join(" "):"",'><div class="a-popover-wrapper">',
g,'<div class="a-popover-inner">',g===""?c:"",'<div class="a-popover-content"></div></div><div class="a-arrow-border"><div class="a-arrow"></div></div></div></div>'].join("")},updateContent:function(c){typeof c==="string"?this.$popover.find(".a-popover-content").html(c):c&&this.$popover.find(".a-popover-content").html("").append(c)},getContent:function(){return this.$popover.find(".a-popover-content")},hideMethod:function(){c.fadeOut(this.$popover,250,"linear")}}});P.when("A","a-popover-base-factory",
"a-popover-variant","a-popover-util").register("a-popover-factory",function(c,h,g,l){function k(c,b){b={type:i,alone:!0,header:b.header,width:b.width,height:b.height,closeButton:b.closeButton==="false"||b.closeButton===!1?!1:!0,position:b.position||"triggerVertical",activate:b.activate||"onmouseover",timeout:b.timeout,data:b.data||{},url:b.url,ajaxFailMsg:b.ajaxFailMsg,cache:b.cache==="false"||b.cache===!1?!1:!0,content:b.content,name:b.name};return h.create(c,{attributes:b,variant:g,actionCheck:!0})}
var i="popover";return{type:i,create:k,get:function(c){var b=h.get(c,i);!b&&typeof c==="object"&&(c=l.extractDeclarativeParams(c,i))&&(b=k(c.$trigger,c.attributes||{}));return b},remove:function(c){return h.remove(c,i)}}});P.when("A","a-popover-factory").register("a-popover-handlers",function(c,h){function g(a){if(a&&!a.destroyTimer)a.destroyTimer=c.delay(function(){a.hide()},250)}function l(a){if(a)clearTimeout(a.destroyTimer),a.destroyTimer=null,clearTimeout(a.parent.destroyTimer),a.parent.destroyTimer=
null}var k=c.$,i=2,e=200,i=2,e=200;c.declarative("a-popover","click",function(a){var b=h.get(a.$declarativeParent);b&&b.attrs("activate")==="onclick"&&(b.show(),a.$event.preventDefault())});var b;c.declarative("a-popover","mouseenter",function(a){var f=h.get(a.$declarativeParent);f&&f.attrs("activate")==="onmouseover"&&(l(f),b=c.delay(function(){h.get(a.$declarativeParent).show()},e))});c.declarative("a-popover","mousemove",function(a){c.cursor().speed<i&&(a=h.get(a.$declarativeParent))&&a.attrs("activate")===
"onmouseover"&&a.show()});c.declarative("a-popover","mouseleave",function(a){if((a=h.get(a.$declarativeParent))&&a.attrs("activate")==="onmouseover")a&&g(a),b&&clearTimeout(b)});c.declarative("a-popover-container","mouseenter",function(a){(a=h.get(a.$declarativeParent))&&a.attrs("activate")==="onmouseover"&&l(a)});c.declarative("a-popover-container","mouseleave",function(a){var b=h.get(a.$declarativeParent),d=!0,e=k(a.$event.relatedTarget);b&&b.attrs("activate")==="onmouseover"&&b.isActive()&&(c.each(b.children,
function(a){if(e.closest(a.$popover).length)return d=!1}),d&&(g(b),!b.parent.immersive&&e.closest(b.parent.$popover).length===0&&g(b.parent)))});return null});P.when("A","a-popover-base","a-popover-factory","a-popover-handlers").register("a-popover",function(c,h,g){return g});P.when("A","a-popover-base-factory","a-secondary-view-variant","p-detect","a-popover-util").register("a-secondary-view-factory",function(c,h,g,l,k){function i(c,d){d.disableAnimation=d.disableAnimation||a;return h.create(c,{attributes:{type:b,
immersive:!0,disableAnimation:d.disableAnimation,animationLength:d.disableAnimation?0:300,alternateBackground:d.alternateBackground||!1,hideHeader:d.hideHeader||!1,scrollable:d.scrollable||!0,header:d.header,position:"windowFullWidth",timeout:d.timeout,content:d.content,url:d.url,name:d.name,data:d.data||{}},variant:g,actionCheck:!0})}var e=c.$,b="secondary-view",a=navigator.userAgent.match(/Android\s[12]/);return{type:b,create:i,get:function(a){var d=h.get(a,b);if(!d&&typeof a==="object"){var c=
k.extractDeclarativeParams(a,b);c&&(d=i(c.$trigger,c.attributes||{}))}if(d&&typeof a==="object")a=e(a),a=a.hasClass("a-declarative")?a:a.find(".a-declarative").eq(0),c="a-"+b,a=a?a.data(c):null,d.data=a.data;return d},remove:function(a){return h.remove(a,b)}}});P.when("A","a-popover-base","a-secondary-view-factory","a-secondary-view-handlers").register("a-secondary-view",function(c,h,g){return g});P.when("A").register("a-tooltip-variant",function(c){return{skin:function(){return'<div class="a-popover a-tooltip a-declarative" data-action="a-popover-close"><div class="a-tooltip-inner"></div><div class="a-arrow-border"><div class="a-arrow"></div></div></div>'},
updateContent:function(c){this.$popover.find(".a-tooltip-inner").html(c)},getContent:function(){return this.$popover.find(".a-tooltip-inner")},hideMethod:function(){c.fadeOut(this.$popover,250,"linear")}}});P.when("A","a-popover-base-factory","a-tooltip-variant","a-popover-util").register("a-tooltip-factory",function(c,h,g,l){function k(c,b){b={type:i,content:b.content,position:b.position||"triggerVertical",activate:b.activate||"onmouseover"};return h.create(c,{attributes:b,variant:g,actionCheck:!0})}
var i="tooltip";return{type:i,create:k,get:function(c){var b=h.get(c,i);!b&&typeof c==="object"&&(c=l.extractDeclarativeParams(c,i))&&(b=k(c.$trigger,c.attributes||{}));return b},remove:function(c){return h.remove(c,i)}}});P.when("A","a-tooltip-factory").register("a-tooltip-handlers",function(c,h){c.declarative("a-tooltip","click",function(c){var l=h.get(c.$declarativeParent);l&&l.attrs("activate")==="onclick"&&(l.show(),c.$event.preventDefault())});c.declarative("a-tooltip","mouseenter",function(c){if((c=
h.get(c.$declarativeParent))&&c.attrs("activate")==="onmouseover")if(c.show(),c.destroyTimer)clearTimeout(c.destroyTimer),c.destroyTimer=null});c.declarative("a-tooltip","mouseleave",function(g){var l=h.get(g.$declarativeParent);if(l&&l.attrs("activate")==="onmouseover")l.destroyTimer=c.delay(function(){l.hide()},125)});return null});P.when("A","a-popover-base","a-tooltip-factory","a-tooltip-variant").register("a-tooltip",function(c,h,g){return g})});
P.execute(function(){P.when("A").register("a-tabs",function(c){var h=c.$;c.declarative("a-tabs",["click"],function(g){var l=g.$target.closest("li"),k=g.data.name,i=l.data("a-tab-name"),e=l.closest(".a-tab-container").find(".a-box-tab");i&&(h("li.a-active",l.closest(".a-tabs")).removeClass("a-active"),l.closest("li").addClass("a-active"),e.addClass("a-hidden"),e.filter('[data-a-name="'+i+'"]').removeClass("a-hidden"),l={$tab:l,tabName:i,tabSetName:k},c.trigger("a:tabs:"+k+":select",{selectedTab:l}),
c.trigger("a:tabs:"+k+":"+i+":select",{selectedTab:l}),g.$event.preventDefault())})});P.when("A").register("a-accordion",function(c){c.declarative("a-accordion",["click"],function(h){var g=h.$target.closest(".a-accordion"),l=h.$target.closest(".a-box"),k=g.find(".a-box").not(l),i=g.data("a-accordion-name"),e=l.data("a-accordion-row-name"),g=g.hasClass("a-accordion-collapse");if(e){var b=l.find(".a-accordion-inner"),a=!0;b.is(":hidden")?(k.removeClass("a-accordion-active").find(".a-accordion-inner").attr("aria-expanded",
"false").hide(),l.addClass("a-accordion-active"),b.attr("aria-expanded","true").show(),k.find(".a-icon.a-accordion-radio").removeClass("a-icon-radio-active").addClass("a-icon-radio-inactive"),l.find(".a-icon.a-accordion-radio").removeClass("a-icon-radio-inactive").addClass("a-icon-radio-active")):g?(l.removeClass("a-accordion-active").attr("aria-expanded","false"),b.hide(),l.find(".a-icon.a-accordion-radio").removeClass("a-icon-radio-active").addClass("a-icon-radio-inactive")):a=!1;a&&(l={$row:l,
rowName:e,accordionName:i},c.trigger("a:accordion:"+i+":select",{selectedRow:l}),c.trigger("a:accordion:"+i+":"+e+":select",{selectedRow:l}));h.targetTag==="a"&&h.$target.has(".a-icon.a-accordion-radio")&&h.$event.preventDefault()}})});P.when("A","jQuery").register("a-expander",function(c,h){var g,l,k;function i(a,b){var c=a.closest("."+g),e=c.data("a-expander-collapsed-height"),i=a.attr("aria-expanded")==="true";a.toggleClass(l+"-expanded");e?(c.css("height",i?e:"auto"),a.attr("aria-expanded",i?
"false":"true"),b()):a.toggle(0,function(){a.attr("aria-expanded",i?"false":"true");b()})}function e(){h(".a-expander-container").each(function(){var a=h(this);if(a.hasClass("a-expander-partial-collapse-container")){var b=a.children("."+l),c=a.data("a-expander-collapsed-height"),e=a.children("."+k);b.height()<=c?e.css({opacity:"0",display:"none"}):(e.css({opacity:"1",display:"block"}),b.css("padding-bottom",e.height()),b.attr("aria-expanded")!=="true"&&a.css({height:c,"max-height":"none"}))}})}var b=
{inline:{expand:"a-icon-expand",collapse:"a-icon-collapse"},section:{expand:"a-icon-section-expand",collapse:"a-icon-section-collapse"},extender:{expand:"a-icon-extender-expand",collapse:"a-icon-extender-collapse"}};g="a-expander-container";l="a-expander-content";k="a-expander-header";var a={};c.each(b,function(b,d){a[d]={};c.each(b,function(b,c){a[d][c]=RegExp("\\b"+b+"\\b","g")})});c.declarative("a-expander-toggle","click",function(f){var d=f.$target.closest("."+g),e=d.find("."+g),h=d.data("a-expander-name"),
r;r=f.$currentTarget.hasClass(k)?f.$currentTarget:d.find("."+k).not(e.find("."+k));var q=d.find("."+l).not(e.find("."+l));i(q,function(){var g=r.find(".a-icon")[0],i=null,k=r.children(".a-expander-content-fade");if(q.attr("aria-expanded")==="false"){if(g)g.className=g.className.replace(a.inline.collapse,b.inline.expand).replace(a.section.collapse,b.section.expand).replace(a.extender.collapse,b.extender.expand);f.data&&f.data.expand_prompt&&(i=f.data.expand_prompt);k.show();g="collapse"}else{if(g)g.className=
g.className.replace(a.inline.expand,b.inline.collapse).replace(a.section.expand,b.section.collapse).replace(a.extender.expand,b.extender.collapse);f.data&&f.data.collapse_prompt&&(i=f.data.collapse_prompt);k.hide();g="expand"}i&&i!==""&&r.find(".a-expander-prompt").not(e.find(".a-expander-prompt")).html(i);h&&(i={$expander:d,expanderName:h},c.trigger("a:expander:"+h+":toggle",{expander:i}),c.trigger("a:expander:"+h+":toggle:"+g,{expander:i}))})});c.on("ready resize orientationchange",e);return{initializeExpanders:e}});
P.when("A","ready").register("a-form-controls",function(c){function h(c,e){var b=c.find("input"),a=c.find(".a-icon");b.attr("checked",!b[0].checked).trigger("change");a.toggleClass(k[e].active).toggleClass(k[e].inactive)}var g=c.$,l=g(document),k={"multi-select":{active:"a-icon-touch-multi-select-active",inactive:"a-icon-touch-multi-select"},checkbox:{active:"a-icon-touch-checkbox-active",inactive:"a-icon-touch-checkbox-inactive"}};l.delegate("label.a-touch-radio","click",function(c){var e=g(this),
b=e.find("input"),a=b[0].name,e=e.find("i.a-icon"),f=b.closest("form");f.length===0&&(f=b.closest("fieldset"),f.length===0&&(f=l));var d=f.find('i[data-a-input-name="'+a+'"]');f.find('input[name="'+a+'"]').attr("checked",!1);d.addClass("a-icon-touch-radio-inactive").removeClass("a-icon-touch-radio-active");e.addClass("a-icon-touch-radio-active").removeClass("a-icon-touch-radio-inactive");b.attr("checked",!0).trigger("change");c.preventDefault()}).delegate("label.a-touch-checkbox","click",function(c){h(g(this),
"checkbox");c.preventDefault()}).delegate("label.a-touch-multi-select","click",function(c){h(g(this),"multi-select");c.preventDefault()}).delegate("select.a-touch-select-input","change",function(c){var e=g(this),b=e.siblings("a.a-placeholder"),e=e.find(":selected").text();b.html(e);c.preventDefault()})});P.when("A","jQuery").register("a-buttons",function(c){c.declarative("a-button-group",["click"],function(h){var g=h.$target.closest(".a-button:not(.a-button-disabled)");if(g.length){var l=h.$declarativeParent.find(".a-button"),
k=h.data&&h.data.name?h.data.name:!1,h=h.$target.attr("name");l.removeClass("a-button-selected");g.addClass("a-button-selected");if(h||k)g={$button:g,buttonName:h,buttonGroupName:k},k&&(c.trigger("a:button-group:"+k+":toggle",{selectedButton:g}),h&&c.trigger("a:button-group:"+k+":"+h+":toggle",{selectedButton:g}))}})});P.when("a-switch-framework","jQuery").register("a-switch",function(c,h){var g=c.SWITCH_STATE,l=c.SWITCH_CONTAINER_CLASS,k=c.SWITCH_CLASS;return{getSwitch:function(i){function e(f){var d=
a.data(g);if(f===void 0)return d.isOn;if(!d.isEnabled||b(a))return!1;c.setOnState(a,f);return!0}function b(){return a.data(g).isDragging}i.jquery||(i=h(i));if(i.length===0)return null;i=i.eq(0);i=i.closest("."+l);if(i.length===0)return null;var a=i.children("."+k);c.ensureInitialized(a);return{toggle:function(){return e(!a.data(g).isOn)},isOn:e,enabled:function(b){var d=a.data(g);if(b===void 0)return d.isEnabled;if(d.isEnabled===b)return!1;c.setEnabled(a,b);return!0},isDragging:b,label:function(b){var c=
a.data(g).label;if(b===void 0)return c.text();c.text(b)}}}}});P.when("A","jQuery").register("a-switch-framework",function(c,h){function g(a){a.preventDefault();var b=a.data.$switch.data(f),d=b.control;if(!c.isAnimated(d)){a=u(a)-b.initialX;b.isOn&&(a+=b.rightBoundary);var e=b.leftBoundary,j=b.rightBoundary;a<e?a=e:a>j&&(a=j);if(a!==b.leftOffset)c.animate(d,{left:a},0),b.leftOffset=a,b.isDragging=!0,b.dragCount++}}function l(a){a.preventDefault();if(c.capabilities.touch||a.which===1){var a=a.data.$switch,
b=a.data(f);i(a,b.isDragging&&b.dragCount>1?b.leftOffset>b.midPoint:!b.isOn);b.isDragging=!1;v(a)}}function k(a){if(!a.data(f)){var b=a.siblings("input"),c=a.closest("."+d),e=a.children("."+j),g=a.siblings("."+n),h=b.attr("name"),i=c.hasClass("a-active"),k=!c.hasClass("a-disabled"),l=a.width()-e.width()-1;a.data(f,{input:b,container:c,control:e,label:g,isDragging:!1,rightBoundary:l,leftBoundary:-1,midPoint:l/2,initialX:null,leftOffset:i?l:-1,isOn:i,isEnabled:k,name:h,dragCount:0})}}function i(d,j){var g=
d.data(f),h=j!==g.isOn;g.isOn=j;var i=g.isOn?g.rightBoundary:g.leftBoundary;c.animate(g.control,{left:i},b,a);g.leftOffset=i;i=g.container;g.isOn?i.addClass("a-active"):i.removeClass("a-active");i=g.input;g.isOn?i.attr("checked","checked"):i.removeAttr("checked");h&&e(g,"flip");j?e(g,"on"):e(g,"off")}function e(a,b){var d=a.name?a.name:!1;c.trigger("a:switch:"+b);c.trigger("a:switch:"+d+":"+b)}var b=300,a="ease-out",f="a-switch-state",d="a-switch-row",j="a-switch-control",n="a-switch-label",r=function(a){a.bind("touchmove.a-switch-component",
{$switch:a},g);a.bind("touchend.a-switch-component",{$switch:a},l);a.bind("touchcancel.a-switch-component",{$switch:a},l);a.bind("mouseup.a-switch-component",{$switch:a},l)},q=function(a){a.unbind("touchmove.a-switch-component");a.unbind("touchend.a-switch-component");a.unbind("touchcancel.a-switch-component");a.unbind("mouseup.a-switch-component")},m=function(a){return(a.originalEvent.touches[0]||a.originalEvent.changedTouches[0]).pageX},t=function(a){h("body").bind("mousemove.a-switch-component",
{$switch:a},g);h("body").bind("mouseup.a-switch-component",{$switch:a},l)},o=function(){h("body").unbind("mousemove.a-switch-component",g);h("body").unbind("mouseup.a-switch-component",l)},p=function(a){return a.pageX},s=null,v=null,u=null;c.capabilities.touch?(s=r,v=q,u=m):(s=t,v=o,u=p);c.declarative("a-switch",c.capabilities.touch?"touchstart":"mousedown",function(a){var b=a.$event;b.preventDefault();if(c.capabilities.touch||b.which===1){a=a.$declarativeParent;k(a);var d=a.data(f);d.dragCount=0;
d.isDragging=!1;if(d.isEnabled)d.initialX=u(b),s(a)}});c.declarative("a-switch-label","click",function(a){a.$event.preventDefault();a=a.$target.siblings(".a-switch");k(a);var b=a.data(f);i(a,!b.isOn)});return{ensureInitialized:k,setOnState:i,setEnabled:function(a,b){var c=a.data(f),d=c.container;b?d.removeClass("a-disabled"):d.addClass("a-disabled");c.isEnabled=b},SWITCH_STATE:f,SWITCH_CONTAINER_CLASS:d,SWITCH_CLASS:"a-switch"}})});P.execute(function(){});
P.execute(function(){P.register("a-carousel-utils",function(){function c(c){return typeof c==="string"}function h(c){return c&&c.nodeType!==void 0}function g(k){return!k?null:c(k)||h(k)?k:g(k.content)}function l(g){if(g)c(g)||h(g)?g=!0:g.content=l(g.content);return g}return{isString:c,isElement:h,getElementFromItem:g,clearElementFromItem:l,addElementToDom:function(g,i){i&&(c(i)?g.html(i):h(i)&&g.empty().append(i),i!==!0&&g.removeClass("a-carousel-card-empty"))}}});P.when("A","jQuery").register("a-carousel-measure",
function(c,h){return function(g){function l(g,e,b){var a,f,d,j;e.jquery||(e=h(e));for(c.each(b,function(a){if(a==="top"||a==="left")return f=e.offset(),!1});(a=b.pop())!==void 0;)d=g[a],g[a]=a==="left"||a==="top"?f[a]:a.indexOf("outer")>-1?e[a](!0):e[a](),g[a]!==d&&(j===void 0&&(j={}),j[a]=d);return j}var k={carousel:{height:0,width:0,outerHeight:0,outerWidth:0},viewport:{height:0,width:0,outerHeight:0,outerWidth:0},items:[],getFirstCardWidth:function(){return this.items[0]===void 0||!c.isFiniteNumber(this.items[0].width)?
160:this.items[0].width}};g.measure=function(g){var e=this.dom.$carousel,b=this.dom.$viewport,a={};g&&(g=g.split(" "));if(!g||c.indexOfArray(g,"carousel")>-1)a.carousel=l(k.carousel,e,"top,left,height,width,outerHeight,outerWidth".split(","));if(!g||c.indexOfArray(g,"viewport")>-1)a.viewport=l(k.viewport,b,["height","width","outerHeight","outerWidth"]);if(!g||c.indexOfArray(g,"items")>-1)k.items=[],a.items={},e.children("li").each(function(b,c){k.items[b]={};var e=l(k.items[b],c,"top,left,height,width,outerHeight,outerWidth".split(","));
e!==void 0&&(a.items[b]=e)});return a};g.getItemOffset=function(c){var e=k.items;c--;if(e&&e.length){if(c<e.length){for(var b=0,a=e[0].outerWidth,f=0;f<c;f++)b+=e[f]?e[f].outerWidth:a;return b}}else return 0};g.getDimensions=function(){return c.copy(k)};g.updateDimensionsCache=function(g){c.extend(k,g)}}});P.when("A","jQuery").register("a-carousel-attributes",function(c,h){return function(g,l){var k={},i={},e={};c.extend(k,l);g.onChange=function(b,a){for(var c=b.split(" "),d=c.length,e;d--;)e=c[d],
i[e]||(i[e]=[]),h.isFunction(a)&&i[e].push(a)};g.unbind=function(b,a){if(i[b]&&a){var f=c.indexOfArray(i[b],a);i[b].splice(f,1)}};g.setAttr=function(b,a,f){var d=k[b];k[b]=a;if(!f&&!c.equals(a,d)&&!e[b]){e[b]=!0;if(i[b])for(var f=0,j=i[b].length;f<j;f++)if(h.isFunction(i[b][f]))i[b][f](c.copy(a),c.copy(d),g);k.name&&c.trigger("a:carousel:"+k.name+":change:"+b,{newValue:a,oldValue:d,carousel:g});e[b]=!1}};g.getAttr=function(b){return c.copy(k[b])}}});P.when("A","jQuery","a-carousel-measure","a-carousel-attributes",
"a-carousel-strategies").register("a-carousel-base",function(c,h,g,l,k){function i(c){c.onChange(a,function(a,d){var e=c.getAttr(f),g=Math.ceil(e/a);g===1&&e>1?g=2:g<1&&(g=1);c.setAttr("pageNumber",g);c.setAttr(b,Math.ceil(c.getAttr("set_size")/a));e=c.getAttr("ajax");a>d&&(e&&e.prefetch_next_page?c.strategies.ajax.wantNextPage(c):c.strategies.ajax.wantCurrentPage(c))});c.onChange("set_size",function(e,f){var g=c.getAttr(a),h=c.getAttr(d);c.setAttr(b,Math.ceil(e/g));e<f?(h.splice(e,Number.MAX_VALUE),
c.setAttr(d,h)):c.strategies.ajax.wantCurrentPage&&c.strategies.ajax.wantCurrentPage(c)});c.onChange(f,function(a){c.dom.$container.find("input[name='firstVisibleItem']").val(a)});c.onChange("pageNumber",function(a){a>0&&a<=c.getAttr(b)&&c.setAttr("currentlyWrapping",!1)})}function e(a,b,d){if(arguments.length!==0){a.jquery||(a=h(a));this.dom={$container:a,$viewport:a.hasClass("a-carousel-viewport")?a:a.find(".a-carousel-viewport"),$carousel:a.find(".a-carousel")};var e={totalPages:1E3,pageNumber:1,
pageSize:0,firstVisibleItem:1,maintain_state:!0,px:0,ajax:{}};c.extend(e,d);e.maintain_state=!!e.maintain_state;if(e.id_list){if(!e.set_size)e.set_size=e.id_list.length}else e.id_list=[];if(!e.set_size){var f=this.dom.$carousel.children("li"),i=parseInt(f.first().attr("aria-setsize"),10);e.set_size=c.isFiniteNumber(i)&&i>0?i:f.length}var k=[];this.dom.$carousel.children("li").each(function(a,b){h(b).attr({"aria-posinset":a+1,"aria-setsize":i});k.push(b.innerHTML)});e.fetchedItems=k;g(this);l(this,
e);this.strategies=b;return this}}var b="totalPages",a="pageSize",f="firstVisibleItem",d="fetchedItems";c.each(k,function(a,b){e.prototype["set"+b.charAt(0).toUpperCase()+b.slice(1)+"Strategy"]=function(a){this.strategies[name]=a;typeof a.init==="function"&&a.init(this)}});k=e.prototype;k.gotoNextPage=function(a){this.getAttr("transitionPaused")||this.strategies.transition.gotoNextPage(this,a)};k.gotoPrevPage=function(a){this.getAttr("transitionPaused")||this.strategies.transition.gotoPrevPage(this,
a)};k.gotoPage=function(a,b){this.getAttr("transitionPaused")||this.strategies.transition.gotoPage(this,a,b)};k.gotoIndex=function(a,b){this.getAttr("transitionPaused")||this.strategies.transition.gotoIndex(this,a,b)};k.gotoPixel=function(a,b){this.getAttr("transitionPaused")||this.strategies.transition.gotoPixel(this,a,b)};k.resize=function(){this.strategies.display.resize(this,this.measure("carousel viewport"))};k.pause=function(){this.setAttr("transitionPaused",!0)};k.resume=function(){this.setAttr("transitionPaused",
!1)};k.triggerEvent=function(a,b){b=b||{};b.carousel=this;c.trigger("a:carousel:"+a,b);var d=this.getAttr("name");d&&c.trigger("a:carousel:"+d+":"+a,b)};k.getStaticLoader=function(){return""};k.getEmptyCard=function(a,b){return['<li class="a-carousel-card a-carousel-card-empty" role="listitem" aria-setsize="',b,'" aria-posinset="',a,'">',this.getStaticLoader(),"</li>"].join("")};k.init=function(){for(var d=this,e=d.strategies,g=d.dom.$carousel[0],h=g.childNodes,k=h.length;k--;)h[k].tagName&&h[k].tagName.toLowerCase()===
"li"||g.removeChild(h[k]);if(d.getAttr("set_size")<1)return e.ajax.init(d),!1;d.measure();c.each(d.strategies,function(a){a.init(d)});e=d.getAttr(a);k=d.getAttr("set_size");e=Math.ceil(k/e);d.setAttr(b,e);i(d);d.triggerEvent("init");c.each(d.strategies,function(a){a.afterInit&&a.afterInit(d)});d.triggerEvent("afterInit");e=d.getAttr(f);if(e===1&&d.getAttr("maintain_state")&&(e=parseInt(d.dom.$container.find("input[name='firstVisibleItem']").val(),10),!c.isFiniteNumber(e)||!(e>0&&e<=k)))e=1;if(e>1){g=
700;h=Math.ceil(e/d.getAttr(a));for(k=2;k<h;k++)g+=700/k;d.gotoIndex(e,{animationDuration:g,easingFunction:"ease"})}return!0};return e});P.when("A","jQuery","a-carousel-base").register("a-carousel-mobile",function(c,h,g){function l(c){var b=c.getAttr("loaderHeight");b||((b=c.getAttr("maxHeight"))?(b*=0.9,b=Math.min(b,90),b=Math.max(b,120)):b=90,c.setAttr("loaderHeight",b));return b}function k(e,b,a){g.call(this,e,b,a);if(arguments.length!==0)return this.getAttr("circular")===i&&this.setAttr("circular",
!1),this.getAttr("show_partial_next")===i&&this.setAttr("show_partial_next",!0),this.getAttr("hide_off_screen")===i&&this.setAttr("hide_off_screen",!1),this.getAttr("springiness")===i&&this.setAttr("springiness",0.8),this.getAttr("touch_easing")===i&&this.setAttr("touch_easing","cubic-bezier(0.215, 0.610, 0.355, 1.000)"),this.init=function(){var a=this;return g.prototype.init.call(a)?(a.dom.$carousel.children("li").children(".a-loading-static").css("height",l(a)+"px"),c.capabilities.touch&&a.getAttr("transitionStrategy")!==
"none"&&P.when("a-touch").execute(function(){a.dom.$viewport.addClass("a-gesture a-gesture-horizontal").bind("swipe-horizontal",function(b,c){if(!a.getAttr("transitionPaused")&&a.strategies.transition.onSwipe)a.strategies.transition.onSwipe(a,c)}).bind("pan-horizontal",function(b,c){if(!a.getAttr("transitionPaused")&&a.strategies.transition.onPan)a.strategies.transition.onPan(a,c)})}),!0):!1},this}var i;k.prototype=new g;k.prototype.constructor=k;k.prototype.getStaticLoader=function(){return'<div class="a-loading-static" style="height:'+
l(this)+'px"><div class="a-loading-static-inner"></div></div>'};return k});P.when("A","jQuery","a-carousel-base").register("a-carousel-desktop",function(c,h,g){function l(b){var a=b.getAttr("set_size")<=b.getAttr("pageSize"),c=b.getAttr("transitionStrategy")==="none";b.getAttr("totalPages")===1&&b.getAttr(e)>1&&b.gotoPage(1,{startover:!0,animationDuration:0});b.dom.$container.find(".a-carousel-left, .a-carousel-right, .a-carousel-pagination").css("visibility",a||c?"hidden":"visible")}function k(b,
a,f){g.call(this,b,a,f);if(arguments.length!==0){var d=this;d.getAttr("circular")===i&&this.setAttr("circular",!0);d.getAttr("hide_off_screen")===i&&this.setAttr("hide_off_screen",!0);d.onChange("totalPages",function(a){d.dom.$container.find(".a-carousel-page-max").html(a);a<d.getAttr(e)&&d.gotoPage(a)});d.onChange(e,function(a){var b=d.dom.$container,c=b.find(".a-carousel-restart-container");a>1?c.show():c.hide();b.find(".a-carousel-page-current").html(a)});d.init=function(){var a=this;if(g.prototype.init.call(a)){l(this);
a.onChange("pageSize set_size",function(){l(a)});a.getAttr(e)<2&&a.dom.$container.find(".a-carousel-restart-container").hide();var b=a.dom.$container.find(".a-carousel-button");if(b.length){var d=b.eq(0).position().top+"px";b.css("top",d)}var f=!1;a.dom.$container.delegate(".a-carousel-goto-nextpage","click dblclick",function(b){f||(f=!0,b.preventDefault(),a.gotoNextPage(),c.delay(function(){f=!1},5))}).delegate(".a-carousel-goto-prevpage","click dblclick",function(b){f||(f=!0,b.preventDefault(),
a.gotoPrevPage(),c.delay(function(){f=!1},5))}).delegate(".a-carousel-goto-nextpage","keydown",function(b){if(b.which===c.constants.keycodes.ENTER||b.which===c.constants.keycodes.SPACE)b.preventDefault(),a.gotoNextPage(),a.dom.$viewport.focus()}).delegate(".a-carousel-goto-prevpage","keydown",function(b){if(b.which===c.constants.keycodes.ENTER||b.which===c.constants.keycodes.SPACE)b.preventDefault(),a.gotoPrevPage(),a.dom.$viewport.focus()}).delegate(".a-carousel-restart","click",function(b){b.preventDefault();
b={};a.getAttr(e)>5?b.animationDuration=1250:b.animationSpeed=a.getDimensions().viewport.width*5;a.gotoPage(1,b)});a.dom.$container.find(".a-carousel-page-max").html(this.getAttr("totalPages"));c.capabilities.touch&&a.getAttr("transitionStrategy")!=="none"&&P.when("a-touch").execute(function(){a.dom.$viewport.addClass("a-gesture a-gesture-horizontal").bind("swipe-horizontal",function(b,c){if(a.strategies.transition.onSwipe)a.strategies.transition.onSwipe(a,c)}).bind("pan-horizontal",function(b,c){if(a.strategies.transition.onPan)a.strategies.transition.onPan(a,
c)})});return!0}else return!1};return d}}var i,e="pageNumber";k.prototype=new g;return k.prototype.constructor=k});P.when("A","a-carousel-desktop","a-carousel-mobile").register("a-carousel-classes",function(c,h,g){return{desktop:h,mobile:g,"default":c.capabilities.mobile||c.capabilities.tablet?"mobile":"desktop"}});P.when("A","jQuery","p-detect").register("a-carousel-stretchygoodness",function(c,h){function g(a,b,d){a.getAttr(i)&&(b-=d/5);var f=a.getAttr(e),a=a.getAttr("set_size"),b=Math.max(Math.floor(b/
(d+f)),1),b=c.isFiniteNumber(b)?b:1;a&&b>a&&(b=a);return b}function l(e){if(e.getAttr(n)){var g=function(a){a||(l(e),e.unbind(n,g))};e.onChange(n,g)}else{var j=e.getAttr(d),h=e.getDimensions();if(!j||!c.isFiniteNumber(j))j=1;var k=j,r=e.getAttr(b),v=r*(e.getAttr(a)-1),r=v+r-1,h=h.items,u=h.length,x;for(e.getAttr(i)&&r++;v<=r&&v<u;v++)if((x=h[v])&&x.outerHeight>k)k=h[v].height;k>j&&(e.updateDimensionsCache({viewport:{height:k,outerHeight:k}}),e.setAttr(d,k),j===1?e.dom.$viewport.height(k):c.animate(e.dom.$viewport,
{height:k},e.getAttr(f),"linear"))}}function k(c){c.onChange(a,function(){c.getAttr(r)&&c.dom.$carousel.children("li").css("visibility","visible")});c.onChange(b,function(a,b){a>b&&l(c)});c.onChange("loading",function(a){a||l(c)});c.onChange(j,function(){l(c)});c.onChange(n,function(a){if(!a&&c.getAttr(r)){var d=c.getAttr(j)-1,e=d+c.getAttr(b)-1;c.getAttr(i)&&e++;c.dom.$carousel.children("li").each(function(a,b){var c=a>=d&&a<=e;h(b).css("visibility",c?"visible":"hidden").attr("aria-hidden",c?"false":
"true")})}})}var i="show_partial_next",e="minimum_gutter_width",b="pageSize",a="pageNumber",f="height_animation_speed",d="max_height",j="firstVisibleItem",n="animating",r="hide_off_screen";return{repaint:function(a){var d=a.getDimensions(),f=d.viewport.width,d=d.getFirstCardWidth(),h=a.getAttr(e),k=g(a,f,d),l=f-d*k;if(a.getAttr(i)){var n=(l-h*(k+1))/d;l-=d*(n>0.5?0.5:n)}l=Math.ceil(l/(k+1));c.isFiniteNumber(l)||(l=h);a.setAttr("currentGutter",l);a.setAttr(b,k);var u=a.dom.$carousel,x=u.children("li"),
h=x.length,n=d+(l||0),f=k>=a.getAttr("set_size")?f:h*n;u.css("width",f+"px");var w=a.getAttr(j)-1,y=w+k-1,C=a.getAttr(r),A=l+"px",z=d+"px",B;x.each(function(a,b){B=!C||a>=w&&a<=y;b.style.marginLeft=A;b.style.visibility=B?"visible":"hidden";b.style.width=z;b.setAttribute("aria-hidden",B?"false":"true")});for(f={carousel:{width:f,outerWidth:u.outerWidth()},items:[]};h--;)f.items.push({width:d,outerWidth:n});a.updateDimensionsCache(f);a.gotoIndex(a.getAttr(j),{animationDuration:0});a.triggerEvent("repaint")},
init:function(a){var d=a.getAttr(e);c.isFiniteNumber(d)||(d=15,a.setAttr(e,d));a.setAttr("currentGutter",d);d=a.getAttr(f);c.isFiniteNumber(d)||a.setAttr(f,200);a.setAttr(i,!!a.getAttr(i));this.repaint(a);a.getAttr("transitionStrategy")!=="none"&&l(a);d=a.getDimensions();a.dom.$container.find(".a-carousel-left, .a-carousel-right, .a-carousel-viewport").css("height",Math.max(d.viewport.height,d.items[0]?d.items[0].height:0)+"px");d=a.getAttr(j);d>1&&(a.setAttr(j,d),d=Math.ceil(d/a.getAttr(b)),a.gotoPage(d));
k(a,this)},resize:function(a,b){b.viewport&&b.viewport.width&&this.repaint(a)}}});P.when("A","jQuery","p-detect","a-carousel-utils").register("a-carousel-display-swap",function(c,h,g,l){function k(a){var b=a.getAttr(j);if(!b||!c.isFiniteNumber(b))b=1;var e=b;a.dom.$carousel.children("li").not(".a-carousel-card-empty").each(function(a,b){var c=h(b).outerHeight();e=Math.max(c,e)});e>b&&(a.setAttr(j,e),g.capabilities.transition?b===1?a.dom.$viewport.height(e):c.animate(a.dom.$viewport,{height:e},a.getAttr(d),
"linear"):a.dom.$viewport.height(e),a.updateDimensionsCache({viewport:{height:e,outerHeight:e}}))}function i(b,c){for(var c=b.getAttr(a),d=b.dom.$carousel[0],e=b.dom.$carousel.children("li").get(),f;e.length>c;)f=e.pop(),d.removeChild(f)}function e(d,e){d.onChange(n,function(){k(d)});d.onChange(m,function(a){a||k(d)});d.onChange(a,function(a,c){if(a>c){c===0&&i(d);var e=d.getAttr("set_size"),f=d.getDimensions().getFirstCardWidth(),g=d.getAttr(b),j=d.getAttr(r),m=d.getAttr(n)-1,o=d.dom.$carousel.children("li"),
q=document.createDocumentFragment(),z;if(h.isArray(j)){for(var B=o.length;B<a;B++)z=B+m,o=h(['<li class="a-carousel-card a-carousel-card-empty" role="listitem" aria-setsize="',e,'" aria-posinset="',z+1,'" style="width:',f,"px; margin-left:",g,'px;">',d.getStaticLoader()].join("")),j[z]&&l.addElementToDom(o,l.getElementFromItem(j[z])),z>=e&&o.removeClass("a-carousel-card-empty"),q.appendChild(o[0]);d.dom.$carousel.append(q)}k(d)}else a<c&&i(d)});d.onChange("set_size",function(a,b){var g=d.getAttr(f),
j=d.getAttr(q),h=d.dom.$carousel.children("li");h.attr("aria-setsize",a);g===j&&a>b&&(h.length&&d.dom.$carousel.children("li").each(function(a,b){if(!c.trim(b.innerHTML))b.className+=" a-carousel-card-empty",b.innerHTML=d.getStaticLoader()}),b===0&&e.repaint(d))})}var b="currentGutter",a="pageSize",f="pageNumber",d="height_animation_speed",j="maxHeight",n="firstVisibleItem",r="fetchedItems",q="totalPages",m="loading";return{repaint:function(d){var e=d.getDimensions(),f=e.viewport.width,e=e.getFirstCardWidth(),
g=d.getAttr("minimum_gutter_width"),j,h=d.getAttr("minimum_gutter_width");j=d.getAttr("set_size");h=Math.max(Math.floor(f/(e+h)),1);h=c.isFiniteNumber(h)?h:1;j&&h>j&&(h=j);j=h;f=Math.ceil((f-e*j)/(j+1));c.isFiniteNumber(f)||(f=g);d.setAttr(b,f);d.setAttr(a,j);j=d.dom.$carousel;h=j.children("li");g=h.length;e+=f;var k=g*e;i(d);h.css("margin-left",f+"px");for(f={carousel:{width:k,outerWidth:j.outerWidth()},items:[]};g--;)f.items.push({outerWidth:e});d.updateDimensionsCache(f);d.triggerEvent("repaint")},
init:function(f){var g=f.getAttr("minimum_gutter_width");g||(g=15,f.setAttr("minimum_gutter_width",g));f.setAttr(b,g);g=f.getAttr(d);c.isFiniteNumber(g)||f.setAttr(d,200);e(f,this);this.repaint(f);g=f.getDimensions();f.dom.$container.find(".a-carousel-left, .a-carousel-right, .a-carousel-viewport").css("height",Math.max(g.viewport.height,g.items[0]?g.items[0].height:0)+"px");g=f.getAttr(n);g>1&&(f.setAttr(n,g),g=Math.ceil(g/f.getAttr(a)),f.gotoPage(g))},resize:function(a,b){b.viewport&&b.viewport.width&&
this.repaint(a)}}});P.when("A","jQuery").register("a-carousel-display-single",function(c){function h(g){if(g.getAttr(l)){var e=function(b){b||(h(g),g.unbind(l,e))};g.onChange(l,e)}else g.dom.$viewport.css("height","auto"),c.delay(function(){g.dom.$viewport.height(g.dom.$viewport.height())},0)}function g(c){c.getAttr(k)||(c.dom.$viewport.delegate("img","load",function(){h(c)}),c.onChange("loading",function(e){e||h(c)}))}var l="animating",k="fixed_height";return{repaint:function(c){var e=c.getDimensions(),
b=e.viewport.width,a=c.getAttr("show_partial_next"),f=c.getAttr("minimum_gutter_width"),d=c.getAttr("set_size");b-=f*2;a&&(b-=f+e.viewport.width/3);c.dom.$carousel.children("li").css({width:b+"px",margin:"0 "+f+"px"});e=b+f*2;a=e*d;c.dom.$carousel.width(a);for(a={carousel:{width:a},items:[]};d--;)a.items[d]={width:b,outerWidth:e};c.updateDimensionsCache(a);c.gotoIndex(c.getAttr("firstVisibleItem"),{animationDuration:0});c.triggerEvent("repaint")},init:function(i){var e=i.getAttr("minimum_gutter_width"),
b=i.getAttr("height_animation_speed");i.setAttr("minimum_gutter_width",c.isFiniteNumber(e)?e:14);i.setAttr("show_partial_next",!!i.getAttr("show_partial_next"));i.setAttr("height_animation_speed",c.isFiniteNumber(b)?b:200);i.setAttr("pageSize",1);i.dom.$carousel.children(":not(li:first-child)").remove();i.setAttr("pageSize",1);e=i.getAttr(k);c.isFiniteNumber(e)?i.dom.$viewport.height(e):i.setAttr(k,!1);i.dom.$carousel.children("li").css("visibility","visible");g(i);this.repaint(i);h(i)},resize:function(c,
e){e.viewport&&e.viewport.width&&(this.repaint(c),c.getAttr(k)||h(c))}}});P.when("a-carousel-stretchygoodness","a-carousel-display-swap","a-carousel-display-single").register("a-carousel-strategies-display",function(c,h,g){return{swap:h,single:g,stretchyGoodness:c,"default":"stretchyGoodness"}});P.when("A","jQuery","a-carousel-utils").register("a-carousel-transition-swap",function(c,h,g){function l(b,f){b.getAttr(i);b.getAttr(a);var j=b.getAttr(e),k=b.getAttr("delay_time");b.setAttr(d,!0);var l=b.dom.$carousel.children("li");
l.each(function(a,e){var i=h(e),n=f[a+j-1];i.hasClass(q)&&n&&c.delay(function(){g.addElementToDom(i,g.getElementFromItem(n));a===l.length-1&&b.setAttr(d,!1)},0+k)})}function k(d,h,k){var k=k||{},l=d.getAttr(i);if(h!==l){var s=d.getAttr(n),v=d.getAttr(r),u=d.getAttr("circular"),x=d.getAttr(a),w=k.delayTime||d.getAttr("delay_time"),y=(typeof k.direction==="number"?k.direction?k.direction<0?-1:1:isNaN(k.direction)?NaN:0:NaN)||NaN;!u&&h<1?h=1:!u&&h>v?h=v:u&&h<1?h=v:u&&h>v&&(h=1);y||(y=l<h?1:-1);k.startover&&
(y=w=1);d.setAttr(i,h);var C=x*(h-1),A=y===1?0:x-1;d.setAttr(j,!0);var z=c.interval(function(){var a=C+A;if(z!==d.getAttr(b))clearInterval(z);else if(y===-1&&A<0||y===1&&A>=x)d.setAttr(b,void 0),d.setAttr(e,C+1),d.setAttr(j,!1);else{var c=d.dom.$carousel.children("li").eq(A);c.attr("aria-posinset",a+1);var h=d.getAttr(f)[a];h?g.addElementToDom(c,g.getElementFromItem(h)):a<s?c.html(d.getStaticLoader()).addClass(q):c.empty().removeClass(q);A+=y}},w);d.setAttr(b,z)}}var i="pageNumber",e="firstVisibleItem",
b="responsiveTimerId",a="pageSize",f="fetchedItems",d="loading",j="animating",n="set_size",r="totalPages",q="a-carousel-card-empty";return{init:function(a){var d=a.getAttr("delay_time");c.isFiniteNumber(d)||a.setAttr("delay_time",50);a.onChange(b,function(a,b){b!==a&&clearInterval(b)});a.onChange(f,function(b){l(a,b)})},gotoIndex:function(b,c,d){var d=d||{},e=b.getAttr(a),c=Math.ceil(c/e);k(b,c,d)},gotoNextPage:function(a,b){var b=b||{},c=a.getAttr(i);b.direction=-1;k(a,++c,b)},gotoPrevPage:function(a,
b){var b=b||{},c=a.getAttr(i);b.direction=1;k(a,--c,b)},gotoPage:k}});P.when("A","jQuery","a-carousel-utils").register("a-carousel-transition-slide",function(c,h,g){function l(c){var e=c.dom.$carousel.children("li").length,h=e+1,i=c.getAttr(f),k=i-e;if(k>0){for(var k=h+k-1,l=[];h<=k;h++)l.push(c.getEmptyCard(h,i));c.dom.$carousel.append(l.join(""));c.setAttr(a,!0);for(var k=c.getAttr(b),l=c.dom.$carousel.children("li"),t,h=e;h<i;h++)if(t=k[h]){var o=g.getElementFromItem(t),e=l.eq(h);g.addElementToDom(e,
o);k[h]=g.clearElementFromItem(t)}c.strategies.display.repaint&&c.strategies.display.repaint(c);c.setAttr(b,k,!0);c.setAttr(a,!1)}}function k(c,f,h){if(c.getAttr(e)){var i=function(a){a||(k(c,f,h),c.unbind(e,i))};c.onChange(e,i)}else{var l=c.getDimensions(),m=l.items;if(!h||f.length>=h.length){c.setAttr(a,!0);var t=c.dom.$carousel.children("li");l.getFirstCardWidth();for(var l=f.length,o,p;l--;)if(p=f[l],p!==h[l]&&p){var s=g.getElementFromItem(p);o=t.eq(l);o.length&&(g.addElementToDom(o,s),m[l]={width:o.width(),
outerWidth:o.outerWidth(!0),height:o.height(),outerHeight:o.outerHeight(!0)},f[l]=g.clearElementFromItem(p))}}c.setAttr(b,f);c.updateDimensionsCache({items:m});c.setAttr(a,!1)}}var i=c.capabilities.touch?2E3:3E3,e="animating",b="fetchedItems",a="loading",f="set_size";return{wrapToFirst:function(a){var b=a.getAttr("pageSize"),c=a.getDimensions().getFirstCardWidth(),e=this;a.gotoPixel(b*c*-1,{animationDuration:0,callback:function(){a.setAttr("currentlyWrapping",!1);e.gotoPage(a,1)}})},wrapToLast:function(a){a.getAttr("pageSize");
var b=a.getAttr("totalPages"),c=this,e=a.getDimensions().carousel.width;a.gotoPixel(e,{animationDuration:0,callback:function(){a.setAttr("currentlyWrapping",!1);c.gotoPage(a,b)}})},gotoPage:function(a,b,c){c=c||{};(c.animationDuration===void 0||c.animationDuration>0)&&!c.silent&&a.setAttr(e,!0);var f=a.getAttr("totalPages");b>0&&b<=f&&a.setAttr("pageNumber",b);var g=a.getAttr("circular");if(!g&&b<1)b=1,c.animationDuration=Math.pow(a.getAttr("animation_speed")*a.getAttr("springiness"));else if(!g&&
b>f)b=f,c.animationDuration=Math.pow(a.getAttr("animation_speed"),a.getAttr("springiness"));this.gotoIndex(a,a.getAttr("pageSize")*(b-1)+1,c)},gotoIndex:function(a,b,g){g=g||{};(g.animationDuration===void 0||g.animationDuration>0)&&!g.silent&&a.setAttr(e,!0);var h=a.getAttr("circular")&&!a.getAttr("currentlyWrapping"),i=a.getDimensions(),k=g.callback,l=this,o=!1,i=i.viewport.width,p=Math.ceil(b/a.getAttr("pageSize")),s;p!==a.getAttr("pageNumber")&&p>0&&p<=a.getAttr("totalPages")&&a.setAttr("pageNumber",
p);a.setAttr("firstVisibleItem",b);b<1?h&&(o=i*-1,s=function(){k&&k();l.wrapToLast(a)}):b>a.getAttr(f)?h&&(o=a.getAttr("px")+i,s=function(){k&&k();l.wrapToFirst(a)}):o=a.getItemOffset(b);s?(a.setAttr("currentlyWrapping",!0),g.callback=s,g.easingFunction=g.easingFunction||a.getAttr("wrap_easing"),g.animationSpeed=(c.isFiniteNumber(g.animationSpeed)?g.animationSpeed:a.getAttr("animation_speed"))*1.3):g.callback=k;o!==!1&&this.gotoPixel(a,o,g)},gotoPixel:function(a,b,f){if(b!==a.getAttr("px")){var f=
f||{},g=f.easingFunction||"ease-out",h=f.callback;a.getDimensions();var i,k;f.animationDuration!==void 0?i=f.animationDuration:(i=c.isFiniteNumber(f.animationSpeed)?f.animationSpeed:a.getAttr("animation_speed"),k=Math.abs(b-a.getAttr("px")),i=i===0?0:Math.floor(k/i*1E3));i>0&&!f.silent&&a.setAttr(e,!0);k=i>0?function(){h&&h();a.setAttr(e,c.isAnimated(a.dom.$carousel),f.silent)}:h;c.isFiniteNumber(b)?(a.setAttr("px",b),c.animate(a.dom.$carousel,{left:b*-1,top:0},i,g,k)):P.error("Target pixel is not a finite number",
"a-carousel-transition-slide","gotoPixel")}},gotoNextPage:function(a,b){var c=a.getAttr("pageNumber");this.gotoPage(a,++c,b)},gotoPrevPage:function(a,b){var c=a.getAttr("pageNumber");this.gotoPage(a,--c,b)},onSwipe:function(a,b){if(!a.getAttr("currentlyWrapping")){var e=a.getAttr("firstVisibleItem"),f=a.getAttr("pageSize"),g=b.velocityX<0,h=e,i=a.getAttr("pageNumber");g&&i<a.getAttr("totalPages")?h=e+f:!g&&i>1&&(h=e-f);f=a.getAttr("px");i=a.getItemOffset(h);f=Math.abs((g?f-i:f+i)*1E3/b.velocityX);
f=Math.min(f,750);f=Math.max(f,c.viewport().width*0.2);f={animationDuration:f,easingFunction:a.getAttr("touch_easing")};h===e&&!a.getAttr("circular")?(f.animationDuration=a.getAttr("animation_speed")*0.8,a.gotoIndex(h,{easingFunction:a.getAttr("touch_easing"),animationDuration:400,animationSpeed:null})):g?a.gotoNextPage(f):a.gotoPrevPage(f)}},onPan:function(a,b){if(!a.getAttr("currentlyWrapping")){a.setAttr(e,!0);var f=a.getAttr("px")-b.deltaX,g=a.getAttr("firstVisibleItem"),h=a.getAttr("circular"),
i=a.getAttr("pageNumber"),k=a.getAttr("totalPages");if(b.ended){var f={easingFunction:a.getAttr("touch_easing"),animationSpeed:c.viewport().width*0.95,silent:!0},l=a.getDimensions(),i=a.getAttr("pageNumber"),h=a.getAttr("circular"),g=b.touchDeltaX,l=Math.abs(g)<l.viewport.width*0.4;!h&&(g<0&&k===i||g>0&&i===1)||l?a.gotoPage(i,f):g<0?a.gotoNextPage(f):a.gotoPrevPage(f)}else{if(!h&&(h=a.getAttr("springiness"),g=a.getItemOffset(g),f<0&&b.touchDeltaX>0||i===k&&b.touchDeltaX<0))i=Math.pow(Math.abs(b.touchDeltaX),
h),f=f<=0?i*-1:g+i;a.gotoPixel(f,{easingFunction:a.getAttr("touch_easing"),animationDuration:0,silent:!0})}}},init:function(a){var e=a.getAttr("animation_speed");c.isFiniteNumber(e)||a.setAttr("animation_speed",i);a.getAttr("wrap_easing")===void 0&&a.setAttr("wrap_easing","linear");l(a);a.onChange(b,function(b,c){k(a,b,c)});a.onChange(f,function(b,c){b>c&&l(a)})}}});P.when("A","jQuery","a-carousel-transition-slide","a-carousel-transition-swap").register("a-carousel-strategies-transition",function(c,
h,g,l){return{slideHorizontal:g,swap:l,none:{gotoIndex:c.constants.NOOP,gotoNextpage:c.constants.NOOP,gotoPrevPage:c.constants.NOOP,gotoPage:c.constants.NOOP,init:c.constants.NOOP},"default":"slideHorizontal"}});P.when("A").register("a-carousel-ajax-standard",function(c){function h(a,f,d){d._=c.now();a.triggerEvent("beforeAjax",{url:f,params:d});c.get(f,{success:function(c){d.needSetSize&&((!c||!c.length)&&P.error("Carousel requires a set_size and none was returned by the fallback AJAX request","a-carousel-ajax-standard",
"sendRequest"),a.setAttr(e,c[0].setSize?c[0].setSize:c.length));for(var g=a.getAttr("fetchedItems"),h;(h=c.pop())!==l;)g[d.offset+c.length]=h;d.needSetSize&&a.init();a.setAttr("fetchedItems",g);a.setAttr(b,!1);d.needSetSize&&a.getAttr(k)>=g.length&&a.strategies.ajax.wantCurrentPage(a);a.triggerEvent("ajaxSuccess",{url:f,params:d})},params:d})}function g(a){var b=a.getAttr(i);b&&(clearTimeout(b),a.setAttr(i,null))}var l,k="pageSize",i="requestTimer",e="set_size",b="ajaxLock";return{getItems:function(a,
b,d){var e=a.getAttr("ajax");a.setAttr(i,c.delay(h,e.fetch_delay,a,b,d))},wantNextPage:function(a){g(a);if(a.getAttr("ajax").prefetch_next_page){var b=a.getAttr(k),c=b*2;a.getAttr("show_partial_next")&&c++;this.want(a,(a.getAttr("pageNumber")-1)*b,c)}else this.wantCurrentPage(a)},wantPrevPage:function(a){g(a);if(a.getAttr("ajax").prefetch_next_page){var b=a.getAttr(k),c=b*2;a.getAttr("show_partial_next")&&c++;this.want(a,(a.getAttr("pageNumber")-2)*b,c)}else this.wantCurrentPage(a)},wantCurrentPage:function(a){g(a);
var b=a.getAttr(k),c=a.getAttr("show_partial_next")?b+1:b;this.want(a,(a.getAttr("pageNumber")-1)*b,c)},want:function(a,c,d){if(!a.getAttr(b)){g(a);var h=a.getAttr("ajax"),i=a.getAttr(e);if(h.url){var k=a.getAttr("fetchedItems"),l=h.id_list;l||(l=[]);var m=c>-1?c:0,c=c+d-1,t=h.params||{},o=[],p=[];if(i===0)l.length&&(i=l),t.needSetSize="true",a.setAttr(b,!0);for(d===-1&&i&&(c=i);m<=c&&m<i;)k[m]||((d=l[m])&&o.push(d),p.push(m),k[m]=!1),m++;a.setAttr("fetchedItems",k,{silent:!0});t.count=p.length;t.offset=
p[0]||0;o.length>0&&(t[h.id_param_name]=o.join(","));(p.length>0||t.needSetSize)&&this.getItems(a,h.url,t)}}},init:function(a){var b=a.getAttr("ajax");if(!c.isFiniteNumber(b.fetch_delay))b.fetch_delay=500;b.id_param_name=b.id_param_name||"ids";b.prefetch_next_page=b.prefetch_next_page===l?!0:!!b.prefetch_next_page;a.setAttr("ajax",b);a.getAttr(e)||this.want(a,0,-1)},afterInit:function(a){a.strategies.ajax.wantCurrentPage(a);a.onChange("pageNumber",function(b,c){b>c?a.strategies.ajax.wantNextPage(a):
a.strategies.ajax.wantPrevPage(a)})}}});P.when("A","a-carousel-ajax-standard").register("a-carousel-strategies-ajax",function(c,h){return{standard:h,none:{wantNextPage:c.constants.NOOP,wantPrevPage:c.constants.NOOP,wantCurrentPage:c.constants.NOOP,want:c.constants.NOOP,init:c.constants.NOOP},"default":"standard"}});P.when("a-carousel-strategies-display","a-carousel-strategies-transition","a-carousel-strategies-ajax").register("a-carousel-strategies",function(c,h,g){return{display:c,transition:h,ajax:g}});
P.when("A","jQuery","a-carousel-classes","a-carousel-strategies").register("a-carousel-framework",function(c,h,g,l){function k(a,b){P.error(b.message,"a-carousel-framework",a)}function i(a){for(var b=r.length;b--;)if(r[b]===a){r.splice(b,1);break}try{a.init();n.push(a);a.__initialized=!0;a.dom.$container.addClass("a-carousel-initialized");var d=a.getAttr("name");d&&o[d]&&c.each(o[d],function(b){b(a)})}catch(e){k("initializeCarousel",e)}}function e(a,b){var c=b[a+"Strategy"];c||(c=l[a]["default"]);
return l[a][c]}function b(a){for(var b=a.length,c;b--;)if(c=a[b],!c.dom.$container.length||!t.find(c.dom.$container).length)(c=c.getAttr("name"))&&delete m[c],a.splice(b,1)}function a(){b(r);b(n)}function f(){h(".a-carousel-static").each(function(){var a=h(this),b=a.data("a-carousel-options")||{};b.displayStrategy=a.data("a-display-strategy");b.transitionStrategy=a.data("a-transition-strategy");b.ajaxStrategy=a.data("a-ajax-strategy");b.carouselClass=a.data("a-class");var d=e("display",b),f=e("transition",
b),l=e("ajax",b),n=b.carouselClass;n||(n=g["default"]);n=g[n];if(!(n===j||d===j||f===j||l===j)){var d={display:d,transition:f,ajax:l},o;try{o=new n(a,d,b),o.__id=++p,a.data("a-carousel",o),a.removeClass("a-carousel-static"),c.onScreen(a)?c.delay(i,10,o):r.push(o),b.name&&(m[b.name]=o)}catch(q){k("createCarousel",q)}}})}function d(){c.each(r,function(a){c.onScreen(a.dom.$container)&&i(a)})}var j,n=[],r=[],q=!1,m={},t=h(document),o={},p=0;c.on("resize orientationchange",function(b,d){a();if(d.height||
d.width)c.delay(function(){c.each(n,function(a){try{a.resize()}catch(b){k("Carousel "+(a.name?"named "+a.name:"")+" resize handler",b)}})},c.capabilities.mobile||c.capabilities.tablet?100:0)});c.on("a:popover:afterSlideOut",function(){c.each(n,function(a){try{a.resize()}catch(b){k("Carousel "+(a.name?"named "+a.name:"")+" resize handler triggered from afterSlideOut callback",b)}})});c.on("a:pageUpdate ready",f);c.on("a:pageUpdate",a);c.on("scroll",function(){f();d()});c.on.ready(function(){q=!0});
var s={getCarousel:function(a){a.jquery||(a=h(a));return a.closest(".a-carousel-container").data("a-carousel")},getCarouselByName:function(a){return m[a]},createAll:function(){a();f()},initializeAll:d,kill:function(a){a.jquery||(a=h(a));if(a.length&&(a=a.closest(".a-carousel-container"),a.length)){var b=a.data("a-carousel");if(b){var d=c.indexOfArray(n,b);d>-1?(n[d].name&&delete m[n[d].name],n.splice(d,1)):(d=c.indexOfArray(r,b),d>-1&&(r[d].name&&delete m[r[d].name],r.splice(d,1)))}a.remove()}},registerStrategy:function(a,
b,c){if(!l[a])l.type={};l[a][b]&&P.error("Attempted to register a "+a+" strategy which already exists: "+b,"a-carousel-framework","registerStrategy");l[a][b]=c;q&&f()},registerCarouselClass:function(a,b){g[a]&&P.error("Attempted to register a carousel class which already exists: "+a,"a-carousel-framework","registerCarouselClass");h.isFunction(b)||P.error("Attempted to register carousel class "+a+" without a constructor function.","a-carousel-framework","registerCarouselClass");g[a]=b;q&&f()},getAllCarousels:function(){return n.concat(r)},
onInit:function(a,b){if(a&&(o[a]||(o[a]=[]),h.isFunction(b))){o[a].push(b);var c=m[a];c&&c.__initialized&&b(c)}}};Object.freeze!==j&&Object.freeze(s);return s})});P.execute(function(){});